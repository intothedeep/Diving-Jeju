var main=function(A){function Fb(a,b,c,d,e,f,h,j,l,k,n,y,o,p,g,v,r,u,w,D,P,K,U,E,Z,F,m,fa,oa,wa,J,ra,t){if(!(this instanceof arguments.callee))return new arguments.callee;Application=this;this.fixTitleBug();this.authController=f;this.windowController=l;this.airMapTileController=ra;this.historyController=t;l.onClickAdBanner.add(function(){});this.issueMapController=U;this.relatedAddressController=wa;this.whatsHereController=J;this.logHistory=m;A.t_address&&(jQuery("#info\\.header\\.approxAddr").text(decodeURIComponent(A.t_address)),
jQuery("#info\\.header\\.approxAddr, #localInfo\\.map .accessLocation").on("click",function(){q.click("control","move_access_position");this.map.setCenter(new daum.maps.Coords(String.base92(A.t_mapx),String.base92(A.t_mapy)))}.bind(this)));this.weatherWindowController=d;this.infoWindowManager=e;var z=Fb.fetchMapOption_(j);this.mainMapController=h;this.map=K;c.onMapResize.add(function(){K.relayout()});this.localInfoController=k;this.busLineController=n;this.flagSearchController=y;this.keywordSearchController=
o;this.carRouteSearchController=D;this.transitRouteSearchController=P;this.subwaySearchController=p;this.busSearchController=g;this.aoiManager=fa;this.flagController=E;this.flagController.onChange.add(function(){this.flagSearchController.setActive(true)},this);this.flagController.onAdd.add(function(){this.flagSearchController.setActive(true)},this);this.localPlatformAdController_=F;this.roadviewController=v;o.onActive.add(function(){if(o.getActive()){y.setActive(false);p.setActive(false);w.setActive(false);
g.setActive(false);n.setActive(false);fa.getController(fa.KEY.FLAG).hide();fa.getController(fa.KEY.SEARCH).show();v.close();v.removeLastMarker();E.show(false);F.show()}});y.onActive.add(function(a){if(y.getActive()){o.setActive(false);p.setActive(false);w.setActive(false);g.setActive(false);n.setActive(false);fa.getController(fa.KEY.SEARCH).hide();fa.getController(fa.KEY.FLAG).show();a||v.close();e.close();v.removeLastMarker();E.show(true);F.hide()}});g.onActive.add(function(){if(g.getActive()){o.setActive(false);
y.setActive(false);p.setActive(false);w.setActive(false);n.setActive(false);fa.hideAll();v.close();v.removeLastMarker();e.close();E.show(false);F.hide();setTimeout("document.body.className=document.body.className",0)}});p.onActive.add(function(){if(p.getActive()){o.setActive(false);y.setActive(false);w.setActive(false);g.setActive(false);n.setActive(false);E.hide();F.hide()}});w.onActive.add(function(){if(w.getActive()){o.setActive(false);y.setActive(false);g.setActive(false);p.setActive(false);n.setActive(false);
fa.hideAll();v.close();v.removeLastMarker();e.close();E.show(false);F.hide()}});o.setActive(!0);this.homeInfoController=r;this.fiyFrameController=u;this.favoriteController=w;this.readRestParams_(j,z.center);this.prefixKeyword="";A.QUERY&&o.setKeyword(QUERY);setTimeout('document.body.className+=" FIXIE"',0);"ontouchstart"in document||jQuery("body").addClass("NOTOUCH")}function Ab(a,b){if(!a)return[];if("string"==typeof a)return a.split(RegExp());try{return Array.prototype.slice.call(a,b||0)}catch(c){}for(var d=
[],e=a.length,f=b||0;f<e;++f)d[f]=a[f];return d}function ya(a){var b=Ab(arguments,1);return function(){return a.apply(this,b.concat(Ab(arguments)))}}function Q(a,b){var c=b.prototype;Object.keys(c).forEach(function(b){b in a||(a[b]=c[b])});b.apply(a,Ab(arguments,2))}function R(a){function b(b){return a.apply(this,b)}b.prototype=a.prototype;return function(){return new b(arguments)}}function sb(a){this.map_=a;this.onTimestamp=new m}function jc(a,b,c,d,e,f,h){function j(a){c.set("air",!1);h.getState()&&
h.turnOff();if(a){var b=a;"wea"==b&&(b="temp");require("log/Tiara").log("/fake/weather_"+b);n=a;"wea"==a?(h.setRegionCode(e.getCode()),h.click(),d.getLegend("air")&&d.setLegend("air",!1)):(a=jc.AIRTYPE.indexOf(a)+1||1,(k=jc.AIRTILES[a-1]+l)&&c.set("air",!0),d.setAirCate(a),d.setairdate(),d.setLegend("air",!0))}else d.getLegend("air")&&d.setLegend("air",!1)}var l=1<A.devicePixelRatio&&"https:"!=A.location.protocol?"_HD":"";h.setLocalInfoCont(e);h.onCode.add(f.request,f);h.off.add(f.closeWindow,f);
var k="";daum.maps.MapTypeId.AIR||daum.maps.Tileset.add("AIR",new daum.maps.Tileset(256,256,function(a,b,c){return"http://airinfo.map.kakao.com/mapserver/file/"+k+"/L"+c+"/"+b+"/"+a+".png"},[],!0));c.setId("air",daum.maps.MapTypeId.AIR);new daum.maps.Coords(685487,813958);var n="wea";this.setActive=function(a){a&&n?j(n):j("")};this.setAirType=function(a){j(a)};this.getAirType=function(){return n};this.setNoJump=function(){};this.getAirTileName=function(){return k}}function W(a,b,c,d,e){this.map_=
a;this.roadviewController_=b;this.Aoi_=c;this.aoiManager_=d;this.miniTooltipManager_=e;this.isBounds_=!1;this.selectedItem_=null;this.initModel_();this.HIGHLIGHT_LINE_OPTION={strokeWeight:6,strokeColor:"#d9025c",strokeOpacity:0.8,highlight:!0,additionalStyles:[{strokeWeight:4,strokeColor:"#fe378a",strokeOpacity:0.6}]};this.DIMMED_LINE_OPTION={strokeColor:"#fe378a",strokeWeight:5,strokeOpacity:0.5,highlight:!1};this.mousedownSearchResult=null;this.onIdle=function(){this.redrawLines();this.setAllMarker()}.bind(this);
this.onAoiMousedown=new m;this.onClear=new m;this.onFind=new m}function bd(a){function b(a){a=a.coords;j[j.length-1]=a;d();k.setPosition(a)}function c(b){h.$("info").addClass("HIDDEN");h.$("hider").on("click",function(){h.remove()});k=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:3,content:h.get(0),map:a});l.push(k)}function d(){n.setPath(j);var a=n.getArea(),b=1E6<=a;b&&(a*=1.0E-6);h.$("area").text(e(a));h.$("unit").html((b?"k":"")+"m<sup>2</sup>")}function e(a){var b,a=a.toFixed(2);
b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function f(b){var c=jQuery("<a class=AreaToolCloser href=# />");c.on("mousedown click",function(a){"click"==a.type&&o();a.stopPropagation()});l.push(new daum.maps.Billboard({position:b,xAnchor:0,zIndex:3,content:c.get(0),map:a}))}var h=G("AreaToolDetail"),j=[],l=[],k=null,n=null,y=function(){j.pop();if(2<j.length){d();var c=j[j.length-1];f(c);k.setPosition(c);jQuery(k.getContent()).on("mousedown",
function(a){a.stopPropagation()});h.$("help").addClass("HIDDEN")}else o();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)},o=function(){l.forEach(function(a){a.setMap(null)});l.length=0;a.setCursor(null)};this.handleClick=function(e){0==j.length?(c(e),j.push(e,e),n=new daum.maps.Polygon({strokeWeight:3,strokeColor:"#1833e5",strokeOpacity:0.6,fillColor:"#1833e5",fillOpacity:0.2,path:j,map:a}),l.push(n),daum.maps.event.addListener(a,"mousemove",b)):(2===j.length&&h.$("info").removeClass("HIDDEN"),
j.push(e),d());var f=jQuery("<span class=AreaToolDot />");l.push(new daum.maps.Billboard({position:e,zIndex:1,content:f.get(0),map:a}));return!0};this.activate=function(){a.setCursor("url(http://i1.daumcdn.net/dmaps/apis/cursor/area.cur.ico), crosshair")};this.deactivate=function(){a.setCursor(null)};this.freeze=function(a){y(a)};this.close=function(){o()}}function Kb(a,b){this.id_=a;this.view_=b;b.onClick.add(this.click_,this);this.busLine_=null;this.overlays_=new ta(Application.map)}function Xa(a){Q(this,
mb);this.view_=a;a.closeBtnClick.add(this.closeLayer,this);a.onViewport.add(function(){this.totalPath();this.onViewPort.notify()},this);a.refreshBtnClick.add(this.update_,this);a.onBusLineItemClick.add(this.busLineItemViewClick_,this);this.onActive.add(this.changeActive_,this);this.onViewPort=new m}function $(a,b,c,d,e,f){Q(this,mb);var h=e.hcodeList;this.regionList.forEach(function(a){var b=h.filter(function(b){return b.id!=a.id&&b.id.substring(0,2)==a.id});0<b.length&&(a.subregion=b)});this._viewLayout=
b;this.map_=a;this.buttonFactory_=c;this.onActive.add(this.changeActive_,this);this.regionName_=this.result_=null;this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.guideSelected_=!1;this.dssBusObj=null;this.dssSearchInType="";this.itemTotalLength=0;this.createMap_();this.createElements_();this.panel_=g.$("info.bus.search");this.introView_=g.$("info.busIntro");this.landmarkMarkers_=new ta(a);a=this.busMessageView_=new Lc;a.onBusClick.add(function(a){var b=
this.regionInfo_.id,c=this.typeInfo_.id;this.dssBusObj={pg:1,regionid:b,typeid:c,qatype:a.qaType,mkey:this.createMKey()};t.log("search_q_type",this.busNumber_,{typeid:"message",tab:"number"==this.mode_?"busname_realbus":"busstop_realbus",qatype:a.qaType});this.dssSearchInType="";"number"==this.mode_?(this.qaTypeForBusNumber_=a.qaType,X.findAll(this.busNumber_,1,{regionId:b,typeId:c,qaType:a.qaType},this.loadNumberData,this)):"stop"==this.mode_&&(this.qaTypeForBusStop_=a.qaType,Y.findAllByName(this.busNumber_,
1,{regionId:b,typeId:c,qaType:a.qaType},this.loadStopData_,this));this.paginationView_.setPage(1)},this);a.onBusSelect.add(function(a){t.log("search_q_type",this.busNumber_,{typeid:"region",tab:"number"==this.mode_?"busname_realbus":"busstop_realbus",qatype:a.qaType,sq:a.keyword});this.dssSearchInType="";this.guideSelected_=!0;"number"==this.mode_?(this.qaTypeForBusNumber_=a.qaType,g.$("info.route.searchBox.number.name").setValue(a.keyword)):"stop"==this.mode_&&(this.qaTypeForBusStop_=a.qaType,g.$("info.route.searchBox.stop.name").setValue(a.keyword));
this.submit_()},this);g.$("info.bus.guide").addChild(a.getPane());g.$("info.bus.searchBoxNumber").onSubmit.add(this.submit_,this);g.$("info.bus.searchBoxStop").onSubmit.add(this.submit_,this);g.$("info.bus.region.local").onClick.add(this.showBusLocalBox_,this);g.$("info.bus.region.subLocal").onClick.add(this.showBusSubLocalBox_,this);ca.$("search.busLocal").onHide.add(function(){g.$("info.bus.region.local.button").removeClass("buslocal-ACTIVE")},this);ca.$("search.busLocal").onShow.add(function(){var a=
jQuery("#search\\.busLocal").scrollTop();g.$("search.busLocal").scrollTo(a-1);g.$("search.busLocal").scrollTo(0)});"kyonggi kangwon chungbook chungnam jeonbuk jeonnam kyungbook kyungnam".split(" ").forEach(function(a){var b="search."+a+"Local";document.getElementById(b)&&(ca.$(b).onHide.add(function(){g.$("info.bus.region.subLocal.button").removeClass("busSublocal-ACTIVE")},this),ca.$(b).onShow.add(function(){var c=jQuery("#search\\."+a+"Local").scrollTop();g.$(b).scrollTo(c-1);g.$(b).scrollTo(0)},
this))},this);a=this.noBusView_=Xb.createBus();b=this.noBusNameView_=Xb.createBusName();g.$("info.noBus").addChild(a);g.$("info.noBus").addChild(b);g.$("info.bus.removeAll").onClick.add(function(){q.click("businfo","delete");Application.mainMapController.tool.clear()},this);a=this.busTab_=new Ra;a.add(g.$("search.busMethodtype.number"),g.$("info.bus.searchBox.number"));a.add(g.$("search.busMethodtype.stop"),g.$("info.bus.searchBox.stop"));a.add(g.$("search.busMethodtype.region"),g.$("info.bus.region"));
a.onChange.add(this.changeTab_,this);g.$("info.route.searchBox.number.name").setPlaceholder("\ubc84\uc2a4\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694");g.$("info.route.searchBox.number.delete").onClick.add(function(){g.$("info.route.searchBox.number.name").setValue("").focusAndSelect();g.$("info.route.searchBox.number.delete").hide()},this);g.$("info.route.searchBox.number.name").onFocus.add(function(){g.$("info.route.searchBox.number.delete").hide();g.$("info.route.searchBox.number.name").addClass("BUSSEARCH-ACTIVE")},
this);jQuery("#info\\.bus\\.searchBoxNumber").blurout(function(){g.$("info.route.searchBox.number.name").removeClass("BUSSEARCH-ACTIVE");(g.$("info.route.searchBox.number.name").getValue()||this.preNumber_)&&g.$("info.route.searchBox.number.delete").show();this.preNumber_&&g.$("info.route.searchBox.number.name").setValue(this.preNumber_)}.bind(this));g.$("info.route.searchBox.stop.name").setPlaceholder("\ubc84\uc2a4\uc815\ub958\uc7a5\uc744 \uc785\ub825\ud558\uc138\uc694");g.$("info.route.searchBox.stop.delete").onClick.add(function(){g.$("info.route.searchBox.stop.name").setValue("").focusAndSelect();
g.$("info.route.searchBox.stop.delete").hide()},this);g.$("info.route.searchBox.stop.name").onFocus.add(function(){g.$("info.route.searchBox.number.delete").hide();g.$("info.route.searchBox.stop.name").addClass("BUSSEARCH-ACTIVE")},this);jQuery("#info\\.bus\\.searchBoxStop").blurout(function(){g.$("info.route.searchBox.stop.name").removeClass("BUSSEARCH-ACTIVE");(g.$("info.route.searchBox.stop.name").getValue()||this.preStop_)&&g.$("info.route.searchBox.stop.delete").show();this.preStop_&&g.$("info.route.searchBox.stop.name").setValue(this.preStop_)}.bind(this));
var j=this.busLocal=new tb;j.onChange.add(this.busLocalChanged_,this);this.regionList.forEach(function(a){var b=g.$("search.busLocal."+a.code);b.addClass("INACTIVE");j.add(b,a.id,a.label)});this.selectBox={};for(var l in this.regionMap)if(this.regionMap[l].subregion){var k=this.selectBox[l]=new tb;k.onChange.add(this.subLocalChanged_,this);this.regionMap[l].subregion.forEach(function(a){var b=g.$("search.busLocal."+a.id);b.addClass("INACTIVE");k.add(b,a.id,a.name)},this)}this.busSubLocal=new tb;this.hcode=
"11";this.scode="0";a=this.paginationView_=new Sa("info.bus.page");a.onPage.add(this.setPage,this);var n="11";this.regionList.some(function(a){if(A.t_address&&0<=A.t_address.indexOf(a.name))return n=a.id,!0});l=require("url");a=new d({id:"info.route.searchBox.number.name",url:l.ETC_SUGGEST+"?cate=BUSN-"+n,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},itemParser:$.onSuggestParseItem,logKey:"bussuggest"});new Yb(f,f.TYPE_LIST.BUS_LINE,a);d=new d({id:"info.route.searchBox.stop.name",
url:l.ETC_SUGGEST+"?cate=ITSA-"+n,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},itemParser:$.onSuggestParseItem,logKey:"busstopsuggest"});new Yb(f,f.TYPE_LIST.BUS_STOP,d)}function aa(a,b,c,d,e,f,h,j){Q(this,mb);this.map_=a;this.infoWindowManager_=d;this.miniTooltipManager_=e;this.onSearchBtnClick=new m;this.onResult=new m;this.onActive.add(this.changeActive_,this);this.panels_=new Ra;this.themePoiControlView_=c;this.controlView_=this.themePoiControlView_.getRouteView();
this.controlView_.onChange.add(this.handleControlView_,this);this.previewLines=[];this.previewLinesBounds=null;this.previewHoverLines=[];this.previewStartLines=[];this.previewEndLines=[];this.checkpoints_=new ta(a);this.overlays_=new ta(a);this.trafficLines_=new ta(a);this.wholeLine_=null;this.noticeLine_=new ta(a);this.accidentMarkers_=new ta(a);this.cctvMarkers_=new ta(a);this.gasStationMarkers_=new ta(a);this.restAreaMarkers_=new ta(a);this.panel_=h;this.panel_.onItemHover.add(function(a){this.setPreviewHoverLine(a.index,
a.hover)},this);this.panel_.onItemDetail.add(function(a){a.detail?(this.setPreviewLines(!1),this.setDetailRoute(a.index)):(this.clearDetailRoute(),this.setPreviewLines(!0),this.setPreviewHoverLine(a.index,!0))},this);this.panel_.onAccClick.add(this.accidentInfoClickHandler_,this);this.panel_.onChange.add(this.handleMethod_,this);this.panel_.onCheckpoint.add(function(a){this.map_.setLevel(3);this.openFlagInfoWindowAndZoom_(a)},this);this.panel_.onRoadview.add(function(a){var b=this.route_.checkpoints[a].roadview;
b.coords=this.route_.checkpoints[a].coords;this.roadviewController_.show(b);q.click("roadview","by_route_car")},this);this.panel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);this.panel_.onRoadviewVideo.add(function(){var a=Bb(),b=Application.flagSearchController.getWaypoints();Da.showRoadviewVideo(b,{routeMode:this.mode_,routeOption:this.option_,distance:this.roadviewRoute_.distance||0},function(b){var c=b.text("status");"C"==c?(c=b.text("id"),this.popup_&&this.popup_.close(),
b="ActiveXObject"in A?"width=596,height=681":"width=600,height=685",b+=",left="+((A.screenLeft||100)+100)+"px,top="+(A.screen&&700<A.screen.height?(A.screenTop||0)+50:0)+"px",(c=A.open("http://rvdrive.map.daum.net/view/"+c,"roadviewVideo",b))?this.popup_=c:alert("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")):(b="\ub85c\ub4dc\ubdf0 \uae38\ucc3e\uae30 \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.\n( \uc624\ub958\uac00 \uacc4\uc18d \ubc1c\uc0dd \ud560 \uacbd\uc6b0, \ucd9c\ub3c4\ucc29\uc9c0\ub97c \ub2e4\uc2dc \uc124\uc815\ud574 \uc8fc\uc138\uc694. )",
"RRE"==c&&(b="\ub85c\ub4dc\ubdf0 \uae38\ucc3e\uae30 \uacb0\uacfc\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),alert(b));a.dispose();setTimeout(function(){this.panel_.clickableRoadviewVideo()}.bind(this),500)},this);q.click("route","go_car_roadview_video");t.log("roadview_video_create",b.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)}),{cnt:1,routeMode:this.mode_,routeOption:this.option_,distance:this.roadviewRoute_.distance||0})},this);g.$("info.flagsearch").addChild(this.panel_);
this.panels_.add(null,this.panel_);this.panel_.hide();this.mapTypeControl_=j;this.routeset_=this.route_=this.roadviewRoute_=void 0;this.mode_=T.REALTIME;this.option_=T.OPTION_NONE;this.layerLegend_=b;this.roadviewController_=f;this.roadviewController_.onCheckpoint.add(function(a){this.getActive()&&this.handleRoadviewCheckpoint_(a)},this);this.onAddStop=new m}function Ya(a,b){this.map_=a;this.miniTooltipManager_=b;this.cctvs_=null;this.infomarkers_=[]}function cd(a){function b(a){o=a.coords;n.setPath([p,
o]);k.setPosition(o);d(n.getLength())}function c(b){h.$("hider").on("click",function(){h.remove();l.forEach(function(a){a.setMap(null)})});k=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:3,content:h.get(0),map:a});j.push(k)}function d(a){var b=y+a;1E3<a?(h.$("relativeDistance").text(e(a/1E3)),h.$("relativeDistanceUnit").text("km")):(h.$("relativeDistance").text(a|0),h.$("relativeDistanceUnit").text("m"));1E3<b?(h.$("totalDistance").text(e(b/1E3)),h.$("totalDistanceUnit").text("km")):
(h.$("totalDistance").text(b|0),h.$("totalDistanceUnit").text("m"));a=b/67|0;60<=a?(h.$("walkHour").html("<strong>"+(a/60|0)+"</strong>\uc2dc\uac04"),h.$("walkHour").removeClass("HIDDEN")):h.$("walkHour").addClass("HIDDEN");h.$("walkMin").text(a%60);a=b/266|0;60<=a?(h.$("bicycleHour").html("<strong>"+(a/60|0)+"</strong>\uc2dc\uac04"),h.$("bicycleHour").removeClass("HIDDEN")):h.$("bicycleHour").addClass("HIDDEN");h.$("bicycleMin").text(a%60)}function e(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/
100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function f(){var b=jQuery('<a href="#" class="DistanceToolCloser"/>');b.on("mousedown click",function(a){"click"==a.type&&v();a.stopPropagation()});b=new daum.maps.Billboard({position:p,xAnchor:0,zIndex:3,content:b.get(0),map:a});j.push(b)}var h=G("DistanceToolDetail"),j=[],l=[],k=null,n=null,y=0,o=null,p=null,g=function(){y?(0<l.length&&l.pop().setMap(null),d(0),k.setPosition(p),jQuery(k.getContent()).on("mousedown",
function(a){a.stopPropagation()}),n.setMap(null),n=null,f(),h.$("relativeWrap").addClass("HIDDEN"),h.$("help").addClass("HIDDEN")):v();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)},v=function(){n&&n.setMap(null);j.forEach(function(a){a.setMap(null)});l.forEach(function(a){a.setMap(null)});j.length=0;a.setCursor(null)};this.handleClick=function(d){if(p){var e;p?(e=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#f10000",strokeOpacity:0.6,map:a}),e.setPath([p,o]),j.push(e)):
e=void 0;y+=e.getLength();p=o;e=String.formatDistance(y|0);var f=jQuery('<p class="DistanceToolBoard"></p>');f.text(e);e=new daum.maps.Billboard({position:p,xAnchor:0,yAnchor:0,zIndex:2,content:f.get(0),map:a});l.push(e)}else p=o=d,n=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#f10000",strokeOpacity:0.3,map:a}),n.setPath([p,o]),c(d),daum.maps.event.addListener(a,"mousemove",b);e=jQuery('<span class="DistanceToolDot"></span>');d=new daum.maps.Billboard({position:d,zIndex:1,content:e.get(0),
map:a});j.push(d);return!0};this.activate=function(){a.setCursor("url(http://i1.daumcdn.net/dmaps/apis/cursor/distance.cur.ico), crosshair")};this.deactivate=function(){a.setCursor(null)};this.freeze=function(a){g(a)};this.close=function(){v()}}function dd(a){function b(a){(new Sd(j,a)).onClick.add(function(a){e.notify(a)})}function c(a){j.empty();0<a.length?(h.show(),a.forEach(b)):b({})}function d(){a.isLogin()?(k.show(),l.hide()):(n.length=0,j.empty(),k.hide(),l.show())}if(!(this instanceof dd))return new arguments.callee;
var e=this.onClick=new m,f=jQuery("#info\\.main\\.favorite"),h=G("FavoriteRegisterView").appendTo(f),j=h.$("list"),l=h.$("notify"),f=h.$("check"),k=h.$("more");f.on("click",function(a){a.preventDefault();Application.favoriteController.openLoginPopup()});k.on("click",function(a){a.preventDefault();Application.favoriteController.setActive(!0)});var n=[];d();this.setData=function(a){n=a.sort(function(a,b){return b.modifyTime-a.modifyTime});c(n)};this.remove=function(a){n.forEach(function(b,c){b.id==
a&&(n.splice(c,1),jQuery(j).find("div").eq(c).detach())});n.length||(j.empty(),b({}))};this.callbackLogin=function(){d()}}function Ba(a){this.originFlag_=new la;this.originFlag_.setType("origin");this.originFlag_.onChange.add(this.changeFlag_,this);this.destFlag_=new la;this.destFlag_.onChange.add(this.changeFlag_,this);this.destFlag_.setType("dest");this.viaFlag_=new la;this.viaFlag_.onChange.add(this.addViaFlag_,this);this.viaFlag_.setType("via");this.onReset=new m;this.onAdd=new m;this.onChange=
new m;this.onRemove=new m;this.ANIMATE_SPEED_=50;this.mapFlagList_=[];this.viaCnt_=0;this.viaVisible_=!0;var b=this.wrapPanel_=new g("div","FlagWrap"),c=this.panel_=new g("div","Flag Fold");this.addExpandEvent_();this.panel_.toPane().mousedown(function(){this.expanded_||(this.floating_=!0)}.bind(this));this.panel_.toPane().mouseup(function(){this.expanded_||(this.floating_=!1)}.bind(this));b.addChild(c);this.expanded_=!0;var b=new g("div","originWrap"),d=new Mc(b,"origin",this.originFlag_,a);d.onStart.add(function(){this.floating_=
!0;this.panel_.removeClass("Fold");this.onReset.notify();this.originFlag_.setPoint(new daum.maps.Point(24,93));q.click("route","start_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);c.addChild(b);b=new g("div","destWrap");d=new Mc(b,"dest",this.destFlag_,a);d.onStart.add(function(){this.floating_=!0;this.onReset.notify();this.destFlag_.setPoint(new daum.maps.Point(this.viaVisible_?101:63,93));q.click("route","end_flag")}.bind(this));
d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);c.addChild(b);this.viaCount_=1;b=new g("div","viaWrap");d=new Mc(b,"via",this.viaFlag_,a);d.onStart.add(function(){this.onReset.notify();this.viaFlag_.setPoint(new daum.maps.Point(63,93));q.click("route","via_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);this.viaScout_=d;c.addChild(b);this.map_=a}function I(a,b,c,d,e,f,h,j,
l,k,n,y){Q(this,mb);this.map_=a;this.aoiController_=n.getController(n.KEY.FLAG);this._viewLayout=b;this.infoWindowManager_=h;a=this.flagSearch_=Oa.create();this.lastMethod_="car";this.onActive.add(this.changeActive_,this);this.flagController_=j;this.flagController_.setFlagSearch(a);this.flagController_.onChange.add(this.changeFlag_,this);this.flagController_.onAdd.add(this.addViaFlag_,this);this.flagController_.onRemove.add(this.removeFlag_,this);this.waypointSearchBoxController_=new y;this.waypointSearchBoxController_.setFlagSearch(a);
this.waypointSearchBoxController_.onAdd.add(this.addWaypointViaBox_,this);this.waypointSearchBoxController_.onRemove.add(this.removeWaypointBox_,this);this.waypointSearchBoxController_.onChange.add(this.changeWaypointBox_,this);this.waypointSearchBoxController_.onSearch.add(this.searchWaypointBox_,this);this.waypointSearchBoxController_.onClear.add(this.reset,this);this.waypointSearchBoxController_.onMethodFocus.add(function(){g.$(this.lastMethod_+"tab").focusAndSelect()},this);this.flagSearchResultController=
d;this.flagSearchResultController.onCoords.add(this.setCoords_,this);this.flagSearchResultController.onLoad.add(this.loadFlagResult_,this);this.flagSearchResultController.onNoResult.add(function(){var a=this.flagSearch_.activeIndex;0==a||a==this.flagSearch_.getLastIndex()?this.flagSearch_.setWaypoint(a,null):this.flagSearch_.removeWaypoint(a);this.flagController_.setFlagSearch(this.flagSearch_)},this);this.carRouteSearchController=c;this.carRouteSearchController.onSearchBtnClick.add(function(a){"transit"==
a&&(this.transitRouteSearchController.panel_.below_="below");this.clickMethod_(a)},this);this.carRouteSearchController.onResult.add(this.loadRoute_,this);this.carRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.transitRouteSearchController=e;this.transitRouteSearchController.onResult.add(this.loadRoute_,this);this.transitRouteSearchController.onActive.add(function(){this.flagController_.setViaVisible(!this.transitRouteSearchController.getActive());this.waypointSearchBoxController_.setViaVisible(!this.transitRouteSearchController.getActive())},
this);this.transitRouteSearchController.onSearchBtnClick.add(this.clickMethod_,this);this.walkRouteSearchController=f;this.walkRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");this.clickMethod_(a)},this);this.walkRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.walkRouteSearchController.onResult.add(this.loadRoute_,this);this.hashMap={car:this.carRouteSearchController,transit:this.transitRouteSearchController,
walk:this.walkRouteSearchController};(this.methodView_=new Td(g.$("info.flagsearch.method"))).onChange.add(function(a){a?(this.transitRouteSearchController.panel_.below_="main",this.handleRoute_()):this.showValidCondition_()},this);this.keywordSearchController=l;this.keywordSearchController.onFlagClick.add(function(a){this.flagSearchResultController.clear();this.setWaypointWithoutRoute(a.type,a.item);this.findAoi(a.item);this.setActive(!0)},this);this.roadviewController=k;k.onWaypoint.add(function(a){!0!=
this.active_&&(this.withRoadview_=this.active_=!0,this.onActive.notify(!0));switch(a.type){case "origin":this.setOrigin(a.coords,a.name);break;case "via":this.setVia(a.coords,a.name);break;case "dest":this.setDestination(a.coords,a.name)}},this);this.home_=g.$("info.route.home");this.onChangeFlag=new m;this.onLoadedRoute=new m}function da(a,b,c,d,e,f){this.model_=new x;this.model_.setSearchBusStop(!0);this.model_.noExactSearch();this.model_.onChange.add(this.load_,this);this.addressListView_=new Ta("info.flagsearch.address",
Lb);this.addressListView_.onAction.add(this.clickAddress_,this);this.addressListView_.onMore.add(function(){this.findAddresses();t.logPathSearchIn("address_more")},this);this.placeListView_=new Ta("info.flagsearch.place",Ja);this.placeListView_.onAction.add(this.clickPlace_,this);this.placeListView_.onMore.add(function(){this.findPlaces();t.logPathSearchIn("place_more")},this);this.busStopListView_=new Ta("info.flagsearch.busstop",Gb);this.busStopListView_.onAction.add(this.clickBusStop_,this);this.busStopListView_.onMore.add(function(){this.findBusStops();
t.logPathSearchIn("busstop_more")},this);this.paginationView_=new Sa("info.flagsearch.page");this.paginationView_.onPage.add(function(a){this.setPage(a);t.logPathSearchIn(this.model_.isPlaceMode()?"place_paging":this.model_.isAddressMode()?"address_paging":this.model_.isBusStopMode()?"busstop_paging":"")},this);this.aoiController_=e.getController(e.KEY.FLAG);this.aoiController_.onIdle=function(){this.redrawLines()}.bind(this.aoiController_);this.aoiController_.disablePolylineEvent();this.spellcheckView_=
new kc("info.flagsearch.spellcheck");this.spellcheckView_.onClick.add(function(a){this.setTransMapTypeLog(this.model_.trans_map_type);this.setKeyword(a)},this);e=this.group_=new fb;e.onChange.add(this.setOption_,this);e.add(g.$("info.flagsearch.filter.all"));e.add(g.$("info.flagsearch.filter.place"));e.add(g.$("info.flagsearch.filter.address"));e.add(g.$("info.flagsearch.filter.busstop"));this.placeMarkers_=new ta(a);this.placeMarkerIndex_=[];this.gasInfoWindows_=new ta(a);e=this.messageView=new ed;
e.onClick.add(function(a){t.log("search_q_type",this.model_.getKeyword(),{typeid:"message",tab:this.model_.isPlaceMode()?"place_path":"all_path",cidx:this.model_.targetCidx_});a.snSelected?this.findSnSelected(a.keyword):this.findLiterally()},this);e.onSelect.add(function(a){t.log("search_q_type",this.model_.getKeyword(),{typeid:"region",tab:this.model_.isPlaceMode()?"place_path":"all_path",sq:a.keyword});this.clickAddrSuggest_(a.keyword)},this);e=this.busMessageView=new Lc;e.onBusClick.add(function(a){var b=
this.model_;t.log("search_q_type",b.getKeyword(),{typeid:"message",tab:"busstop_path",qatype:a.qaType});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setPage(1)},this);e.onBusSelect.add(function(a){var b=this.model_;t.log("search_q_type",b.getKeyword(),{typeid:"region",tab:"busstop_path",qatype:a.qaType,sq:a.keyword});b.setRepeatFlag(!0);b.setQaType(a.qaType);b.setKeyword(a.keyword,!1,x.BUSSTOP)},this);this.map_=a;this.miniTooltipManager_=b;this.infoWindowManager_=c;this.roadviewController_=d;this.activeItem_=
null;this.onCoords=new m;this.onLoad=new m;this.onNoResult=new m;this.dupMarker_=null;jQuery("#info\\.flagsearch\\.correction\\.goorig").on("click",function(){this.setTransMapTypeLog(this.model_.trans_map_type);this.model_&&this.model_.setCorrection(!1)}.bind(this));this.singleViewMode_=!1;this.singleViewType_=null;this.infoRoute=jQuery("#info\\.route\\.home");new fd(f,this.infoRoute,!1,function(a){this.infoRoute.toggleClass("routedesc",!a)}.bind(this))}function gd(a){this.map_=a;jQuery("#daum_").click(function(){q.click("navi",
"logo")});jQuery("#local").click(function(){q.click("navi","title")});this.loadStory_();jQuery("#info\\.header\\.reportError").click(function(a){a.preventDefault();Ua(a.target.href,395,280,{noscroll:!0});q.click("left","ipdetect")});jQuery("#footer\\.xb").click(function(){q.click("footer","api")});jQuery("#footer\\.xc").click(function(){q.click("footer","registersearch")});jQuery("#footer\\.xd").click(function(){q.click("footer","biz")});jQuery("#footer\\.xf").click(function(){q.click("footer","cs")});
jQuery("#footer\\.xg").click(function(a){a.preventDefault();Ua(a.target.href,580,480)})}function Hb(a,b,c){Q(this,mb);this.map_=a;this.model_=new x;this.model_.onIssue.add(this.loadIssuedMap_,this);this.infowindowManager_=c;this.onActive.add(this.changeActive_,this);(this.issuePlaceListView_=new Ta("info.issue.place",Zb)).onAction.add(this.clickPlace_,this);this.placeMarkers_=[];this.onActive.add(this.changeActive_,this)}function L(a,b,c,d,e,f,h,j,l,k,n,y,o,p,s,v,r,u,w,D,P,K,U,E,Z){Q(this,mb);this.themeMapSearchController_=
w;this.map_=b;this._viewLayout=c;this.windowController_=e;this.infoWindowManager_=f;this.mainMapController=h;this.roadviewController_=l;this.aoiController_=s.getController(s.KEY.SEARCH);this.aoiController_.onAoiMousedown.add(this.onAoiMousedown_,this);this.busLineController_=k;this.miniTooltipManager_=j;this.relatedKeywordController_=v;this.relatedKeywordController_.onSubClick.add(this.findSubKeyword_,this);this.localInfoController_=o;this.bannerController_=y;this.relatedAddressController_=r;this.relatedAddressController_.onItemClick.add(this.onSubAddressItemClick_.bind(this));
this.areaSearchController_=D;this.whatsHereController_=P;this.themeMapController_=u;var F=this.recommendView_=new Ud(jQuery("#info\\.header\\.theme"),a.thememapPlaces),c=h.getThemePoiControlView();u.setThememapPlaces(a.thememapPlaces);F.onClick.add(function(){},this);F.onAirClick.add(function(a){l.close();l.removeLastMarker();var c=new daum.maps.Coords(685487,813958);b.setLevel(13);b.setCenter(c);switch(a){case 1:h.setWeather(!0,"pm10");break;case 2:h.setWeather(!0,"ysand")}},this);F.onThemeClick.add(function(a){a?
(u.setHideActive(!0),u.setThememapIdWithJump(a)):u.setActive(!0);this.mainMapController.tileClear();this.changeActive_()},this);c.onPoiActive.add(this.hideBusLine_,this);c.onThemeToIndex.add(function(a){F.selectItem(a)});a=new Mb;a.onOption.add(this.setOption_,this);a.onClear.add(function(){Application.mainMapController.tool.clear()},this);this.infoHeaderView_=a;this.onActive.add(this.changeActive_,this);this.model_=new x;this.model_.onChange.add(function(){this.load_()},this);this.activeItem_=null;
this.addressMarker_=z.createAddress(new daum.maps.Coords(0,0));this.relatedAddressMarker_=z.createAddress(new daum.maps.Coords(0,0));daum.maps.event.addListener(this.addressMarker_,"click",function(){var a=this.areaSearchController_.getAreaSearch(this.addressMarker_.id);this.deselectMarkers_();this.clickAddressMarker_&&this.clickAddressMarker_(!1);this.relatedAddressMarker_.setMap(null);this.aoiController_.clickMarker(this.addressMarker_.id||-1);a&&(this.aoiController_.clear(),this.aoiController_.removeMapEvent(),
this.areaSearchController_.focus(this.addressMarker_.id),this.areaSearchController_.renderById(this.addressMarker_.id,!0));this.clickAddressMarker_&&this.addressMarker_.item&&this.addressMarker_.item.sendDssLog("marker_address")}.bind(this));daum.maps.event.addListener(this.addressMarker_,"mouseover",function(){this.aoiController_.highlight(this.addressMarker_.id||-1)}.bind(this));daum.maps.event.addListener(this.addressMarker_,"mouseout",function(){this.aoiController_.redrawLines()}.bind(this));
daum.maps.event.addListener(this.relatedAddressMarker_,"click",function(){this.onSubAddressMarkerClick_()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"mouseover",function(){this.aoiController_.dimAll()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"mouseout",function(){this.aoiController_.redrawLines()}.bind(this));this.placeMarkers_=new ta(b);this.placeMarkerIndex_=[];this.busStopMarkers_=new ta(b);this.landmarkMarkers_=new ta(b);a=this.messageView=new ed;
a.onClick.add(function(a){t.log("search_q_type",this.model_.getKeyword(),{typeid:"message",tab:this.model_.isPlaceMode()?"place":"all",cidx:this.model_.targetCidx_});a.snSelected?this.findSnSelected(a.keyword):this.findLiterally()},this);a.onSelect.add(function(a){t.log("search_q_type",this.model_.getKeyword(),{typeid:"region",tab:this.model_.isPlaceMode()?"place":"all",sq:a.keyword});this.clickAddrSuggest_(a.keyword)},this);a=this.busMessageView=new Lc;a.onBusClick.add(function(a){var b=this.model_;
t.log("search_q_type",b.getKeyword(),{typeid:"message",tab:b.isBusesMODE()?"busname":"busstop",qatype:a.qaType});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setPage(1)},this);a.onBusSelect.add(function(a){var b=this.model_;t.log("search_q_type",b.getKeyword(),{typeid:"region",tab:b.isBusesMODE()?"busname":"busstop",qatype:a.qaType,sq:a.keyword});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setKeyword(a.keyword,b.getMode())},this);jQuery("#info\\.search\\.address\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));
jQuery("#info\\.search\\.place\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.busstops\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.review\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));a=this.busesListView_=new Ta("info.search.buses",Vd,n);a.onMore.add(function(){this.busState_=0;this.findBuses();t.logSearchIn("bus_more")},this);a=this.busstopsListView_=new Ta("info.search.busstops",Wd,n);a.onAction.add(this.clickBusStops_,
this);a.onMore.add(function(){this.busState_=1;this.findBuses();t.logSearchIn("busstop_more")},this);a=this.addressListView_=new Ta("info.search.address",hd,n);a.onAction.add(this.clickAddress_,this);a.onMore.add(function(){this.findAddresses();t.logSearchIn("address_more")},this);a=this.placeListView_=new Ta("info.search.place",jd,n);a.onAction.add(this.clickPlace_,this);a.onMore.add(function(){this.findPlaces();t.logSearchIn("place_more")},this);this.spellcheckView_=new kc("info.searchHeader.spellcheck");
this.spellcheckView_.onClick.add(function(a){this.setTransMapTypeLog(this.model_.trans_map_type);this.setKeyword(a)},this);g.$("info.noPlace.register").onClick.add(function(){U.newPlaceInfoOn("SEARCH_NORESULT",this.model_.getKeyword());q.click("mapsearch","noresult_newplace")},this);g.$("info.noPlaceInBounds.register").onClick.add(function(){U.newPlaceInfoOn("SEARCH_NORESULT",this.model_.getKeyword());q.click("mapsearch","noresult_newplace")},this);g.$("info.noFlagPlace.register").onClick.add(function(){U.newPlaceInfoOn("ROUTE_NORESULT",
this.model_.getKeyword());q.click("mapsearch","noresult_newplace")},this);g.$("info.addNewPlace.btn").onClick.add(function(){U.newPlaceInfoOn("SEARCH_LIST_BOT",this.model_.getKeyword());q.click("mapsearch","newplace")},this);g.$("info.flagsearch.addNewPlace.btn").onClick.add(function(){U.newPlaceInfoOn("ROUTE_LIST_BOT",this.model_.getKeyword());q.click("mapsearch","newplace")},this);a=this.paginationView_=new Sa("info.search.page");this.isPageLoad=!1;a.onPage.add(function(a){this.isPageLoad||(this.isPageLoad=
!0,q.click("mapsearch","page",{param1:this.model_.getKeyword()}),this.model_.setRepeatFlag(!0),this.setPage(a),t.logSearchIn(this.model_.isPlaceMode()?"place_paging":this.model_.isAddressMode()?"address_paging":this.model_.isBusesMODE()?"bus_paging":this.model_.isBusstopsMODE()?"busstop_paging":""))},this);g.$("search.keyword.submit").onClick.add(this.submit_,this);this.queryPanel_=jQuery("#search\\.keyword\\.query");this.queryBtn_=jQuery("#search\\.keyword\\.submit");this.queryPanel_.on({focus:ca.closeAll});
this.suggestInstance_=new E({id:"search.keyword.query",url:p.MAIN_SUGGEST,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},onSubmitFavorite:function(a){console.log("submitFavorite : ",a)},itemParser:function(a){var b=a[0],c=1;2<=a.length&&/bus|place/.test(a[a.length-1])&&(c=2);a.length==c?html=String.format("%h",b):(b=a[0]+"("+a[a.length-2]+")",html=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',b,a[1]));return[html,b]},logKey:"searchsuggest"});
new Yb(Z,Z.SEARCH_TYPE,this.suggestInstance_);var ea=jQuery("#search\\.keyword .box_searchbar");jQuery("#search\\.keyword\\.query").on("focus",function(){ea.addClass("search_on")}).on("blur",function(){ea.removeClass("search_on")}).focus();this.boundsButton_=g.$("search.keyword.bounds");var fa=jQuery("#search\\.keyword\\.currentmap"),n=this.boundscheck=jQuery("#boundscheck");n.attr("checked",!1);n.on("focusin",function(){fa.addClass("ico_focused")});n.on("blur",function(){fa.removeClass("ico_focused")});
n.on("change",function(){this.toggleBounds_()}.bind(this));jQuery(document).on("keydown",function(a){if(!a.altKey&&(!a.ctrlKey&&!(a.metaKey||"INPUT"==a.target.tagName))&&!l.getActive()){a=a.keyCode;if(47<a&&58>a||64<a&&91>a||95<a&&106>a)this.queryPanel_.val(""),this.queryPanel_.focus();U.isToolActivate()&&27==a&&U.handleRightclick()}}.bind(this));a=this.placeSortOptions_=new lc("info.search.place.sort");a.onOption.add(this.changePlaceSortOption_,this);n=this.busTab=new fb;n.add(g.$("info.busTab.list.n1"));
n.add(g.$("info.busTab.list.n2"));n.onChange.add(this.changeBusTab_,this);daum.maps.event.addListener(b,"idle",gb(500,this.refresh_.bind(this)).trigger);this.issueMapController=d;this.onFlagClick=new m;this.onSearchLoad=new m;this.busState_=null;a=this.infoHeaderView_;a.showOptions(["\uc804\uccb4","\uc7a5\uc18c","\uc8fc\uc18c","\ubc84\uc2a4"]);a.hide();jQuery("#info\\.search\\.correction\\.goorig").on("click",function(){this.setTransMapTypeLog(this.model_.trans_map_type);this.model_&&this.model_.setCorrection(!1)}.bind(this));
this.reviewTabMode_=!1;this.themeMapSearchController_.onClick.add(function(){this.hide()},this);this.itemIdMarker=null;this.singleViewMode_=!1;this.singleViewType_=null;this.postCodeMessage=g.$("info.searchHeader.postCodeMessage");this.postCodeMessageKeyword="";this.postCodeMessage.toPane().find(".postCodeLink").on("click",function(){var a=require("url").POSTCODE_MAP_DAUM_NET+"/?origin=http%3A%2F%2Fmap.daum.net&indaum=on&intsh=on";this.postCodeMessageKeyword&&(a+="&region_name="+encodeURIComponent(this.postCodeMessageKeyword));
Ua(a,550,600,{name:"postcode",resizable:!0})}.bind(this))}function nb(a){this.CHILD_HEIGHT=34;this.container_=a;this.listArr_=[];this.onChange=new m;this.mousemoveHandler_=this.mousemoveHandler.bind(this);a.toPane().mousedown(this.mousedownHandler.bind(this))}function O(a,b,c,d,e,f,h,j,l,k,n,y,o,g,s,v,r,u,w){this.frameDecorator_=k;this.args=w;this.map_=a;b=jQuery("#view\\.map");this.roadviewLine_=c;this.infoWindowManager_=r;this.aoiController_=v.getController(v.KEY.SEARCH);c=this.tool=d;c.onComplete.add(function(){this.mapControlView_.deactivateAll()},
this);c.onClickTool.add(function(){j.setRoadview(!1)},this);this.indoorMapController_=n;this.themePoiControlView=y;this.themePoiMarkerController=o;this.poiTileController=g;this.keywordTileParams=null;b.append(y.getElement());y.onPoiActive.add(function(a){r.close();this.themePoiMarkerController.setTheme(a);this.poiTileController.setThemeTile({themeId:a.id});this.setTileExtenstion("theme")},this);y.onPoiClear.add(function(){r.close();this.themePoiMarkerController.clearTheme();this.setActiveKeywordTile()},
this);o.onShow.add(function(){});this.poiController=f;this.clickHandlers_=[c,g,this.roadviewLine_,f,this.indoorMapController_,this.aoiController_];this.rightclickHandlers_=[c,h];this.mapTypeControl_=j;j.onRoadmap.add(function(a){this.closeHistoryLegend_();this.mapControlView_.setZoomControlFor(a)},this);j.onSkyview.add(function(a){this.handleHistory_(this.skyviewHistoryIndex_);this.mapControlView_.setZoomControlFor(a)},this);j.onRoadview.add(function(){var a=j.isRoadviewActive();a&&(d.newPlaceDeactive(),
d.handleRightclick());this.roadviewLine_.setActive(a);this.mapControlView_.setRoadviewActive(a)},this);j.onTraffic.add(function(){Application.carRouteSearchController.setTraffic(!1)},this);j.onHistory.add(this.handleHistory_,this);this.mapControlView_=l;l.onRoadview.add(function(a){j.setRoadview(a)},this);l.onTraffic.add(function(a){j.setTraffic(a)},this);l.onAccident.add(function(a){j.setAccident(a)},this);l.onCctv.add(function(a){j.setCctv(a)},this);l.onZoomTo.add(function(a){this.map_.setLevel(a,
{animate:!0})},this);l.onTool.add(this.toolHandler_,this);l.onExtension.add(function(a){g.setVisible(a)},this);b.append(l.getPane());daum.maps.event.addListener(a,"click",this.clickMap_.bind(this));daum.maps.event.addListener(a,"dblclick",this.dblclickMap_.bind(this));daum.maps.event.addListener(a,"rightclick",this.rightclickMap_.bind(this));[[2,"2"],[20,""]].forEach(function(b){var c=new bb(1E3*b[0],function(){a.isRoadmap()?q.click("select"+b[1],"2d"):a.getMapTypeId()==daum.maps.MapTypeId.HYBRID&&
q.click("select"+b[1],"skyview");c.stop()},!1);c.start()});f=a.getCenter();a.relayout();a.setCenter(f);this.skyviewHistoryIndex_=void 0}function $a(a,b,c){this.map_=a;this.windowController_=b;this.whatsHereController_=c;a=G("ViewContext");this.panel_=new ca(a.get(0));this.panelParent_=this.pointMarker_=new daum.maps.Billboard({zIndex:10,position:new daum.maps.Coords(0,0),content:a.get(0),clickable:!0});this.pointMarker_=new daum.maps.Marker({position:null,image:new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/dot_r.png",
new daum.maps.Size(8,8),{offset:new daum.maps.Point(4,4)})});this.panel_.onHide.add(function(){this.hide()},this);this.menu_favorite_=a.$("favorite").click(this.favorite_.bind(this));this.menu_origin_=a.$("origin").click(this.startDirection_.bind(this));this.menu_destination_=a.$("destination").click(this.endDirection_.bind(this));this.menu_here_=a.$("here").click(this.whatsHere_.bind(this));this.menu_zoomin_=a.$("zoomin").click(this.zoomIn_.bind(this));this.menu_zoomout_=a.$("zoomout").click(this.zoomOut_.bind(this));
this.menu_via_=a.$("via").click(this.viaDirection_.bind(this));this.menu_strange_=a.$("strange").click(this.strange_.bind(this));this.menu_newplace=a.$("newplace").click(this.newPlace_.bind(this))}function ba(a,b,c,d,e){this.onReset=new m;this.onComplete=new m;this.onClickTool=new m;this.map_=a;this.busSearchController=b;this.fiyFrameController=c;this.localPlatformAdController_=d;this.forefront=e;this.copylist_=ca.$("toolList.copylist");this.copylist_.noCloseUIPanel(g.$("tool.map.copy"));g.$("tool.map.copy").onClick.add(this.copylistToggle,
this);this.copylist_.onHide.add(this.onHidelist_,this);g.$("tool.map.copyurl").onClick.add(this.copyUrl,this);g.$("tool.map.copymap").onClick.add(this.copyMap_,this);g.$("tool.map.save").onClick.add(this.save_,this);g.$("tool.map.email").onClick.add(this.email_,this);g.$("tool.map.print").onClick.add(this.print_,this);g.$("tool.map.modify").onClick.add(this.fiyFrameController.openCsGeneralFromEvent,this.fiyFrameController)}function mb(){this.onActive=new m;this.active_=!1}function kd(a,b,c){function d(){a.setCursor(null);
j&&j.setMap(null);l&&(l=null);daum.maps.event.removeListener(a,"mousemove",e);daum.maps.event.removeListener(a,"zoom_changed",f)}function e(a){j.setPosition(a.coords)}function f(){k=a.getLevel();4<=k?l.addClass("need_zoomin"):l.removeClass("need_zoomin")}var h=null,j=null,l=null,k=0;this.activate=function(){a.setCursor("url(http://t1.daumcdn.net/localimg/localimages/07/2014/fiy/pin_cursor.ico) 8 7, default");l=jQuery('<div class="NewPlaceToolBoard"></div>');k=a.getLevel();4<=k&&l.addClass("need_zoomin");
j=new daum.maps.Billboard({xAnchor:0,yAnchor:1,zIndex:2,content:l[0]});j.setMap(a);daum.maps.event.addListener(a,"mousemove",e);daum.maps.event.addListener(a,"zoom_changed",f)};this.deactivate=function(){d()};this.handleClick=function(a){var e;4<=k?e=void 0:(h(),Application.fiyFrameController.open({type:"newPlace",channel:b?b:"ICON_NEWPLACE",rawInfo:{x:a.getX(),y:a.getY(),query:c||""}}),d());return e};this.freeze=function(){d()};this.close=function(){d()};this.closeCallback=function(a){h=a}}function fb(){this.buttons_=
[];this.onChange=new m}function ld(a){function b(a){u=a.coords;r.setPath([w,u]);s.setPosition(u);v.setRadius(r.getLength());h()}function c(){if(w){var b=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#fa05e0",strokeOpacity:0.7,map:a});b.setPath([w,u]);p.push(b);return b}}function d(){var b=new daum.maps.Circle({center:w,radius:r.getLength(),strokeWeight:2,strokeColor:"#ff4dec",strokeOpacity:0.4,fillColor:"#fa05e0",fillOpacity:0.17,map:a});p.push(b)}function e(b){var c=jQuery('<span class="RadiusToolDot"></span>'),
b=new daum.maps.Billboard({position:b,zIndex:1,content:c.get(0),map:a});p.push(b)}function f(b){g=G("RadiusToolDetail");g.$("hider").on("click",function(a){return function(){a.addClass("HIDDEN")}}(g));s=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:3,content:g.get(0),map:a});p.push(s)}function h(){var a=r.getLength(),b;1E3<a?(g.$("radius").text(j(a/1E3)),g.$("radiusUnit").text("km")):(g.$("radius").text(a|0),g.$("radiusUnit").text("m"));b=a/67|0;60<=b?(g.$("walkHour").html("<strong>"+
(b/60|0)+"</strong>\uc2dc\uac04"),g.$("walkHour").removeClass("HIDDEN")):g.$("walkHour").addClass("HIDDEN");g.$("walkMin").text(b%60);b=a/266|0;60<=b?(g.$("bicycleHour").html("<strong>"+(b/60|0)+"</strong>\uc2dc\uac04"),g.$("bicycleHour").removeClass("HIDDEN")):g.$("bicycleHour").addClass("HIDDEN");g.$("bicycleMin").text(b%60)}function j(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function l(a){if(c()&&0<p.length){var b=
o.length;d();n(b);e(a);o.push(p.slice(0));s.setPosition(u);jQuery(s.getContent()).on("mousedown",function(a){a.stopPropagation()});g.$("help").addClass("HIDDEN");p.length=0;f(a);h()}}function k(){r&&r.setMap(null);v&&v.setMap(null);for(var a=0,b;b=p[a];a++)b.setMap(null);p.length=0}function n(b){var c=jQuery('<a href="#" class="RadiusToolCloser"/>');c.on("mousedown click",function(a){return function(b){"click"==b.type&&D(a);b.stopPropagation()}}(b));b=new daum.maps.Billboard({position:u,xAnchor:0,
zIndex:3,content:c.get(0),map:a});p.push(b)}var g,o=[],p=[],s=null,v=null,r=null,u=null,w=null,D=function(b){k();for(var c=0,d;d=o[c];c++)if(b!==parseInt(b)||b===c)for(var e=0,f;f=d[e];e++)f.setMap(null);a.setCursor(null)};this.handleClick=function(c){w?l(c):(w=u=c,r=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#fa05e0",strokeOpacity:0.7,map:a}),r.setPath([w,u]),v=new daum.maps.Circle({center:w,radius:r.getLength(),strokeWeight:2,strokeColor:"#ff4dec",strokeOpacity:0.4,fillColor:"#fa05e0",
fillOpacity:0.11,map:a}),f(c),e(c),daum.maps.event.addListener(a,"mousemove",b));return!0};this.activate=function(){a.setCursor("url(http://t1.daumcdn.net/localimg/localimages/07/2013/img/point_radius.cur.ico), crosshair")};this.deactivate=function(){a.setCursor(null)};this.freeze=function(){k();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)};this.close=function(){D()}}function S(a,b,c,d,e,f,h,j,l){e=Number(e.rvp);this.map_=a;this.escapeZoomLevel=3;this._windowController=f;this.fiyFrameController_=
j;this.authController_=l;this._viewLayout=b;this._frameDecorator=c;this._lastMarker=d;this._lastMarker.onClick.add(this.restore_,this);this.onCheckpoint=new m;this.onCloseRoadview=new m;this.onWaypoint=new m;this.panel_=g.$("view.roadview");try{this.normalRoadview_=this.createRoadview_(e)}catch(k){}this.client_=new daum.maps.RoadviewClient({panoramaDataUrl:require("url").ROADVIEWCLIENTDATA});this.walker_=new Xd(a);this.showStartLog_=!1;this.nodeClickLog=!0;this.walker_.onCoords.add(function(a){this.showStartLog_=
!0;this.showNearby(a);q.click("roadview","viewer_icon")},this);this.walker_.onPan.add(this.changePan_,this);this.successView_=this.isStoreView_=!1;this.subwayOverViewer=new Fa({frameDecorator:this._frameDecorator});this.subwayOverViewer.onChangedPanorama.add(this.setSubwayPanoId,this);this.subwayOverViewer.hide();this._viewLayout.onMapResize.add(this.didDecoratorResize_,this);this.onShow=new m;this.lastMarkerVisibleState_=0;this.initFailFlashLayer_();this._viewLayout.onRoadviewResize.add(function(){this.viewer_()&&
this.viewer_().relayout()},this);this.dbClickActive_=!1}function yc(a){this.mapTileManager_=a}function Ib(a){this.onClick=new m;this.onOver=new m;this.onLeave=new m;this.roadview_=a;this.roadview_.mouseenter(this.overRoadView_.bind(this));this.infoBody=jQuery("#info\\.body")}function $b(){var a=new Ra;a.add(g.$("search.tab1"),g.$("info.main"));a.add(g.$("search.tab2"),g.$("info.route"));a.add(g.$("search.tab3"),g.$("info.bus"));a.add(g.$("search.tab4"),g.$("info.subway"));a.add(g.$("search.tab5"),
g.$("info.favorite"));g.$("search.tab1").onClick.add(this.showMap_,this);g.$("search.tab2").onClick.add(this.showCarRoute_,this);g.$("search.tab3").onClick.add(this.showBus_,this);g.$("search.tab4").onClick.add(this.showSubway_,this);g.$("search.tab5").onClick.add(this.showFavorite_,this);this.onChange=new m;a.onChange.add(function(a){this.onChange.notify(a);var c=jQuery("#favorite\\.viewMode");3===a?c.removeClass("on"):A.Application&&(a=Application.favoriteController.getIsViewMode(),c.toggleClass("on",
a))},this)}function tb(){this.buttons_=[];this.values_=[];this.texts_=[];this.onChange=new m}function cb(a){function b(){2!=sa&&(sa=j(),z.removeClass().addClass("zoom_"+sa))}function c(){0!=sa&&(sa=l(),z.removeClass().addClass("zoom_"+sa))}function d(a){switch(a){case "print":o();break;case "showFiy":p();break;case "favorite":Application.favoriteController.add(B.createSubway({name:Z,id:U,coords:ea},{name:F,id:E,coords:fa},K,wa))}}function e(b){var c=g.$("info.footer");J||(J=new zc,J.onClick.add(d,
this),c.addChild(J));b?J.setVisible(!0):J.setVisible(!1);a.updateHeight()}function f(){return D?P:null}function h(a){P=a.ref;k();n()}function j(){try{if(f()&&f().zoomIn)return f().zoomIn()}catch(a){}}function l(){try{if(f()&&f().zoomOut)return f().zoomOut()}catch(a){}}function k(){try{f()&&f().clearSubwayLine&&f().clearSubwayLine()}catch(a){}}function n(){try{f()&&f().initSubwayFlash&&f().initSubwayFlash()}catch(a){}}function y(){try{if(f()&&f().isRouted)return f().isRouted(U,E)}catch(a){}return!1}
function o(){var a=A.encodeURIComponent(U),b=A.encodeURIComponent(E),c=K,d=oa?JSON.stringify(oa):"";Ua("",660,600,{name:"print"});var e=document.subway_print_form;e.cityCode.value=c;e.STARTID.value=a?a:"";e.ENDID.value=b?b:"";e.jsonData.value=d;e.method="post";e.action="./subway/subwayLinemapPrint";e.target="print";e.submit()}function p(){Application.fiyFrameController.openCustomerRequest({category:"D",channel:"ROUTE_LIST_BOT"});q.click("subway","go_fiy")}var s=this.onLoad=new m,v=this.onSubwayName=
new m;this.onRouteFirstLoad=new m;var r=this.onClearSubway=new m,u=this.onClearSubwayLine=new m,w=this.onResetQuickLineEvent=new m,D=!1,P=null,K="",U=null,E=null,Z="",F="",ea=null,fa=null,oa=null,wa=2,J=null,ra=jQuery("#view\\.subway\\.flash");ra.bind("DOMMouseScroll",function(a){0>a.originalEvent.detail?b():0<a.originalEvent.detail&&c()});var t=0;ra.bind("mousewheel",function(a){t+=a.originalEvent.wheelDelta;-150>t?(t=0,c()):150<t&&(t=0,b())});var z=jQuery("#subwayLegend\\.zoom"),sa=0;z.find(".zoomin").on("click",
b);z.find(".zoomout").on("click",c);A.onSubwayRouteEvent=function(){};A.onResetSubwayRouteEvent=function(){r.notify()};A.onClearSubwayLineEvent=function(){u.notify()};A.onSubwayFlashLoad=function(){D=!0;setTimeout(function(){s.notify()},10)};A.showSubwayStationInfo=function(a){open(require("url").DAUM_PLACE+a);q.click("subway","flash_stationinfo")};A.subwayRoutingOnMap=function(){q.click("subway","flash_mapview")};A.onChangeSubwayFlag=function(a,b,c){v.notify({type:"start"==a?"origin":"dest",name:b,
stationId:c,regionId:K})};A.onResetQuickLineEvent=function(){w.notify()};this.onSubwayRouteEvent=function(a,b,c,d,e,f,h,j){onSubwayRouteEvent(a,b,c,d,e,f,h,j)};this.setToolbarVisible=function(a){e(a)};this.setStartCoords=function(a){ea=a};this.getStartCoords=function(){return ea};this.setEndCoords=function(a){fa=a};this.getEndCoords=function(){return fa};this.setStartStationName=function(a){Z=a};this.getStartStationName=function(){return Z};this.setEndStationName=function(a){F=a};this.getEndStationName=
function(){return F};this.setStartStationId=function(a){U=a};this.getStartStationId=function(){return U};this.setEndStationId=function(a){E=a};this.getEndStationId=function(){return E};this.getObject=function(){return f()};this.setObject=function(a){!D&&"object"==typeof swfobject&&swfobject.embedSWF(a,"view.subway.flash.object","100%","100%","9.0.0",!1,{routeServer:require("url").SUBWAY_ROUTER_HOST},{wmode:"opaque",allowscriptaccess:"always"},{name:"view.subway.flash.object"},h)};this.clearObject=
function(){if(D){ra.html("");var a=jQuery('<div id="view.subway.flash.object"></div>');ra.append(a);D=!1}sa=0;oa=null;z.removeClass()};this.zoomIn=function(){j()};this.zoomOut=function(){l()};this.displaySubwayLine=function(a){try{f()&&f().displaySubwayLine&&f().displaySubwayLine(a)}catch(b){}};this.clearSubwayLine=function(){k()};this.routeSubway=function(a,b,c){try{f()&&f().routeSubway&&f().routeSubway(a,b,c)}catch(d){}};this.initSubwayFlash=function(){n()};this.initSubway=function(){F=Z=E=U="";
oa=fa=ea=null};this.isRouted=function(){return y};this.printPopup=function(){o()};this.printSubwayLineMap=function(){try{f()&&f().printSubwayLineMap&&f().printSubwayLineMap()}catch(a){}};this.showFiyInfo=function(){p()};this.setRegionId=function(a){K=a};this.getRegionId=function(){return K};this.getCateByRegionId=function(a){return cb.cateId[a]||"11"};this.printInfo=function(){o()};this.drawRoute=function(a,b,c){try{f()&&f().drawRoute&&f().drawRoute(a,b,c),oa=c}catch(d){}};this.showQuickLine=function(a){try{a?
f()&&f().showQuickLine&&f().showQuickLine():f()&&f().hideQuickLine&&f().hideQuickLine()}catch(b){}};this.isLoaded=function(){return D}}function Ac(a){Q(this,Nc);this.onShowMap=new m;this.onPrint=new m;this.data_=a}function md(a,b,c){Q(this,Nc);this.onClick=new m;this.name_=b;this.tiaraCode_=c;this.panel_=a;this.panel_.onClick.add(this.click_,this)}function Fa(a){this.ih=this.iw=1E3;this.h=this.w=220;this.panTimer=this.vy=this.vx=this.py=this.px=this.ay=this.ax=this.oy=this.ox=0;this.SCALE=8;this.GRID=
[20,40,void 0,void 0,Infinity];this.WEIGHT=[-8,-4,0,4,8];this.sId_=this.direction_="";this.viewer_=g.$("subwayoverviewer");this.imgPanel_=g.$("subwayoverviewer.image");this.walkerPanel_=g.$("subwayoverviewer.walker");this.onEnter=new m;this.onLeave=new m;this.onChangedPanorama=new m;a.frameDecorator.onResize.add(this.didFrameResize_,this);this.imgPanel_.toPane().on({load:this.updateImageSize.bind(this),mousedown:this.onMapGrab_.bind(this)});this.walkerPanel_.toPane().mousedown(this.onWalkerGrab_.bind(this));
this.viewer_.toPane().on({dragstart:!1,selectstart:!1})}function Ra(){this.index_=0;this.button_=[];this.panel_=[];this.onChange=new m}function Ka(a,b,c,d){Q(this,mb);this.panels_=new Ra;this.panel_=d;this.panel_.onItem.add(this.setRoute_,this);this.panel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);g.$("info.flagsearch").addChild(this.panel_);this.panels_.add(null,this.panel_);this.panel_.hide();this.routeController_=b;this.routeController_.setView(this.panel_);this.onSearchBtnClick=
new m;this.onResult=new m;this.onActive.add(this.changeActive_,this);this.interStatus_=this.interRoutes_=this.routeStatus_=this.route_=this.routes_=this.mkey_=null;this.infoWindowManager_=c;this.otherRoute_=null;this.panel_.onWrapOver.add(function(a){var b=null,b="inner"==a.type?this.routes_[a.index]:this.interRoutes_[a.index-this.routes_.length];b.buildPaths();b!=this.route_&&this.showOtherRoute_(b)},this);this.panel_.onWrapOut.add(function(){this.hideOtherRoute_()},this);this.panel_.onItemDetail.add(function(){this.hideOtherRoute_()},
this);this.activeIdx_=0}function Nc(){}function Nb(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this._viewLayout=a;this.onCollapseToggle=new m;this.onClickAdBanner=new m;var b=new Ra;b.add(null,g.$("info.main.home"));b.add(null,g.$("info.search"));b.add(null,g.$("info.noSuchPlace"));b.add(null,g.$("info.noPlaceInBounds"));b.add(null,g.$("info.noThemePlace"));b.add(null,g.$("info.noPlaceInBounds"));b=new Ra;b.add(null,g.$("info.route.home"));b.add(null,g.$("info.flagsearch"));
b=new Ra;b.add(null,g.$("info.busIntro"));b.add(null,g.$("info.bus.search"));b=new Ra;b.add(null,g.$("info.subway.intro"));b.add(null,g.$("info.subwayInfo"));this.buildAdButtons_();g.$("shadow.toggle").onClick.add(this.toggleInfo,this);jQuery(A).on("resize",this.updateHeight.bind(this));this.updateHeight();this.collapse_=!1}function gb(a,b){if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var c=0;this.trigger=function(){clearTimeout(c);c=setTimeout(function(){b()},a)};this.stop=
function(){clearTimeout(c);c=0}}function Ob(a){console.assert(0<a);this.timeout_=a;this.onAction=new m;this.action_=this.onAction.notify.bind(this.onAction)}function m(a){this.observer_=[];a&&a.onLoad&&(this.loadHandler_=a.onLoad)}function G(a,b){return jQuery(nd.render({AccidentInfoWindow:'<div class="InfoWindow AccidentInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<h6 data-id="title"></h6>\r\n\t\t<blockquote data-id="desc">(\uc9c0\ubc88 : \uc801\ub2f9\ud55c \uc9c0\ubc88\uc740 \uc5ec\uae30\uc5d0)</blockquote>\r\n\t\t<p data-id="period" class="DOTUM">2012.04.20 19:00 ~ 2012.04.20 17:00</p>\r\n\t\t<div data-id="provider" class="provider HIDDEN"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail"></div>\r\n</div>\r\n',
AddressFlagItemView:'<li class="AddressFlagItemView">\r\n\t<span class="flag"></span>\r\n\t<span class="name" title="{{name}}">{{{nameHtml}}}</span>\r\n</li>',AddressInfoWindow:'<div class="AddressInfoWindow InfoWindow{{#is2depth}} AddressInfoWindow-2depth{{/is2depth}}">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div class="content">\r\n\t\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t\t<button type="button" data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></button>\r\n\t\t\t<div class="address">\r\n\t\t\t\t<span data-id="name" class="name" title="{{name}}">{{refinedName}}</span>\r\n\t\t\t</div>\r\n\t\t\t{{#isDead}}\r\n\t\t\t<p data-id="deadAddr" class="deadAddr"><span class="ico"></span>\uc8fc\uc18c\uc640 \uc704\uce58\uac00 \uc815\ud655\ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\r\n\t\t\t{{/isDead}}\r\n\t\t\t{{#d3HName}}\r\n\t\t\t<p data-id="hAddr" class="hAddr"><span class="ico">\ud589\uc815\ub3d9</span><span class="txt">{{d3HName}}</span></p>\r\n\t\t\t{{/d3HName}}\r\n\t\t\t{{#subAddr}}\r\n\t\t\t<p data-id="related" class="related {{type}}"><span class="ico">{{typeName}}</span><span class="txt">{{prefix}} {{address}}</span></p>\r\n\t\t\t{{/subAddr}}\r\n\t\t\t<p data-id="wrapZip" class="wrapZip HIDDEN">\r\n\t\t\t{{#zonecode}}\r\n\t\t\t<span class="zip">(\uc6b0) {{zonecode}}</span>\r\n\t\t\t{{/zonecode}}\r\n\t\t\t{{#buildingName}}\r\n\t\t\t{{#zonecode}}<span class="bar">|</span>{{/zonecode}}\r\n\t\t\t<span class="building">{{buildingName}}</span>\r\n\t\t\t{{/buildingName}}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
AddressItemView:'<li class="AddressItem clickArea">\n\t<a data-id="fav" class="fav" href="#">\uc990\uaca8\ucc3e\uae30\ud558\uae30</a>\n\t<a data-id="name" href="#"></a>\n\t<div data-id="subList" class="wrapFolding HIDDEN"></div>\n\t<span data-id="wrapZip" class="wrapZip HIDDEN"></span>\n</li>',AddressItemViewSubList:'<div>\n\t<a class="folder IMG-img_newico" data-id="btnFolder" href="#">\ud3f4\ub354</a>\n\t<ul class="subList">\n\t\t{{#subList}}\n\t\t<li>\n\t\t\t<span class="typeImg IMG-img_newico {{type}}">{{typeName}}</span><a href="#" class="txt" data-x="{{x}}" data-y="{{y}}" data-address="{{address}}">{{address}}</a>\n\t\t</li>\n\t\t{{/subList}}\n\t</ul>\n</div>',
AreaToolDetail:'<div class="AreaToolDetail">\r\n\t<ul data-id="info">\r\n\t\t<li>\r\n\t\t\t<span class="detailToolLabel">\ucd1d\uba74\uc801</span>\r\n\t\t\t<strong data-id="area"></strong>\r\n\t\t\t<span data-id="unit"></span>\r\n\t\t</li>\r\n\t\t<li class="detailToolClose">\r\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\r\n\t\t</li>\r\n\t</ul>\r\n\t<p data-id="help">\ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd \ub610\ub294<span>ESC\ub97c \ub204\ub974\uba74 \ub9c8\uce69\ub2c8\ub2e4</span></p>\r\n</div>\r\n',
BusDetailInfo:'<div class="detailInfo">\r\n\t<div data-id="firstLast">\r\n\t\t<p class="title">\uc6b4\ud589\uc2dc\uac04</p>\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="head"></th>\r\n\t\t\t\t\t<th data-id="startPoint" class="startPoint pointTitle"></th>\r\n\t\t\t\t\t<th data-id="turningPoint" class="turningPoint pointTitle"></th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody data-id="firstLastList"></tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t\r\n\t<div data-id="interval">\r\n\t\t<p class="title">\ubc30\ucc28\uac04\uaca9</p>\r\n\t\t<table>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="head"></th>\r\n\t\t\t\t\t<th></th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t   \t<tbody data-id="intervalList"></tbody>\r\n\t\t</table>\r\n\t</div>\r\n\t\r\n</div>',
BusFilterSelectBoxView:'<div class="BusFilterSelectBoxView">\n\t<div data-id="label" class="label">\uc804\uccb4\uc9c0\uc5ed</div>\n\t<ul data-id="regions" class="regions">\n\t</ul>\n</div>\n',BusItemView:'<li class="BusItem">\n\t<a data-id="fav" href="#" class="fav" >\uc990\uaca8\ucc3e\uae30\ud558\uae30</a>\n\t<div data-id="para" class="para clickArea">\n\t\t<span data-id="bustype" class="bustype"></span>\n\t\t<a href="#" data-id="name" class="name"></a>\n\t\t<span class="bar">|</span>\n\t\t<span data-id="region" class="region"></span>\n\t\t<p class="startEnd clickArea">\n\t\t\t<span data-id="start" class="start"></span>\n\t\t\t<span class="busarrow">\uc5d0\uc11c</span>\n\t\t\t<span data-id="end" class="end"></span>\n\t\t</p>\n\t</div>\n</li>\n',
BusMessageView:'<div class="BusMessageView">\n\t<div data-id="current" class="line">\n\t\t<span data-id="currenttext"></span>\n\t\t<div data-id="currentupperparagraph" class="paragraph ">\n\t\t\t<div data-id="currentupperwrap">\n\t\t\t\t<div data-id="currentupperlabel" class="label"></div>\n\t\t\t\t<span data-id="currentupperbtn" class="btn"></span>\n\t\t\t</div>\n\t\t\t<span data-id="currentuppertext" class="text"></span>\n\t\t</div>\n\t\t<div data-id="currentlowerparagraph" class="paragraph ">\n\t\t\t<div data-id="currentlowerwrap">\n\t\t\t\t<div data-id="currentlowerlabel" class="label"></div>\n\t\t\t\t<span data-id="currentlowerbtn" class="btn"></span>\n\t\t\t</div>\n\t\t\t<span data-id="currentlowertext" class="text"></span>\n\t\t</div>\n\t</div>\n\t<div data-id="next" class="line">\n\t\t<a data-id="nexttext" class="text"></a>\n\t\t<div data-id="nextupperparagraph" class="paragraph ">\n\t\t\t<div data-id="nextupperwrap">\n\t\t\t\t<div data-id="nextupperlabel" class="label"></div>\n\t\t\t\t<span data-id="nextupperbtn" class="btn"></span>\n\t\t\t</div>\n\t\t\t<span data-id="nextuppertext" class="text"></span>\n\t\t</div>\n\t\t<div data-id="nextlowerparagraph" class="paragraph ">\n\t\t\t<div data-id="nextlowerwrap">\n\t\t\t\t<div data-id="nextlowerlabel" class="label"></div>\n\t\t\t\t<span data-id="nextlowerbtn" class="btn"></span>\n\t\t\t</div>\n\t\t\t<span data-id="nextlowertext" class="text"></span>\n\t\t</div>\n\t</div>\n</div>',
BusNumberLineItemView:'<li class="BusNumberLineItemView">\r\n\t<a href="#" class="ICON-fav" data-id="fav"></a>\r\n\t<div class="busNumberWrap">\r\n\t\t<span data-id="line" class="line">\r\n\t\t\t<span class="pointBar"></span>\r\n\t\t\t<span class="point"></span>\r\n\t\t\t<span data-id="speedBar" class="speedBar HIDDEN"></span>\r\n\t\t</span>\r\n\t\t<span class="turningpoint HIDDEN" data-id="turningpoint"></span>\r\n\t\t<h6 class="busstop" data-id="stopname">{{stopname}}</h6>\r\n\t\t<p class="busid" data-id="busid">{{busid}}</p>\r\n\t\t<span data-id="nonstop" class="HIDDEN"></span>\r\n\t</div>\r\n</li>',
BusStopGroupInfoWindow:'<div class="BusStopGroupInfoWindow InfoWindow">\n\t<div class="top"></div>\n\t<div class="body" data-id="body">\n\t\t<button type="button" class="ICON-closebox closebox" data-id="close" title="\ub2eb\uae30"></button>\n\t\t<h6>\uc774 \uc8fc\ubcc0\uc758 \ubc84\uc2a4\uc815\ub958\uc7a5</h6>\n\t</div>\n\t<div class="bottom"></div>\n\t<div class="tail tail1"></div>\n\t<div class="tail tail2"></div>\n\t<div class="tail tail3"></div>\n\t<div class="tail tail4"></div>\n\t<div class="tail tail5"></div>\n\t<div class="tail tail6"></div>\n\t<div class="tail tail7"></div>\n\t<div class="tail tail8"></div>\n</div>\n',
BusStopGroupInfoWindowItem:'<table class="item">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class="title">\n\t\t\t\t<a href="#" class="name" data-id="name"></a>\n\t\t\t\t<div data-id="codenames"></div>\n\t\t\t</td>\n\t\t\t<td class="desc"><div class="types" data-id="types"></div></td>\n\t\t</tr>\n\t</tbody>\n</table>',BusStopInfoWindow:'<div class="BusStopInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<button type="button" data-id="rv" class="rv ICON-roadview" title="\ub85c\ub4dc\ubdf0"></button>\r\n\t\t<button type="button" data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></button>\r\n\t\t<div class="busTit" data-id="busTit">\r\n\t\t\t<h6 class="DOTUM14"><span data-id="name">\uc911\uc559\uc5d0\ub108\ube44\uc2a4 \ud55c\ub0a8\uc9c0\uc810 \uc8fc\uc720\uc18c</span>\r\n\t\t\t\t<span data-id="idlist" class="idlist">\r\n\t\t\t\t\t<\!-- \r\n\t\t\t\t\t<small class="DOTUM" data-id="stopid1">03-162</small>\r\n\t\t\t\t\t<small class="stopid HIDDEN" data-id="stopid2"><span class="column">|</span></small>\r\n\t\t\t\t\t --\>\r\n\t\t\t\t</span>\r\n\t\t\t</h6>\r\n\t\t<\!--  \t<div data-id="idlist" class="HIDDEN">\r\n\t\t\t\t<span class="stopid" data-id="stopid1">10-332(\uc11c\uc6b8)</span>\r\n\t\t\t\t<span class="stopid HIDDEN" data-id="stopid2"><span class="column">|</span></span>\t\t\t\r\n\t\t\t</div>--\>\r\n\t\t</div>\r\n\t\t<div data-id="progressbar" class="progressbar">\r\n\t\t\t<p class="DOTUM11 progressbartitle">\uc2e4\uc2dc\uac04 \ubc84\uc2a4\uc815\ubcf4</p>\r\n\t\t</div>\r\n\t\t<ul data-id="list"></ul>\r\n\t\t<div class="rule"></div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
BusStopItemView:'<li class="BusStopItem">\n\t<span class="iconWrap">\n\t\t<span data-id="icon" class="icon"></span>\n\t\t<a data-id="fav" class="fav" href="#">\uc990\uaca8\ucc3e\uae30\ud558\uae30</a>\n\t</span>\n\t<div data-id="para" class="para">\n\t\t<h6 class="clickArea">\n\t\t\t<a data-id="name" class="name" href="#"></a>\n\t\t\t<span data-id="roadview" class="roadview HIDDEN">\ub85c\ub4dc\ubdf0</span>\n\t\t</h6>\n\t\t<div data-id="infoWrap" class="infowrap clickArea">\n\t\t\t<div data-id="busCodes"></div>\n\t\t\t<p data-id="region" class="region"></p>\n\t\t\t<div data-id="bustype" class="bustypes clickArea">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</li>\n',
BusStopLineItemView:'<li class="BusStopLineItemView">\r\n\t<button type="button" data-id="fav" class="fav ICON-fav ICON-fav-brighter" title="\uc990\uaca8\ucc3e\uae30"></button>\r\n\t<a href="#" data-id="name" class="stopname" title="110A (\uc11c\uc18c\ubb38\ud589)">\r\n\t\t<span class="BUS-yellow"></span>\r\n\t\t110A (\uc11c\uc18c\ubb38\ud589)\r\n\t</a>\r\n\t<span data-id="action"></span>\r\n\t<span data-id="status" class="status DOTUM11">\ub3c4\ucc29\uc608\uc815\uc815\ubcf4 \uc5c6\uc74c</span>\r\n\t<div class="rule2"></div>\r\n</li>\r\n',
BusStopRouteInfoWindowContent:'<div class="BusStopRouteInfoWindowContent">\r\n\t<div data-id="busInfo" class="busInfo">\r\n\t\t{{#moreRoute}}<span class="desc" data-id="desc">{{moreRoute}}</span>{{/moreRoute}}\r\n\t\t{{#time}}<span class="time" data-id="time"><em class="bar">|</em> <strong>{{time}}</strong></span>{{/time}}\r\n\t</div>\r\n\t<div class="valuable">\r\n\t\t<span class="busTotal">\ucd1d <strong data-id="busCnt"></strong>\uac1c \ubc84\uc2a4 \ud0d1\uc2b9 \uac00\ub2a5</span>\r\n\t\t<a href="#" data-id="refresh" class="refresh">refresh</a>\r\n\t</div>\r\n\t<ul data-id="list"></ul>\r\n</div>',
CarRouteItemView:'<li class="CarRouteItem">\r\n\t<div data-id="summary" class="summary"></div>\r\n\t<div data-id="detail" class="detail"></div>\r\n</li>',CarRoutePaySettingView:'<div class="CarRoutePaySettingView">\r\n\t<form data-id="paySettingForm" onsubmit="return false;">\r\n\t\t<fieldset>\r\n\t\t\t<legend class="screen_out">\uc694\uae08\uc124\uc815 \ud3fc</legend>\t\r\n\t\t\t<div class="pay_setting">\r\n\t\t\t\t<strong class="ico_pathfind tit_setting">\ud1b5\ud589\ub8cc- \ucc28\uc885 \uc124\uc815</strong>\r\n\t\t\t\t<ul class="list_setting">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<input type="radio" id="radioCarType1" class="inp_car" data-id="radioCarType1">\r\n\t\t\t\t\t\t<label for="radioCarType1" class="lab_car">\r\n\t\t\t\t\t\t\t<span data-id="radioCarSpan1" class="ico_pathfind"></span>\r\n\t\t\t\t\t\t\t1\uc885 : \uc2b9\uc6a9\ucc28, \uc18c\ud615 \uc2b9\ud569\ucc28\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<input type="radio" id="radioCarType2" class="inp_car" data-id="radioCarType2">\r\n\t\t\t\t\t\t<label for="radioCarType2" class="lab_car">\r\n\t\t\t\t\t\t\t<span data-id="radioCarSpan2" class="ico_pathfind"></span>\r\n\t\t\t\t\t\t\t2\uc885 : \uc911\ud615 \uc2b9\ud569\ucc28, \uc911\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<input type="radio" id="radioCarType3" class="inp_car" data-id="radioCarType3">\r\n\t\t\t\t\t\t<label for="radioCarType3" class="lab_car">\r\n\t\t\t\t\t\t\t<span data-id="radioCarSpan3" class="ico_pathfind"></span>\r\n\t\t\t\t\t\t\t3\uc885 :  \ub300\ud615 \uc2b9\ud569\ucc28, 2\ucd95 \ub300\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<input type="radio" id="radioCarType4" class="inp_car" data-id="radioCarType4">\r\n\t\t\t\t\t\t<label for="radioCarType4" class="lab_car">\r\n\t\t\t\t\t\t\t<span data-id="radioCarSpan4" class="ico_pathfind"></span>\r\n\t\t\t\t\t\t\t4\uc885 : 3\ucd95 \ub300\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<input type="radio" id="radioCarType5" class="inp_car" data-id="radioCarType5">\r\n\t\t\t\t\t\t<label for="radioCarType5" class="lab_car">\r\n\t\t\t\t\t\t\t<span data-id="radioCarSpan5" class="ico_pathfind"></span>\r\n\t\t\t\t\t\t\t5\uc885 : 4\ucd95 \uc774\uc0c1 \ud2b9\uc218\ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class="lst">\r\n\t\t\t\t\t\t<input type="radio" id="radioCarType6" class="inp_car" data-id="radioCarType6">\r\n\t\t\t\t\t\t<label for="radioCarType6" class="lab_car">\r\n\t\t\t\t\t\t\t<span data-id="radioCarSpan6" class="ico_pathfind"></span>\r\n\t\t\t\t\t\t\t6\uc885 : \uacbd\ucc28\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<a href="http://www.ex.co.kr/site/com/pageProcess.do?oneDpMnNo=&selDpPgNm=menuno%3D100401011&selDpMnNo=&paramStr=&detailTp=&dirNm=portal&kwd=" target="_blank" class="link_office">\ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac</a>\r\n\t\t\t</div>\r\n\t\t\t<div class="pay_setting refuel_setting">\r\n\t\t\t\t<strong class="ico_pathfind tit_setting">\uc8fc\uc720\ube44 \uc124\uc815</strong>\r\n\t\t\t\t<dl class="list_type">\r\n\t\t\t\t\t<dt class="tit_refuel"><label for="setRefuel">\uc720\uc885</label></dt>\r\n\t\t\t\t\t<dd class="detail_refuel">\r\n\t\t\t\t\t\t<div data-id="setRefuel" class="opt_pathfind">\r\n\t\t\t\t\t\t\t<div class="screen_out">\uc8fc\uc720 \uc885\ub958 \uc120\ud0dd\uc0c1\uc790</div>\r\n\t\t\t\t\t\t\t<span class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 : </span>\r\n\t\t\t\t\t\t\t<a href="#" class="img_pathfind link_selected" data-id="setRefuelText" >\ud718\ubc1c\uc720</a>\r\n\t\t\t\t\t\t\t<div class="screen_out">\uc120\ud0dd\uc635\uc158</div>\r\n\t\t\t\t\t\t\t<ul class="list_opt">\r\n\t\t\t\t\t\t\t\t<li><a href="#" class="link_option" data-id="gasoline">\ud718\ubc1c\uc720</a></li>\r\n\t\t\t\t\t\t\t\t<li><a href="#" class="link_option" data-id="light">\uacbd\uc720</a></li>\r\n\t\t\t\t\t\t\t\t<li><a href="#" class="link_option" data-id="lpg">LPG</a></li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<span data-id="refuelDate">2014.11.12</span> \uae30\uc900 \uc720\uac00<em class="txt_value emph_value" data-id="refuelPrice">1,735\uc6d0/L</em>\r\n\t\t\t\t\t</dd>\r\n\t\t\t\t\t<dt class="tit_refuel tit_mileage"><label for="setMileage">\uc5f0\ube44</label></dt>\r\n\t\t\t\t\t<dd class="detail_refuel detail_mileage">\r\n\t\t\t\t\t\t\uc5f0\ub8cc1L\ub2f9 \uc8fc\ud589\uac70\ub9ac<input type="text" id="setMileage" maxlength="6" class="inp_mileage" value="12" data-id="setMileage">km</dd>\r\n\t\t\t\t</dl>\r\n\t\t\t\t<a href="http://www.opinet.co.kr/index.do?cmd=main" target="_blank" class="link_office">\ud55c\uad6d\uc11d\uc720\uacf5\uc0ac opinet</a>\r\n\t\t\t</div>\r\n\t\t\t<ul class="list_setcaution">\r\n\t\t\t\t<li class="ico_pathfind">\uc8fc\uc720\ube44, \ud1b5\ud589\ub8cc \uc815\ubcf4\ub294 \uc8fc\uc720\uc18c \uac00\uaca9 \ubc0f  \ud1b5\ud589\uc2dc\uac04\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li>\r\n\t\t\t\t<li class="ico_pathfind">\ud574\ub2f9 \uc11c\ube44\uc2a4 \uacb0\uacfc\ub294 \uc608\uc0c1 \ube44\uc6a9\uc73c\ub85c, \ucc38\uace0\uc6a9\uc73c\ub85c\ub9cc \uc774\uc6a9\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.</li>\r\n\t\t\t</ul>\r\n\t\t\t<button type="submit" class="img_pathfind btn_setting">\uc124\uc815\uc644\ub8cc</button>\r\n\t\t</fieldset>\r\n\t</form>\r\n</div>',
CarRouteResultView:'<div class="info_pathfind"> <\!-- \uc694\uae08\uc124\uc815 \uc120\ud0dd\uc2dc paysetting_on \ud074\ub798\uc2a4 \ucd94\uac00  --\>\r\n\t<div class="menu_pathfind">\r\n\t\t<div class="inner_pathfind">\r\n\t\t\t<div data-id="option" class="opt_pathfind"> <\!-- \uc635\uc158 \uc120\ud0dd\uc2dc opt_open \ud074\ub798\uc2a4 \ucd94\uac00 --\>\r\n\t\t\t\t<div class="screen_out">\uae38\ucc3e\uae30 \uc885\ub958 \uc120\ud0dd\uc0c1\uc790</div>\r\n\t\t\t\t<span class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 : </span>\r\n\t\t\t\t<a href="#" data-id="optionText" class="img_pathfind link_selected">\ucd5c\uc801</a>\r\n\t\t\t\t<div class="screen_out">\uc120\ud0dd\uc635\uc158</div>\r\n\t\t\t\t<ul class="list_opt">\r\n\t\t\t\t\t<li><a href="#" data-id="recomm" class="link_option">\ucd5c\uc801</a></li>\r\n\t\t\t\t\t<li><a href="#" data-id="freeway" class="link_option">\ubb34\ub8cc</a></li>\r\n\t\t\t\t\t<li><a href="#" data-id="shortest" class="link_option">\ucd5c\ub2e8\uac70\ub9ac</a></li>\r\n\t\t\t\t\t<li><a href="#" data-id="bike" class="link_option">\uc790\ub3d9\ucc28\uc804\uc6a9\uc81c\uc678</a></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div data-id="realtime" class="check_live">\r\n\t\t\t\t<input type="checkbox" data-id="realCheckBox" id="checkLive" class="inp_live">\r\n\t\t\t\t<label for="checkLive" class="lab_live">\r\n\t\t\t\t\t<span data-id="realCheck" class="ico_pathfind ico_choiced"></span> <\!-- \uccb4\ud06c\uc2dc ico_choiced \ucd08\uc810\uc774\ub3d9\uc2dc ico_focused \ucd94\uac00 --\>\r\n\t\t\t\t\t\uc2e4\uc2dc\uac04\uad50\ud1b5\uc815\ubcf4\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#" data-id="payset" class="link_payset link_payon"><span class="ico_pathfind txt_payset">\uc694\uae08\uc124\uc815</span></a>\r\n\t</div>\r\n</div>',
CarRouteSummaryView:'<div class="CarRouteSummaryView">\r\n\t<span data-id="selectedBar" class="selectedBar daum"><em class="bottomBar"></em></span>\r\n\t<div class="contents">\r\n\t\t<p class="header">\r\n\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t</p>\r\n\t\t<div class="info">\r\n\t\t\t<span data-id="toll" class="toll HIDDEN"></span>\r\n\t\t\t<span data-id="split" class="split HIDDEN">|</span>\r\n\t\t\t<span data-id="taxi" class="taxi HIDDEN"></span>\r\n\t\t\t<span data-id="oil" class="oil HIDDEN"></span>\r\n\t\t</div>\r\n\t\t<div data-id="roadviewVideoWrap" class="roadviewVideoWrap HIDDEN"></div>\r\n\t</div>\r\n\t<div class="ferryNodeInfo"><span class="ferryNotice"></span></div>\r\n</div>',
CctvInfoWindow:'<div class="InfoWindow CctvInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<h6></h6>\r\n\t\t<div data-id="dimmed" class="cctvDimmed HIDDEN">\r\n\t\t\t<span data-id="dimmedText" class="dimmedText"></span>\r\n\t\t\t<a href="#" data-id="play" class="play">\uc7ac\uc0dd</a>\r\n\t\t\t<div class="dimmedLayer"></div>\r\n\t\t</div>\r\n\t\t<div class="cctv_video_target"></div>\r\n\t\t<blockquote></blockquote>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
CheckpointItemGroupView:'<li class="CheckpointItemGroupView">\n\t<div class="headbg"></div>\n\t<div data-id="summary" class="summary">\n\t\t<a data-id="detailBtn" class="detailBtn" href="#"></a>\n\t\t<div class="expressInfo">\n\t\t\t<span data-id="time" class="time"></span>\n\t\t\t<span class="bar">|</span>\n\t\t\t<span data-id="distance" class="distance"></span>\n\t\t</div>\n\t\t<img data-id="icon" class="expressIcon" />\n\t\t<strong data-id="name" class="expressName"></strong>\n\t</div>\n\t<div data-id="overview" class="overview"></div>\n\t<ol data-id="checkpoints"></ol>\n\t<div class="bottombg"></div>\n</li>',
CheckpointItemView:'<li class="CheckpointItem">\n\t<a data-id="roadview" class="roadview" href="#"></a>\n\t<div data-id="traffic" class="traffic">\n\t\t<div data-id="arrow" class="arrow"></div>\n\t\t<div data-id="state" class="state"></div>\n\t</div>\n\t<div data-id="seq" class="seq"></div>\n\t<a data-id="name" class="name" href="#"></a>\n\t<a data-id="desc" class="info" href="#"></a>\n\t<ul data-id="accident" class="accContainer"></ul>\n</li>',DistanceToolDetail:'<div class="DistanceToolDetail">\n\t<ul>\n\t\t<li data-id="relativeWrap">\n\t\t\t<span class="detailToolLabel">\uc0c1\ub300\uac70\ub9ac</span>\n\t\t\t<strong data-id="relativeDistance">0</strong>\n\t\t\t<span data-id="relativeDistanceUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ucd1d\uac70\ub9ac</span>\n\t\t\t<strong data-id="totalDistance">0</strong>\n\t\t\t<span data-id="totalDistanceUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ub3c4\ubcf4</span>\n\t\t\t<span class="HIDDEN" data-id="walkHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="walkMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\uc790\uc804\uac70</span>\n\t\t\t<span class="HIDDEN" data-id="bicycleHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="bicycleMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li class="detailToolClose">\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\n\t\t</li>\n\t</ul>\n\t<p data-id="help">\ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd \ub610\ub294<span>ESC\ub97c \ub204\ub974\uba74 \ub9c8\uce69\ub2c8\ub2e4</span></p>\n</div>',
DupItemView:'<li class="DupItemView" >\r\n\t<span data-id="number" class="number"></span>\r\n\t<span data-id="flag" class="dupFlag"></span>\r\n\t<span data-id="name" class="name">\ub0a8\uc0b0\ub3c4\uc11c\uad00 \ubb38\ud654\ud65c\ub3d9 \uc9c0\uc6d0\uacfc</span>\r\n</li>',DupListView:'<div class="DupListView">\r\n\t<div class="dupTitleWrap">\r\n\t\t<span class="dupTitle">\uad00\ub828\uc7a5\uc18c(<em data-id="dup_cnt">2</em>)\uac74</span>\r\n\t\t<a class="dupToggle" data-id="dupToggle"></a>\r\n\t</div>\r\n\t<ul class="duplist HIDDEN" data-id="duplist"></ul>\r\n</div>',
FavoriteConnectSyncView:'<div data-id="{{info.service}}Box" class="bookmark_kakaomap">\n    <span class="ico_interlock ico_{{info.service}}map">{{info.title}}</span>\n    <em class="tit_control">{{info.title}} \uc990\uaca8\ucc3e\uae30</em>\n    <span class="txt_total">\uc804\uccb4<span class="txt_num">{{count.total}}</span>\uac1c{{#info.isKakao}}/200\uac1c{{/info.isKakao}}</span>\n    <div class="box_bookmark">\n        {{#data}}\n        <em class="tit_category">{{category}}</em>\n        <ul data-cate="{{cateType}}" class="list_category">\n            {{#list}}\n            <li data-service="{{info.service}}" data-type="{{type}}" data-key="{{key}}" data-x="{{x}}" data-y="{{y}}">\n                <div class="bookmark_registerated">\n                    <em class="ico_pin ico_{{typeClass}}">{{typeName}}</em>\n                    {{#isplace}}\n                    <span class="txt_registerated">{{display1}}</span>\n                    {{/isplace}}\n                    {{#isroute}}\n                    <div class="registerated_route">\n                        {{#route_form}}\n                            <span class="wrap_route">\n                                <span class="ico_interlock ico_{{iconClass}}">{{#isArrival}}<span class="arrive_g">{{/isArrival}}{{iconName}}{{#isArrival}}</span>{{/isArrival}}</span>\n                                <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                            </span>\n                        {{/route_form}}\n                    </div>\n                    {{/isroute}}\n                    {{#isbus}}\n                    <em class="emph_busstation">{{display1}}{{#isSubInfo}}<span class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}<span class="screen_out">\uc815\ub958\uc7a5</span></em>\n                    <span class="wrap_busstation HIDDEN" data-key="{{key}}"></span>\n                    {{/isbus}}\n                    {{#isroadview}}\n                    <span class="txt_registerated">{{display1}}</span>\n                    {{/isroadview}}\n                </div>\n\n                {{^info.isKakao}}\n                {{#isDup}}\n                <span class="txt_add_complate">\ucd94\uac00\uc644\ub8cc</span>\n                {{/isDup}}\n                {{^isDup}}\n                <button type="button" class="btn_interlock btn_add">\ucd94\uac00</button>\n                {{/isDup}}\n                {{/info.isKakao}}\n                {{#info.isKakao}}\n                <button type="button" class="btn_interlock btn_delete">\uc0ad\uc81c</button>\n                {{/info.isKakao}}\n            </li>\n            {{/list}}\n        </ul>\n        {{/data}}\n    </div>\n</div>',
FavoriteConnectView:'<div class="FavoriteConnectView favorite_layer HIDDEN">\n    <div data-id="accountLayer" class="inner_favorite_layer" >\n        <div class="layer_head">\n            <strong class="screen_out">\uacc4\uc815 \uc5f0\uacb0 \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_connection"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\uacc4\uc815\uc744 \uc5f0\uacb0 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</em>\n            <p class="txt_interlock">\uce74\uce74\uc624\ub9f5 \uc990\uaca8\ucc3e\uae30\uc5d0 \uc5f0\uacb0\ud558\ub824\uba74<br />Daum \uc544\uc774\ub514\uc640 \uce74\uce74\uc624\uacc4\uc815 \uc5f0\uacb0\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.</p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="accountOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uacc4\uc815 \uc5f0\uacb0 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="favoriteLayer" class="inner_favorite_layer">\n        <div class="layer_head">\n            <strong class="screen_out">\uacc4\uc815 \uc5f0\uacb0 \uc2dc\uc791 \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_connection_map"></span>\n            <em class="emph_myemail"><span class="screen_out">\ub2e4\uc74c\uacc4\uc815 \uba54\uc77c</span><span data-id="daumAccount"></span></em>\n            <em class="emph_otheremail"><span class="screen_out">\uce74\uce74\uc624\uacc4\uc815 \uba54\uc77c</span><span data-id="kakaoAccount"></span></em>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock tit_interlock3">Daum\uc9c0\ub3c4\uc640 \uce74\uce74\uc624\ub9f5\uc758 \uc990\uaca8\ucc3e\uae30\ub97c<br />\ud568\uaed8 \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \uc990\uaca8\ucc3e\uae30\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.</em>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="favoriteOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uacc4\uc815 \uc5f0\uacb0 \uc2dc\uc791 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="disconnectLayer" class="inner_favorite_layer">\n        <div class="layer_head">\n            <strong class="screen_out">\uacc4\uc815 \uc5f0\uacb0 \ud574\uc81c \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_revocation"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\uce74\uce74\uc624\ub9f5 \uc990\uaca8\ucc3e\uae30 \uc5f0\uacb0\uc744 \ud574\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</em>\n            <p class="txt_interlock">\uce74\uce74\uc624\ub9f5 \uc990\uaca8\ucc3e\uae30 \uc5f0\uacb0\uc744 \ud574\uc81c\ud558\uba74 \uce74\uce74\uc624\uacc4\uc815\uacfc \uc5f0\uacb0 \uc804\uc758<br />Daum \uc544\uc774\ub514\ub85c \uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30 \ubaa9\ub85d\uc73c\ub85c \ub3cc\uc544\uac11\ub2c8\ub2e4.</p>\n            <p class="txt_cancel">* \uc5f0\uacb0\ud574\uc81c \ud6c4\uc5d0\ub3c4 \uce74\uce74\uc624\ub9f5(\uc571)\uc758 \uc990\uaca8\ucc3e\uae30\ub294 \uadf8\ub300\ub85c \uc720\uc9c0\ub429\ub2c8\ub2e4.</p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="disconnectOK" class="btn_interlock btn_revocation">\uc5f0\uacb0\ud574\uc81c</button>\n            <button type="button" data-id="disconnectCancel" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uacc4\uc815 \uc5f0\uacb0 \ud574\uc81c \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="completeLayer" class="inner_favorite_layer inner_favorite_layer1">\n        <div class="layer_head">\n            <strong class="screen_out">\uacc4\uc815 \uc5f0\uacb0 \uc644\ub8cc \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_loading HIDDEN"></span>\n            <span class="ico_interlock ico_complete HIDDEN"></span>\n        </div>\n        <div class="layer_body">\n            <p class="tit_interlock connecting_txt HIDDEN">\uc990\uaca8\ucc3e\uae30 \ucd94\uac00\uc911 \uc785\ub2c8\ub2e4.</p>\n            <p class="tit_interlock complate_none_txt HIDDEN">\uce74\uce74\uc624\ub9f5 \uc990\uaca8\ucc3e\uae30\uc640 \uc5f0\uacb0\ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br/>\uc774\ud6c4 \uc990\uaca8\ucc3e\uae30\ub97c \ucd94\uac00\ud558\uc2dc\uba74 \uce74\uce74\uc624\ub9f5\uc5d0 \ud568\uaed8 \ubc18\uc601\ub429\ub2c8\ub2e4.</p>\n            <p class="tit_interlock complate_txt HIDDEN">\ucd1d <span class="copy_cnt">0</span>\uac1c\uc758 \uc990\uaca8\ucc3e\uae30\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br/>\ucd94\uac00\ub41c \uc990\uaca8\ucc3e\uae30\ub294 \'\uc5f0\uacb0\uad00\ub9ac\'\uc5d0\uc11c \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\n            <p class="tit_interlock limit_txt HIDDEN">\ucd1d <span class="copy_cnt">0</span>\uac1c\uc758 \uc990\uaca8\ucc3e\uae30\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br/>\uac1c\uc218\uc81c\ud55c\uc73c\ub85c \uac00\uc838\uc624\uc9c0 \ubabb\ud55c \uc990\uaca8\ucc3e\uae30\ub294 \'\uc5f0\uacb0\uad00\ub9ac\'\uc5d0\uc11c \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" class="btn_interlock btn_confirm action_close">\ud655\uc778</button>\n            <button type="button" data-id="completeOK" class="btn_interlock btn_connect">\uc5f0\uacb0\uad00\ub9ac</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uacc4\uc815 \uc5f0\uacb0 \uc644\ub8cc \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="failLayer" class="inner_favorite_layer inner_favorite_layer1">\n        <div class="layer_head">\n            <strong class="screen_out">\ubbf8\uac00\uc785 \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_nomember"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\uce74\uce74\uc624\ub9f5\uc5d0 \uac00\uc785\ub418\uc5b4 \uc788\uc9c0 \uc54a\uc740 \uacc4\uc815\uc785\ub2c8\ub2e4.</em>\n            <p class="txt_interlock">\uc990\uaca8\ucc3e\uae30 \uc5f0\uacb0\uc744 \ud558\uae30 \uc704\ud574\uc11c \ud734\ub300\ud3f0\uc5d0\uc11c<br>\uce74\uce74\uc624\ub9f5 \uac00\uc785\uc744 \uba3c\uc800 \uc9c4\ud589\ud574\uc8fc\uc138\uc694.</p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="failOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\ubbf8\uac00\uc785 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="syncLayer" class="inner_favorite_layer inner_favorite_layer7">\n        <div class="layer_head">\n            <strong class="tit_linkagelist">\uc990\uaca8\ucc3e\uae30 \uc5f0\uacb0\uad00\ub9ac</strong>\n        </div>\n        <div class="layer_body">\n            <div class="interlock_control">\n                <div data-id="daumBox" class="bookmark_kakaomap"></div>\n\n                <div class="bookmark_center">\n                    <span class="ico_interlock ico_toright">\uce74\uce74\uc624\ub9f5 \uc990\uaca8\ucc3e\uae30\ub85c \uc774\ub3d9</span>\n                    <span class="text_area">\uc5f0\uacb0\uc911</span>\n                </div>\n\n                <div data-id="kakaoBox" class="bookmark_kakaomap"></div>\n            </div>\n            <p class="txt_control">\uc990\uaca8\ucc3e\uae30\ub294<em class="emph_control">\ucd5c\ub300 200\uac1c</em>\uae4c\uc9c0 \uc800\uc7a5 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n            <p class="txt_infocontrol">\uce74\uce74\uc624\ub9f5\uc5d0\uc11c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \uc720\ud615\uc740 \uce74\uce74\uc624\ub9f5(\uc571)\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc5c6\uc73c\ub098, \ub2e4\uc74c\uc9c0\ub3c4(PC)\uc5d0\uc11c \ucd94\uac00/\uc0ad\uc81c/\ud655\uc778\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n            <span class="txt_infotype"><span class="ico_interlock ico_dot"></span>\uce74\uce74\uc624\ub9f5 \ubbf8\uc9c0\uc6d0 \uc990\uaca8\ucc3e\uae30 \uc720\ud615 : \ub85c\ub4dc\ubdf0, \uc2a4\ud1a0\uc5b4\ubdf0, \uc9c0\ud558\ucca0\ub178\uc120\ub3c4 \uae38\ucc3e\uae30, \ubc84\uc2a4\uc815\ub958\uc7a5\uc5d0\uc11c\uc758 \ud2b9\uc815 \ubc84\uc2a4 \ub178\uc120, \uc8fc\uc18c\uac00 \uc5c6\ub294 \uc9c0\uc810\uc758 \uc990\uaca8\ucc3e\uae30</span>\n            <a href="#" class="btn_interlock btn_disconnect">\uc5f0\uacb0 \ud574\uc81c</a>\n        </div>\n        <div class="layer_foot">\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n</div>',
FavoriteItemView:'<li data-id="wrap">\n    <div class="favorite_registerated">\n        <a href="#" data-id="link" class="link_registerated">\n            <strong class="ico_pin ico_{{typeClass}}">{{typeName}}</strong>\n            {{#isText}}\n            <span class="txt_registerated">{{display1}}{{#isSubInfo}}<span class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}\n            </span>\n            {{/isText}}\n            {{#isBusInfo}}\n            <span class="txt_infobus">\n                {{#isBusIcon}}<span class="ico_busline ico_{{busIconClass}}">{{busIconName}}</span>{{/isBusIcon}}{{display1}}{{#isSubInfo}}<span class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}\n            </span>\n            {{/isBusInfo}}\n            {{#isRouteInfo}}\n            <span class="registerated_route">\n                {{#route_form}}\n                <span class="wrap_route">\n                    <span class="ico_interlock ico_{{iconClass}}">{{#isArrival}}<span class="arrive_g">{{/isArrival}}{{iconName}}{{#isArrival}}</span>{{/isArrival}}</span>\n                    <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                </span>\n                {{/route_form}}\n            </span>\n            {{/isRouteInfo}}\n        </a>\n        {{#isBusStop}}\n        <span class="wrap_busstation" data-key="{{key}}">\n            <span class="screen_out">\uc815\ub958\uc7a5</span>\n        </span>\n        {{/isBusStop}}\n    </div>\n    <button type="button" data-id="more" class="btn_registerated"><span class="ico_interlock ico_more">\ub354 \ubcf4\uae30</span>\n    </button>\n    <div data-id="options" class="box_btnmore box_btnmore2">\n        <a href="#" data-id="remove" class="link_favoradd">\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c</a>\n        <a href="#" data-id="edit" class="link_favoradd">\uc990\uaca8\ucc3e\uae30 \uc774\ub984 \ud3b8\uc9d1</a>\n        {{#isStatic}}\n        <a href="#" data-id="toHome" class="link_favoradd">\uc9d1\uc73c\ub85c \ub4f1\ub85d</a>\n        <a href="#" data-id="toCompany" class="link_favoradd">\ud68c\uc0ac\ub85c \ub4f1\ub85d</a>\n        {{/isStatic}}\n        <a href="#" data-id="home" class="link_favoradd">{{isHomeText}}</a>\n    </div>\n</li>',
FavoriteManageView:'<div class="FavoriteManageView favorite_layer HIDDEN">\n    <div data-id="addLayer" class="inner_favorite_layer inner_favorite_layer4">\n        <div class="layer_head">\n            <strong class="tit_interlock tit_interlock2"><span class="layer_title">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d\ud558\uae30</span><span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n        </div>\n        <div class="layer_body box_favorite_name">\n            <em class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc774\ub984</em>\n\n            <div class="favorite_origin_wrap name_select_box">\n                <div class="choice_comm choice_address">\n                    <input id="favoriteTypeOrigin" class="inp_address" type="radio" name="favoriteNameType"/>\n                    <label for="favoriteTypeOrigin" class="lab_result">\n                        <span class="ico_interlock ico_comm"></span>\n                        <span class="txt_result">\uae30\uc874 \uc774\ub984\uc73c\ub85c \uc800\uc7a5</span>\n                    </label>\n                </div>\n\n                <div class="original_data_view"></div>\n            </div>\n\n            <div class="favorite_custom_wrap name_select_box">\n                <div class="choice_comm choice_address">\n                    <input id="favoriteTypeCustom" class="inp_address" type="radio" name="favoriteNameType"/>\n                    <label for="favoriteTypeCustom" class="lab_result">\n                        <span class="ico_interlock ico_comm"></span>\n                        <span class="txt_result">\uc0ac\uc6a9\uc790 \uc9c0\uc815 \uc774\ub984\uc73c\ub85c \uc800\uc7a5</span>\n                    </label>\n                </div>\n\n                <div class="layer_body interlock_edit">\n                    <label for="editMyfavor" class="lab_region">ex) \ud560\uba38\ub2c8 \uc9d1 \uac00\ub294 \uae38</label>\n                    <input type="text" id="editMyfavor" class="tf_interlock" />\n                </div>\n            </div>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="addOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d\ud558\uae30 \ud655\uc778 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="removeLayer" class="inner_favorite_layer inner_favorite_layer3" >\n        <div class="layer_head">\n            <strong class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c \ub808\uc774\uc5b4</strong>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\uc990\uaca8\ucc3e\uae30\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</em>\n            <p class="txt_interlock">\ud648 \ubaa9\ub85d\uc5d0 \ucd94\uac00\ub41c \uacbd\uc6b0, \ud648 \ubaa9\ub85d\uacfc \uc990\uaca8\ucc3e\uae30 \ubaa9\ub85d\uc5d0\uc11c \ud568\uaed8 \uc0ad\uc81c\ub429\ub2c8\ub2e4.</p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="removeOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="addHomeLayer" class="inner_favorite_layer inner_favorite_layer4">\n        <div class="layer_head">\n            <strong class="tit_interlock tit_interlock2">\ud648 \ud654\uba74 \ucd94\uac00\ud558\uae30 <span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n        </div>\n        <div class="layer_body result_location"><\!-- \uac80\uc0c9\uacb0\uacfc \uc788\uc744 \uacbd\uc6b0 \ud074\ub798\uc2a4 result_location --\>\n            <p class="txt_interlock txt_interlock2">\ud648 \ud654\uba74 \ucd94\uac00\ub294 \ucd5c\ub300 3\uac1c\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4.(\uc9d1/\ud68c\uc0ac \uc81c\uc678)<br />\uc0c8\ub85c\uc6b4 \ud56d\ubaa9\uc744 \ucd94\uac00\ud558\ub824\uba74, \uc544\ub798 \uae30\uc874 \ubaa9\ub85d\uc744 \uc120\ud0dd\ud558\uc5ec \uc81c\uac70\ud574\uc8fc\uc138\uc694.</p>\n            <form action="#">\n                <fieldset>\n                    <em class="screen_out">\uac80\uc0c9 \ub9ac\uc2a4\ud2b8</em>\n                    <ul data-id="registerList" class="list_region list_region_type2"></ul>\n                </fieldset>\n            </form>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="addHomeOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" data-id="addHomeCancle" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc9d1 \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="removeHomeLayer" class="inner_favorite_layer inner_favorite_layer3"><\!-- inner_xxx_layer:\uacf5\ud1b5 / inner_xxx_layer1:\ud0c0\uc785\ubcc4 --\>\n        <div class="layer_head">\n            <strong class="screen_out">\uce74\uce74\uc624\ub9f5 \ud648 \ubaa9\ub85d \uc0ad\uc81c \uc5ec\ubd80 \ub808\uc774\uc5b4</strong>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</em>\n            <p class="txt_interlock">\ud574\ub2f9 \ud56d\ubaa9\uc774 \ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub429\ub2c8\ub2e4. </p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="removeHomeOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uce74\uce74\uc624\ub9f5 \ud648 \ubaa9\ub85d \uc0ad\uc81c \uc5ec\ubd80 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="resultLayer" class="inner_favorite_layer inner_favorite_layer1">\n        <div class="layer_head">\n            <strong class="screen_out">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d/\uc218\uc815/\uc0ad\uc81c \uc644\ub8cc \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_complete"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock"><span class="result_type">\ub4f1\ub85d\uc774</span> \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</em>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="resultOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d/\uc218\uc815 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n</div>',
FavoriteOriginalItemView:'{{#isRouteType}}\n<ol class="list_myroute">\n    {{#routeList}}\n        <li>\n            <span class="ico_interlock ico_{{iconClass}}">{{iconName}}</span>\n            {{name}}\n        </li>\n    {{/routeList}}\n</ol>\n<div class="original_name HIDDEN">{{originalName}}</div>\n{{/isRouteType}}\n{{^isRouteType}}\n    <div class="original_name">{{originalName}}</div>\n{{/isRouteType}}',FavoriteRegisterItemBusArrivalView:'<a href="#" id="{{busStopLineId}}" class="link_busline">\n\t{{#isBusIcon}}\n\t<span class="txt_infobus {{countryBusClass}}"><\!-- \uc2dc\uace8 \ubc84\uc2a4 \uc77c \uacbd\uc6b0 \ud074\ub798\uc2a4 txt_countrybus \ucd94\uac00 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4. --\>\n\t\t<span class="ico_busline ico_{{busIconClass}}">{{busIconName}}</span>{{busName}}\n\t</span>\n\t{{/isBusIcon}}\n\t{{#arrivalHtml}}\n\t<span class="txt_arrival">\n\t\t<em>{{{arrivalHtml}}}</em>\n\t</span>\n\t{{/arrivalHtml}}\n</a>',
FavoriteRegisterItemView:'<li>\r\n{{#isEmpty}}\r\n    <div class="favorite_registerated">\r\n        <span class="link_registerated">\r\n            <span class="ico_pin ico_information"></span>\r\n            \uc990\uaca8\ucc3e\uae30 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.\r\n        </span>\r\n    </div>\r\n{{/isEmpty}}\r\n{{^isEmpty}}\r\n{{^isBusStop}}\r\n    <div class="favorite_registerated">\r\n        <a href="#" data-id="link" class="link_registerated">\r\n            <strong class="ico_pin ico_{{typeClass}}">{{typeName}}</strong>\r\n            {{#isText}}\r\n            <span class="txt_registerated">{{display1}}</span>\r\n            {{/isText}}\r\n            {{#isTextMyplace}}\r\n            <strong class="tit_registerated">{{typeName}}</strong>\r\n            <span class="txt_personal">{{display1}}</span>\r\n            {{/isTextMyplace}}\r\n            {{#isBusInfo}}\r\n            <span class="txt_infobus">\r\n                {{#isBusIcon}}<span class="ico_busline ico_{{busIconClass}}">{{busIconName}}</span>{{/isBusIcon}}{{display1}}{{#isSubInfo}}<span class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}\r\n            </span>\r\n            {{/isBusInfo}}\r\n            {{#isRouteInfo}}\r\n            <div class="registerated_route">\r\n                {{#route_form}}\r\n                <span class="wrap_route">\r\n                    <span class="ico_interlock ico_{{iconClass}}">{{#isArrival}}<span class="arrive_g">{{/isArrival}}{{iconName}}{{#isArrival}}</span>{{/isArrival}}</span>\r\n                    <span class="txt_route txt_{{iconClass}}">{{name}}</span>\r\n                </span>\r\n                {{/route_form}}\r\n            </div>\r\n            {{/isRouteInfo}}\r\n        </a>\r\n    </div>\r\n{{/isBusStop}}\r\n{{#isBusStop}}\r\n    {{#isBuslines}}\r\n    <div class="favorite_busstation">\r\n        <strong class="ico_pin ico_busstation">\ubc84\uc2a4/\uc815\ub958\uc7a5</strong>\r\n        <div class="favorite_busroute">\r\n            <a href="#" data-id="link" class="link_busstation">\r\n                <em class="emph_busstation">{{display1}}{{#isSubInfo}}<span class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}<span class="screen_out">\uc815\ub958\uc7a5</span></em>\r\n            </a>\r\n            <div data-id="arrival" data-stopid="{{key}}" data-lineids="{{buslines}}"\r\n                 data-bustype="{{busline_type}}"></div>\r\n\r\n            <span data-id="refresh" class="favorite_criteria HIDDEN">\r\n                <button type="button" class="ico_interlock ico_refresh">\uc0c8\ub85c\uace0\uce68</button>\r\n                <span data-id="refreshTime">\uc624\ud6c4 05:30 \uae30\uc900</span>\r\n            </span>\r\n        </div>\r\n    </div>\r\n    {{/isBuslines}}\r\n    {{^isBuslines}}\r\n    <div class="favorite_registerated">\r\n        <a href="#" data-id="link" class="link_registerated">\r\n            <strong class="ico_pin ico_busstation">\ubc84\uc2a4/\uc815\ub958\uc7a5</strong>\r\n            <span class="txt_registerated">{{display1}}</span>\r\n        </a>\r\n    </div>\r\n    {{/isBuslines}}\r\n{{/isBusStop}}\r\n{{/isEmpty}}\r\n</li>',
FavoriteRegisterView:'<div class="favorite_exposed">\n    <h6 class="tit_favorite tit_myfavorite">\uc990\uaca8\ucc3e\uae30</h6>\n    <ul data-id="list" class="list_registerated"></ul>\n    <a href="#" data-id="more" class="link_favormore"><span class="screen_out">\uc990\uaca8\ucc3e\uae30 \ub9ac\uc2a4\ud2b8</span>\ub354\ubcf4\uae30</a>\n\n    <div data-id="notify" class="notify">\n        <a href="#" data-id="check" class="favoriteNotice">\uc990\uaca8\ucc3e\uae30 \ud655\uc778\ud558\uae30</a>\n    </div>\n</div>',
FavoriteStaticItemView:'<li data-id="wrap">\n    <div class="favorite_registerated">\n        <a href="#" data-id="link" class="link_registerated">\n            <span data-id="stateIcon" class="ico_pin {{#modeIsHome}}ico_home{{/modeIsHome}}{{^modeIsHome}}ico_myjob{{/modeIsHome}}"></span>\n            <strong class="tit_registerated">{{#modeIsHome}}\uc9d1{{/modeIsHome}}{{^modeIsHome}}\ud68c\uc0ac{{/modeIsHome}}</strong>\n            <span data-id="name" class="txt_personal">\uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uc2dc\uba74 \uae38\ucc3e\uae30\uac00 \uc26c\uc6cc\uc9d1\ub2c8\ub2e4.</span>\n        </a>\n    </div>\n    <button type="button" data-id="more" class="btn_registerated"><span class="ico_interlock ico_more">\ub354 \ubcf4\uae30</span></button>\n    <div class="box_btnmore" data-id="options">\n        <a href="#" data-id="regist" class="link_favoradd">\ub4f1\ub85d</a>\n        <a href="#" data-id="remove" class="link_favoradd HIDDEN">\uc0ad\uc81c</a>\n    </div>\n</li>',
FavoriteStaticLayerView:'<ul class="list_find">\n    {{#home}}\n    <li data-id="home" class="ms_item">\n        <a href="#" class="link_myroute">\n            <em class="emph_personal">\uc9d1</em>\n            <span class="txt_myaddress">{{home.name}}</span>\n        </a>\n    </li>\n    {{/home}}\n    {{#company}}\n    <li data-id="company" class="ms_item">\n        <a href="#" class="link_myroute">\n            <em class="emph_personal">\ud68c\uc0ac</em>\n            <span class="txt_myaddress">{{company.name}}</span>\n        </a>\n    </li>\n    {{/company}}\n</ul>',
FavoriteStaticManageView:'<div class="FavoriteStaticManageView favorite_layer HIDDEN">\n    <div data-id="searchLayer" class="inner_favorite_layer inner_favorite_layer5">\n        <form action="#" data-id="searchBody">\n            <fieldset>\n                <div class="layer_head">\n                    <strong class="tit_interlock tit_interlock2"><span class="type_name">\uc9d1</span>\ub4f1\ub85d <span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n                </div>\n                <div class="layer_body">\n                    <p class="txt_interlock txt_interlock2"><span class="type_name2">\uc9d1\uc73c</span>\ub85c \ub4f1\ub85d\ud560 \uc8fc\uc18c \ub610\ub294 \uc7a5\uc18c\ub97c \uac80\uc0c9\ud558\uc5ec \uc120\ud0dd\ud558\uc138\uc694.</p>\n                    <div class="wrap_search">\n                        <div class="interlock_search">\n                            <label for="favoriteEnroll" class="lab_region">\uc8fc\uc18c \ub610\ub294 \uc7a5\uc18c</label>\n                            <input type="text" data-id="favoriteSearchQuery" id="favoriteEnroll" class="tf_interlock" />\n                        </div>\n                        <button type="button" data-id="findBtn" class="btn_interlock btn_search">\uac80\uc0c9</button>\n                    </div>\n                    <div class="interlock_result">\n                        <em class="screen_out">\uac80\uc0c9 \ub9ac\uc2a4\ud2b8</em>\n                        <ul class="list_region" data-id="resultList"></ul>\n                    </div>\n                </div>\n                <div class="layer_foot">\n                    <button type="button" data-id="searchOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n                    <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n                    <a href="#" class="btn_close"><span class="ico_interlock"><span class="type_name">\uc9d1</span> \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n\n    <div data-id="needConnectLayer" class="inner_favorite_layer inner_favorite_layer3">\n        <div class="layer_head">\n            <strong class="screen_out">\uce74\uce74\uc624 \uc990\uaca8\ucc3e\uae30 \uc5f0\uacb0 \ud544\uc694 \ud655\uc778 \ub808\uc774\uc5b4</strong>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock"><span class="type_name3">\uc9d1\uc744</span> \ub4f1\ub85d\ud558\ub824\uba74, \uce74\uce74\uc624\ub9f5\uacfc \uc5f0\ub3d9\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.</em>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="connectOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uce74\uce74\uc624 \uc990\uaca8\ucc3e\uae30 \uc5f0\uacb0 \ud544\uc694 \ud655\uc778 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="confirmLayer" class="inner_favorite_layer inner_favorite_layer3">\n        <div class="layer_head">\n            <strong class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc911\ubcf5 \ud655\uc778 \ub808\uc774\uc5b4</strong>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\uc774\ubbf8 <span class="type_name2">\uc9d1\uc73c</span>\ub85c \ub4f1\ub85d\ub41c \uacf3\uc774 \uc788\uc2b5\ub2c8\ub2e4.</em>\n            <p class="txt_interlock">\uae30\uc874 \uc7a5\uc18c\ub97c \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \ub4f1\ub85d\ud560\uae4c\uc694?</p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="confirmOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \uc911\ubcf5 \ud655\uc778 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="resultLayer" class="inner_favorite_layer inner_favorite_layer1">\n        <div class="layer_head">\n            <strong class="screen_out">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d \uc644\ub8cc \ud655\uc778 \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_complete"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock"><span class="type_name">\uc9d1</span> \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</em>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="resultOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n</div>',
FavoriteStaticSearchItemView:'<li>\n    <span class="choice_comm choice_address">\n        <input id="{{inputName}}{{idx}}" class="inp_address" type="radio" name="{{inputName}}" />\n        <span class="lab_result">\n            <span class="ico_interlock ico_comm"></span>\n            <span class="txt_result">{{{nameDisp}}}</span>\n            {{#secondDisp}}<span class="txt_detail">{{secondDisp}}</span>{{/secondDisp}}\n        </span>\n    </span>\n</li>',FiyFrame:'<div class="FiyFrame">\n    <iframe data-id="frame" frameborder=\'0\' border=\'0\' class="frame" src=""></iframe>\n</div>',
FlagItemInfoLayer:'<div class="FlagItemInfoLayer">\r\n\t<div data-id="origin" class="origin">\ucd9c\ubc1c</div>\r\n\t<div data-id="via" class="via">\uacbd\uc720</div>\r\n\t<div data-id="dest" class="dest">\ub3c4\ucc29</div>\r\n</div>',HistoryLayerItemView:'<li class="ms_item">\n    <a href="#" data-id="link" id="{{itemid}}" class="link_search">\n        <span class="ico_search_history ico_history_{{type}}"></span>{{name}}\n    </a>\n    <button  data-id="remove" class="btn_delete" aria-describedby="{{itemid}}" data-type="{{type}}" data-idx="{{idx}}">\n        <span class="ico_interlock ico_delete">\uc0ad\uc81c</span>\n    </button>\n</li>',
HistoryLayerView:'<div class="search_recent">\n    <em class="tit_recent">\ud788\uc2a4\ud1a0\ub9ac</em>\n    <ul data-id="wrap" class="list_recent"></ul>\n    <div class="favorite_recent">\n        <button data-id="disabled" type="button" class="btn_recentoff">\ud788\uc2a4\ud1a0\ub9ac\ub044\uae30</button>\n        <button data-id="clear" type="button" class="btn_deleteall">\uc804\uccb4\uc0ad\uc81c</button>\n    </div>\n</div>',HistoryRouteView:'<div class="cont_latest">\n    <h6 class="tit_favorite tit_recently">\ucd5c\uadfc \uae38\ucc3e\uae30 \uac80\uc0c9</h6>\n    <ul data-id="wrap" class="list_registerated">\n        {{#items}}\n        <li data-type="{{type}}" data-idx="{{idx}}">\n            <div class="favorite_registerated">\n                <a href="#" id="{{type}}{{idx}}" class="link_registerated">\n                    <strong class="ico_pin ico_{{typeIconClass}}">{{typeIconName}}</strong>\n                    <div class="registerated_route">\n                        {{#route_form}}\n                        <span class="wrap_route">\n                            <span class="ico_interlock ico_{{iconClass}}">{{#isArrival}}<span class="arrive_g">{{/isArrival}}{{iconName}}{{#isArrival}}</span>{{/isArrival}}</span>\n                            <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                        </span>\n                        {{/route_form}}\n                    </div>\n                </a>\n                <button class="btn_delete" aria-describedby="{{type}}{{idx}}" data-type="{{type}}" data-idx="{{idx}}">\n                    <span class="ico_interlock ico_delete">\uc0ad\uc81c</span>\n                </button>\n            </div>\n        </li>\n        {{/items}}\n    </ul>\n</div>',
InfoWindowToolbar:'<div class="InfoWindowToolbar">\r\n\t<a href="#" data-id="report" class="report">\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0</a>\r\n\t<span data-id="toolbarsplit" class="toolbarsplit HIDDEN"></span>\r\n\t<a href="#" data-id="rough" class="rough HIDDEN">\uc9c0\ub3c4\uacf5\uc720</a>\r\n\t<div class="right">\r\n\t\t<button type="button" data-id="origin" class="origin">\ucd9c\ubc1c</button>\r\n\t\t<button type="button" data-id="via" class="via">\uacbd\uc720</button>\r\n\t\t<button type="button" data-id="dest" class="dest">\ub3c4\ucc29</button>\r\n\t\t<a href="#" target="_blank" data-id="detail" class="detail">\uc0c1\uc138\ubcf4\uae30</a>\r\n\t</div>\r\n</div>',
IntercityInfoView:'\r\n<div class="IntercityInfoView">\r\n\t<div class="middle">\r\n\t\t<h6 class="tit">\ucd9c\ubc1c\uc9c0 \uadfc\ucc98 \ud130\ubbf8\ub110</h6>\r\n\t\t<ul class="intercityList" data-id="intercityList">\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n',IntercityInfoWindowContent:'<div class="IntercityInfoWindowContent">\n    {{#description}}<div class="desciption data-id=""description">{{description}}</div>{{/description}}\n    {{#time}}<span class="time" data-id="time"><strong>{{time}}</strong></span>{{/time}}\n</div>',
IssuedPlaceInfowindow:'<div class="IssuedPlaceInfowindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<div class="content">\r\n\t\t\t<img data-id="img" class="HIDDEN" src="" />\r\n\t\t\t<h4 data-id="tit"></h4>\r\n\t\t\t<p data-id="desc" class="desc"></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>',
LayerLegend:'<div class="LayerLegend">\r\n\t<a href="#" class="legendBtn HIDDEN"></a>\r\n\t<div class="legendWrap HIDDEN">\r\n\t\t<div class="legendSelect">\r\n\t\t\t<a href="#" data-id="traffic" class="traffic SELECT">\uad50\ud1b5</a>\r\n\t\t\t<a href="#" data-id="bike" class="bike">\uc790\uc804\uac70</a>\r\n\t\t\t<a href="#" data-id="air" class="air">\ub0a0\uc528</a>\r\n\t\t\t<a href="#" data-id="usedistrict" class="usedistrict">\uc9c0\uc801\ud3b8\uc9d1\ub3c4</a>\r\n\t\t</div>\r\n\t\t<a data-id="close" class="close" href="#"></a>\r\n\t\t<div class="TrafficLegend">\r\n\t\t    <div data-id="tooltip1" class="tooltip tooltip1 HIDDEN">\r\n\t\t        <dl>\r\n\t\t            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>:<strong>70</strong>km/h<span class="upArrow"></span></dd>\r\n\t\t            <dt>\uad6d\ub3c4</dt><dd>:<strong>50</strong>km/h<span class="upArrow"></span></dd>\r\n\t\t            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>:<strong>30</strong>km/h<span class="upArrow"></span></dd>\r\n\t\t        </dl>\r\n\t\t    </div>\r\n\t\t    <div data-id="tooltip2" class="tooltip tooltip2 HIDDEN">\r\n\t\t        <dl>\r\n\t\t            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>:<strong>50~70</strong>km/h</dd>\r\n\t\t            <dt>\uad6d\ub3c4</dt><dd>:<strong>30~50</strong>km/h</dd>\r\n\t\t            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>:<strong>20~30</strong>km/h</dd>\r\n\t\t        </dl>\r\n\t\t    </div>\r\n\t\t    <div data-id="tooltip3" class="tooltip tooltip3 HIDDEN">\r\n\t\t        <dl>\r\n\t\t            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>:<strong>30~50</strong>km/h</dd>\r\n\t\t            <dt>\uad6d\ub3c4</dt><dd>:<strong>20~30</strong>km/h</dd>\r\n\t\t            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>:<strong>10~20</strong>km/h</dd>\r\n\t\t        </dl>\r\n\t\t    </div>\r\n\t\t    <div data-id="tooltip4" class="tooltip tooltip4 HIDDEN">\r\n\t\t        <dl>\r\n\t\t            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>:<strong>30</strong>km/h<span class="downArrow"></span></dd>\r\n\t\t            <dt>\uad6d\ub3c4</dt><dd>:<strong>20</strong>km/h<span class="downArrow"></span></dd>\r\n\t\t            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>:<strong>10</strong>km/h<span class="downArrow"></span></dd>\r\n\t\t        </dl>\r\n\t\t    </div>\r\n\t\t    <p class="date">\uae30\uc900 : <span data-id="date"></span></p>\r\n\t\t    <a data-id="refresh" class="refresh" href="#">\uc0c8\ub85c\uace0\uce68</a>\r\n\t\t    <ul class="bar">\r\n\t\t        <li data-id="density1" class="density1"><a href="#">\uc6d0\ud65c</a></li>\r\n\t\t        <li data-id="density2" class="density2"><a href="#">\uc11c\ud589</a></li>\r\n\t\t        <li data-id="density3" class="density3"><a href="#">\uc9c0\uccb4</a></li>\r\n\t\t        <li data-id="density4" class="density4"><a href="#">\uc815\uccb4</a></li>\r\n\t\t        <li data-id="density5" class="density5"><a href="#">\uc815\ubcf4\uc5c6\uc74c</a></li>\r\n\t\t    </ul>\r\n\t\t    <ul class="desc">\r\n\t\t        <\!-- <li class="clickable">\uc18d\ub3c4 \uc815\ubcf4 \ub77c\uc778 \uc704\ub97c \ud074\ub9ad\ud558\uba74, \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5</li> --\>\r\n\t\t        <li>\uc2dc\ub0b4 \ub3c4\ub85c\ub294 \uc2e0\ud638 \uc815\ucc28 \ub4f1\uc758 \uc774\uc720\ub85c \uc2e4\uc81c\uc18d\ub3c4\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li>\r\n\t\t    </ul>\r\n\t\t</div>\r\n\t\t<div data-id="BikeLegend" class="BikeLegend bikecate1">\r\n\t\t\t<ul class="bikeCategory">\r\n\t\t\t\t<li class="cate1"><a href="#" data-id="bikecate1">\ub3c4\ub85c\uc548\ub0b4</a></li>\r\n\t\t        <li class="cate2"><a href="#" data-id="bikecate2">\uc9c4\uc785\ub85c</a></li>\r\n\t\t        <li class="cate3"><a href="#" data-id="bikecate3">\ud3b8\uc758\uc2dc\uc124</a></li>\r\n\t\t\t</ul>\r\n\t\t\t<div class="infocate"></div>\r\n\t\t</div>\r\n\t\t<div data-id="AirLegend" class="AirLegend aircate1">\r\n\t\t\t<ul class="airCategory">\r\n\t\t\t\t<li class="cate1"><a href="#" data-id="aircate1">\ud1b5\ud569\ub300\uae30\uc9c0\uc218</a></li>\r\n\t\t        <li class="cate2"><a href="#" data-id="aircate2">\ud669\uc0ac</a></li>\r\n\t\t        <li class="cate3"><a href="#" data-id="aircate3">\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t        <li class="cate4"><a href="#" data-id="aircate4">\uc624\uc874</a></li>\r\n\t\t        <li class="cate5"><a href="#" data-id="aircate5">\uc774\uc0b0\ud654\uc9c8\uc18c</a></li>\r\n\t\t        <li class="cate6"><a href="#" data-id="aircate6">\uc77c\uc0b0\ud654\ud0c4\uc18c</a></li>\r\n\t\t        <li class="cate7"><a href="#" data-id="aircate7">\uc544\ud669\uc0b0\uac00\uc2a4</a></li>\r\n\t\t        \r\n\t\t\t</ul>\r\n\t\t    <div data-id="airtooltip1" class="tooltip tooltip1 HIDDEN">\r\n\t\t    \t<strong>0~50</strong>\r\n\t\t    </div>\r\n\t\t    <div data-id="airtooltip2" class="tooltip tooltip2 HIDDEN">\r\n\t\t        <strong>51~100</strong>\r\n\t\t    </div>\r\n\t\t    <div data-id="airtooltip3" class="tooltip tooltip3 HIDDEN">\r\n\t\t\t\t<strong>101~250</strong>\r\n\t\t    </div>\r\n\t\t    <div data-id="airtooltip4" class="tooltip tooltip4 HIDDEN">\r\n\t\t\t\t<strong>251~</strong>\r\n\t\t    </div>\r\n\t\t    <p class="date">\uae30\uc900 : <span data-id="airdate"></span></p>\r\n\t\t    <span class="supply">\uc81c\uacf5 : <a href="http://www.airkorea.or.kr/index" target="_blank" data-id="airsupply">\ud658\uacbd\ubd80 \ud55c\uad6d\ud658\uacbd\uacf5\ub2e8</a></span>\r\n\t\t    <ul class="bar">\r\n\t\t        <li data-id="airdensity1" class="density1"><a href="#">\uc88b\uc74c</a></li>\r\n\t\t        <li data-id="airdensity2" class="density2"><a href="#">\ubcf4\ud1b5</a></li>\r\n\t\t        <li data-id="airdensity3" class="density3"><a href="#">\ub098\uc068</a></li>\r\n\t\t        <li data-id="airdensity4" class="density4"><a href="#">\ub9e4\uc6b0\ub098\uc068</a></li>\r\n\t\t        <li data-id="airdensity5" class="density5"><a href="#">\uc815\ubcf4\uc5c6\uc74c</a></li>\r\n\t\t    </ul>\r\n\t\t    <ul class="desc" data-id="airdesc">\r\n\t\t        <li>\uc2e4\uc2dc\uac04\uad00\uce21\uc790\ub8cc\uc774\uba70, \ud604\uc9c0 \uc0ac\uc815\uc5d0 \uc758\ud574 \uc624\ucc28\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li>\r\n\t\t    </ul>\r\n\t\t</div>\r\n\t\t<div data-id="UsedistrictLegend" class="UsedistrictLegend usedistrictcate1">\r\n\t\t\t<ul class="usedistrictCategory">\r\n\t\t\t\t<li class="cate1"><a href="#" data-id="usedistrictcate1">\uc9c0\ubc88/\uacbd\uacc4</a></li>\r\n\t\t        <li class="cate2"><a href="#" data-id="usedistrictcate2">\uc6a9\ub3c4\uc9c0\uc5ed</a></li>\r\n\t\t        <li class="cate3"><a href="#" data-id="usedistrictcate3">\uac1c\ubc1c\uc9c0\uad6c</a></li>\r\n\t\t        <li class="cate4"><a href="#" data-id="usedistrictcate4">\ub3c4\ub85c/\ucca0\ub3c4</a></li>\r\n\t\t        <li class="cate5"><a href="#" data-id="usedistrictcate5">\uad6d\ud1a0\uacc4\ud68d</a></li>\r\n\t\t\t</ul>\r\n\t\t\t<a href="http://blog.daum.net/daummaps/691" target="_blank" class="more">\ub354\ubcf4\uae30</a>\r\n\t\t\t<div class="infocate"></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n',
LoadingView:'<div class="LoadingView">\n    <p><img src="http://t1.daumcdn.net/localimg/localimages/07/2010/map/local/loader_big.gif" width="32" height="32" alt="" /></p>\n\t<p><img src="http://t1.daumcdn.net/localimg/localimages/07/2008/map/loading_txt.gif" width="140" height="33" alt="\ud604\uc7ac \uc815\ubcf4\ub97c \ucc3e\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694." /></p>\n</div>',LocalAdBannerView:'<div class="LocalAdBanner">\r\n\t\t<div data-id="wrapper">\r\n\t\t\t<div data-id="global" class="global HIDDEN banner">\r\n\t\t\t\t<a target="_blank" class="bannerHref" data-id="href" href="#">\r\n\t\t\t\t\t<img src="" width="223" height="46"/>\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="globalTag">\r\n\t\t\t\t\t<span class="tagHead"></span>\r\n\t\t\t\t\t<span class="tagText"></span>\r\n\t\t\t\t\t<span class="tagTail"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a target="_blank" href="#" class="where"/>\r\n\t\t\t\t<a target="_blank" href="#" class="btnHref"/>\r\n\t\t\t\t<a data-id="globalClose" class="close" href="#">close</a>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div data-id="logical" class="logical HIDDEN banner">\r\n\t\t\t\t<a target="_blank" class="bannerHref" data-id="href" href="#">\r\n\t\t\t\t\t<img src=""  width="223" height="46" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="logicalTag">\r\n\t\t\t\t\t<span class="tagHead"></span>\r\n\t\t\t\t\t<span class="tagText"></span>\r\n\t\t\t\t\t<span class="tagTail"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a target="_blank" href="#" class="where"/>\r\n\t\t\t\t<a target="_blank" href="#" class="btnHref"/>\r\n\t\t\t\t<a data-id="logicalClose" class="close" href="#">close</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>',
LocalAdThumbnailView:'<div class="LocalAdThumnailView">\r\n\t<img data-id="thumbnail" src="" width="85" height="70" />\r\n\t\r\n\t<span class="name" data-id="name"></span>\r\n</div>',MapControlView:'<div class="MapControlView">\n\t<div class="viewbuttons">\n\t\t<a data-id="roadview" class="rv" href ="#">\ub85c\ub4dc\ubdf0\ubcf4\uae30<i></i></a>\n\t\t<div data-id="traffic" class="tv">\n\t\t\t<a href="#" class="tv-accessibility">\uad50\ud1b5\uc815\ubcf4\ubcf4\uae30</a>\n\t\t\t<i></i>\n\t\t\t<ul data-id="trafficMenu" class="trafficMenu">\n\t\t\t\t<li data-index="0">\n\t\t\t\t\t<span class="checkbox"></span><span class="txt">CCTV</span>\n\t\t\t\t</li>\n\t\t\t\t<li data-index="1">\n\t\t\t\t\t<span class="checkbox"></span><span class="txt">\uc2e4\uc2dc\uac04 \uad50\ud1b5</span>\n\t\t\t\t</li>\n\t\t\t\t<li data-index="2">\n\t\t\t\t\t<span class="checkbox"></span><span class="txt">\uc0ac\uace0/\uacf5\uc0ac</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<div data-id="zoomcontrol" class="zoomcontrol">\n\t\t<a data-id="zoomin" class="zoomin zoomin-ACTIVE" href="#">\uc9c0\ub3c4\ud655\ub300<i></i></a>\n\t\t<div data-id="zoombar" class="zoombar">\n\t\t\t<i></i>\n\t\t\t<div data-id="zoomedbar" class="zoomedbar" style="height: 102px;"><i></i></div>\n\t\t\t<div data-id="zoomtext" class="zoomtext HIDDEN"><i></i></div>\n\t\t\t<div data-id="slider" class="slider" unselectable="on"\n\t\t\t\tstyle="-webkit-user-select: none; -webkit-user-drag: none; margin-top: 102px;"></div>\n\t\t</div>\n\t\t<a data-id="zoomout" class="zoomout zoomout-ACTIVE" href="#">\uc9c0\ub3c4\ucd95\uc18c<i></i></a>\n\t</div>\n\t<div data-id="tools" class="tools">\n\t\t<a data-id="distance" class="distance" href="#">\uac70\ub9ac\uc7ac\uae30</a>\n\t\t<a data-id="area" class="area" href="#">\uba74\uc801\uc7ac\uae30</a>\n\t\t<a data-id="radius" class="radius" href="#">\ubc18\uacbd\uce21\uc815</a>\n\t\t<a data-id="clear" class="clear" href="#">\ubaa8\ub450\uc9c0\uc6b0\uae30</a>\n\t\t<div data-id="tooltext" class="tooltext HIDDEN">\n            <a data-id="tooltextDistance" class="tooltextDistance" href="#"></a>\n            <a data-id="tooltextArea" class="tooltextArea" href="#"></a>\n            <a data-id="tooltextRadius" class="tooltextRadius" href="#"></a>\n            <a data-id="tooltextClear" class="tooltextClear" href="#"></a>\n\t\t</div>\n\t</div>\n    <div data-id="tileTool" class="tileTool HIDDEN">\n\t\t<a data-id="extension" class="extension" href="#"></a>\n\t\t<div data-id="extensionText" class="extensionText HIDDEN">\n\t\t\t<a href="#" data-id="textcloser" class="textcloser"></a>\n\t\t</div>\n\t</div>\n    <div class="add_place "> <\!-- add_on\ud074\ub798\uc2a4 \ucd94\uac00\uc2dc \uc548\ub0b4\ud65c\uc131\ud654 --\>\n        <a data-id="newplace" href="#" class="link_new">\uc2e0\uaddc\uc7a5\uc18c\ucd94\uac00</a>\n        <div class="layer_add">\n            <em>\uc2e0\uaddc\uc7a5\uc18c\ucd94\uac00</em><p>\uc2e0\uaddc\uc7a5\uc18c\ub97c \ub4f1\ub85d\ud558\uc2dc\ub824\uba74,\uc6b0\uce21\uc758 \uc2e0\uaddc\uc7a5\uc18c\ucd94\uac00 \uc544\uc774\ucf58\uc744 \ud074\ub9ad\ud558\uc5ec \uc6d0\ud558\ub294 \uacf3\uc5d0 \ub193\uc544\uc8fc\uc138\uc694.</p>\n            <a data-id="newPlaceInfoClose" href="#" class="link_close">\ub2eb\uae30</a>\n        </div>\n    </div>\n\t\n</div>',
MapShareToolBox:'<div class="MapShareToolBox">\r\n\t<ul class="list">\r\n\t\t<li><a href="#" class="copyUrl" data-id="copyUrl">URL \ubcf5\uc0ac</a></li>\r\n\t\t<li><a href="#" class="roughMap" data-id="roughMap">\uc9c0\ub3c4 \ud37c\uac00\uae30</a></li>\r\n\t\t<li class="split"></li>\r\n\t\t<li><a href="#" class="twitter" data-id="twitter">\ud2b8\uc704\ud130</a></li>\r\n\t\t<li><a href="#" class="facebook" data-id="facebook">\ud398\uc774\uc2a4\ubd81</a></li>\r\n\t</ul>\r\n</div>',MapTypeControl:'<div class="MapTypeControl">\r\n\t<a href="#" class="roadmap ACTIVE">\uc77c\ubc18\uc9c0\ub3c4\ub85c \ubcf4\uae30</a>\r\n\t<a href="#" class="skyview">\uc2a4\uce74\uc774\ubdf0\ub85c \ubcf4\uae30</a>\r\n</div>',
MapWalker:'<div class="MapWalker">\n\t<div data-id="body" class="body"></div>\n\t<div data-id="angle" class="angle">\n\t\t<div data-id="shadow" class="shadow"></div>\n\t</div>\n</div>',Mapapp:'<div class="Mapapp">\r\n\t<a href="#" class="qr">\uc9c0\ub3c4\uc571 QR\ucf54\ub4dc</a>\r\n\t<span class="intro"></span>\r\n\t<a href="http://itunes.apple.com/kr/app/id304608425" target="_blank" class="iphone"></a>\r\n\t<a href="https://play.google.com/store/apps/details?id=net.daum.android.map" target="_blank" class="android"></a>\r\n\t<button type="button" class="close"></button>\r\n</div>',
MediumTooltip:'<div class="MediumTooltip ">\r\n   <span class="left"></span><span class="content"><strong><a href="#" target="_blank" data-id="name"></a></strong><button type="button" data-id="roadview" class="roadviewMedium" title="\ub85c\ub4dc\ubdf0">\ub85c\ub4dc\ubdf0</button><button type="button" data-id="storeview" class="storeview" title="\uc2a4\ud1a0\uc5b4\ubdf0">\uc2a4\ud1a0\uc5b4\ubdf0</button><button type="button" data-id="destination" class="destination" title="\ub3c4\ucc29\uc9c0\ub85c \uc9c0\uc815">\ub3c4\ucc29\uc9c0</button><button type="button" data-id="expand" class="expand" title="\ud3bc\uce58\uae30">\ud3bc\uce68</button><button type="button" data-id="close" class="close" title="\ub2eb\uae30">\ub2eb\uae30</button></span><span class="right"></span>\r\n   <span class="arrow"></span>\r\n</div>\r\n\r\n',
MessageView:'<div class="MessageView">\n\t<div data-id="upper" class="line">\n\t\t<div data-id="upperwrap">\n\t\t\t<div data-id="upperlabel" class="label"></div>\n\t\t\t<span data-id="upperbtn"></span>\n\t\t</div>\n\t\t<span data-id="uppertext" class="text"></span>\n\t</div>\n\t<div data-id="lower" class="line lower">\n\t\t<div data-id="lowerwrap">\n\t\t\t<div data-id="lowerlabel" class="label"></div>\n\t\t\t<span data-id="lowerbtn"></span>\n\t\t</div>\n\t\t<a data-id="lowertext" class="text lowertext"></a>\n\t\t</div>\n\t<div class="clear"></div>\n</div>',
MiniTooltip:'<div class="MiniTooltip">\r\n   <span class="left"></span><span class="cont" data-id=\'cont\'></span><span class="right"></span>\r\n</div>',NoBusView:'<div class="NoBusView">\r\n\t\t<h5>\r\n\t\t\t<img src="http://t1.daumcdn.net/localimg/localimages/07/2013/img/new_nodata_icon.png" width="14" height="14" />\r\n\t\t\t<span data-id="titleInfo">\r\n\t\t\t\t\ud574\ub2f9 \ubc84\uc2a4{{target}}\uc758 \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \r\n\t\t\t</span>\r\n\t\t</h5>\r\n\t\t<div class="noRouteDesc" data-id="noRouteDesc"></div>\r\n\t\r\n</div>',
NoRouteContentView:'<div class="NoRouteContentView">\r\n\t<div class="wrap" data-id="content">\r\n\t\t<h5>\r\n\t\t\t<img src="http://t1.daumcdn.net/localimg/localimages/07/2013/img/new_nodata_icon.png" width="14" height="14" />\r\n\t\t\t<span data-id="titleInfo"></span>\r\n\t\t</h5>\r\n\t\t<div class="noRouteDesc" data-id="noRouteDesc"></div>\r\n\t\t<div class="intercityBox HIDDEN" data-id="intercityBox"></div>\r\n\t</div>\r\n\t<div class="info_fixroute">\r\n\t\t<a href="#" class="ico_place link_fixroute" data-id="fiyBtn">\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0</a>\r\n\t</div>\r\n</div>\r\n',
PlaceInfoWindow:'<div class="PlaceInfoWindow InfoWindow{{#pointExtension}} aoi{{/pointExtension}} ">\r\n\t<div class="top"></div>\r\n\t<div class="body" data-id="body">\r\n\t\t<button type="button" data-id="min" class="min ICON-minimize" title="\ucd95\uc18c\ud558\uae30"></button>\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<div class="altviews">\r\n\t\t\t<a data-id="rv" href="#" class="rv ICON-roadview" title="\ub85c\ub4dc\ubdf0"></a>\r\n\t\t\t<a data-id="sv" href="#" class="sv ICON-storeview" title="\uc2a4\ud1a0\uc5b4\ubdf0"></a>\r\n\t\t</div>\r\n\t\t<a data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></a>\r\n\t\t<h6 class="DOTUM14"><a href="#" class="placename" target="_blank" data-id="name"></a></h6>\r\n\t\t<div class="content">\r\n\t\t\t<p data-id="contact" class="contact">\r\n\t\t\t\t<span data-id="phone" class="phone"></span>\r\n\t\t\t\t<span data-id="allphone" class="allphone HIDDEN"></span>\r\n\t\t\t\t<button data-id="morephone" type="button" class="morephone ICON-downbtn"></button>\r\n\t\t\t\t{{^pointExtension}}\r\n\t\t\t\t<a data-id="website" class="website" href="#" target="_blank">\ud648\ud398\uc774\uc9c0</a>\r\n\t\t\t\t{{/pointExtension}}\r\n\t\t\t</p>\r\n\t\t\t<p data-id="address" class="address"></p>\r\n\t\t\t{{#courseinfo.origin}}\r\n\t\t\t<p class="origin_dest">\r\n\t\t\t\t<span data-id="courseOrigin" class="origin">{{courseinfo.origin}}</span><span class="arrow"></span><span data-id="courseDest" class="dest">{{courseinfo.dest}}</span>\r\n\t\t\t</p>\r\n\t\t\t{{/courseinfo.origin}}\r\n\t\t\t<p data-id="addInfoAddr" class="addInfoAddr DOTUM"></p>\r\n\t\t\t<p class="metadata"><span class="ICON-stars">\r\n\t\t\t\t<span data-id="stars" style="width:60%"></span></span>\r\n\t\t\t\t<a href="#" target="_blank" data-id="vote">0 (0\uac74)</a>\r\n\t\t\t\t<span class="sep">|</span>\r\n\t\t\t\t<a href="#" target="_blank" data-id="review">\ub9ac\ubdf0 <em>0</em></a>\r\n\t\t\t\t{{#pointExtension}}\r\n\t\t\t\t<span data-id="websiteSep" class="sep">|</span>\r\n\t\t\t\t<a data-id="website" class="website" href="#" target="_blank">\ud648\ud398\uc774\uc9c0</a>\r\n\t\t\t\t{{/pointExtension}}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t\t<div data-id="addition" class="addition HIDDEN"></div>\r\n\t\t<a data-id="intercityBtn" href="#" class="intercityBtn HIDDEN">\uc2e4\uc2dc\uac04\uc608\ub9e4</a>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
PlaceInfoWindowAddition:'<div data-id="addition" class="addition">\n\t<strong>{{mainName}}\uc815\ubcf4</strong><br/>\n\t{{#distance}}\ucd1d\uac70\ub9ac <strong><em>{{distance}}</em></strong>{{/distance}}{{#time}} <span class="sep">|</span> \uc18c\uc694\uc2dc\uac04 <strong><em>{{time}}</em>{{/time}}</strong>{{#difficulty}} <span class="sep">|</span> \ub09c\uc774\ub3c4 <strong><em>{{difficulty}}</em></strong>{{/difficulty}}\n\t{{#outsrclinkId}}<div data-id="location"><a class="location" href="http://place.map.daum.net/{{outsrclinkId}}" target="_blank"><em>\ucc3e\uc544\uac00\ub294\uae38</em></a></div>{{/outsrclinkId}}\n\t{{#source}}<a class="source DOTUM11" href="{{sourceUrl}}" target="_blank" data-id="source">\ucd9c\ucc98 : {{source}}</a>{{/source}}\n</div>',
PlaceInfoWindowTipAddition:'<div data-id="addition" class="addition">\r\n\t<div class="themeTip">\r\n\t\t<span class="tipimg"></span>\r\n\t\t<span class="tiptitle"><strong data-id="owner">Name</strong>\ub2d8\uc758 \ud301</span>\r\n\t\t<span class="tipcount"><strong data-id="page">0</strong>/<span data-id="total">0</span>\uac74</span>\r\n\t</div>\r\n\t<div data-id="themeTipContent" class="themeTipContent">\r\n\t\t<a href="#" data-id="tipleft" class="tipleft">\uc67c\ucabd</a>\r\n\t\t<div class="tipcontent">\r\n\t\t\t<span data-id="tiptext" class="tiptext">text</span>\r\n\t\t\t<span data-id="tipdate" class="tipdate">date</span>\r\n\t\t</div>\r\n\t\t<a href="#" data-id="tipright" class="tipright">\uc624\ub978\ucabd</a>\r\n\t</div>\r\n</div>',
PlaceItemCourseInfo:'<span data-id="courseinfo" class="courseinfo">\n\t{{#origin}}<span data-id="courseOrigin" class="origin">{{origin}}</span><span class="arrow"></span><span data-id="courseDest" class="dest">{{dest}}</span><br/>{{/origin}}\n\t{{#length}}\ucd1d\uac70\ub9ac <span data-id="courseLength" class="courseLength">{{length}}</span>{{/length}}{{#time}}, \uc18c\uc694\uc2dc\uac04 <span data-id="courseTime" class="courseTime">{{time}}</span>{{/time}}\n</span>',PlaceItemView:'<li class="PlaceItem">\n\t<span class="iconWrap clickArea">\n\t\t<a data-id="icon" class="icon clickArea" href="#"></a>\n\t\t<a data-id="fav" class="fav" href="#">\uc990\uaca8\ucc3e\uae30\ud558\uae30</a>\n\t</span>\n\t<div data-id="para" class="para clickArea">\n\t\t<img data-id="image" class="image HIDDEN" />\n\t\t<h6 class="clickArea">\n\t\t\t<a data-id="name" href="#">\n\t\t\t\t<strong>\uc7a5\uc18c</strong>\n\t\t\t\t\uba85\n\t\t\t</a>\n\t\t\t<span title="\ub85c\ub4dc\ubdf0" data-id="roadview" class="roadview HIDDEN">\ub85c\ub4dc\ubdf0</span>\n\t\t\t<span title="\uc2a4\ud1a0\uc5b4\ubdf0" data-id="storeview" class="storeview HIDDEN">\uc2a4\ud1a0\uc5b4\ubdf0</span>\n\t\t\t<a data-id="intercity" href="#" title="\uc2e4\uc2dc\uac04\uc608\ub9e4" class="intercity HIDDEN">\uc2e4\uc2dc\uac04\uc608\ub9e4</a>\n\t\t</h6>\n\t\t<div class="infowrap clickArea">\n\t\t\t<span data-id="phone" class="phone HIDDEN"></span>\n\t\t\t<span data-id="subcategory" class="subcategory" href="#"></span>\n\t\t\t<a data-id="website" class="website HIDDEN" href="#" target="_blank"></a>\n\t\t\t<span data-id="wrapCourseInfo" class="wrapCourseInfo HIDDEN"></span>\n\t\t\t<span data-id="wrapAddress">\n\t\t\t\t<br />\n\t\t\t\t<p data-id="newaddr" class="newAddress HIDDEN"></p>\n\t\t\t\t<p data-id="addressWrap" class="HIDDEN"><span data-id="addressIcon" class="addressIcon">\uc9c0\ubc88</span><span data-id="address"></span></p>\n\t\t\t\t<\!--<br />--\>\n\t\t\t</span>\n\t\t\t<span data-id="realEstates" class="realEstates HIDDEN"></span>\n\t\t\t<span data-id="openhour" class="openhour HIDDEN">\n\t\t\t\t<a data-id="openhourMore" href="#" target="_blank">\n\t\t\t\t\t<p data-id="periodWarp" class="periodWarp HIDDEN">\n\t\t\t\t\t\t<span class="openhourTitle">\uc601\uc5c5\uc2dc\uac04</span>\n\t\t\t\t\t\t<span data-id="periodTxt"></span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p data-id="holidayWarp" class="holidayWarp HIDDEN">\n\t\t\t\t\t\t<span class="openhourTitle">\ud734\ubb34\uc77c</span>\n\t\t\t\t\t\t<span data-id="holidayTxt"></span>\n\t\t\t\t\t</p>\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t\t<span data-id="rating" class="rating clickArea">\n\t\t\t\t<span data-id="score" class="score">\n\t\t\t\t\t<span data-id="scoreback" class="backgroundStar">\n\t\t\t\t\t\t<span data-id="star" class="star"></span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<a href="#" data-id="numberofscore" class="numberofscore" target="_blank"></a>\n\t\t\t\t</span>\n\t\t\t\t<span data-id="scoreGroove" class="groove"></span>\n\t\t\t\t<a data-id="review" href="#" class="review" target="_blank">\n\t\t\t\t\t\ub9ac\ubdf0\n\t\t\t\t\t<em data-id="numberofreview"></em>\n\t\t\t\t</a>\n\t\t\t\t<span data-id="reviewGroove" class="groove"></span>\n\t\t\t\t<a data-id="moreview" href="#" class="moreview" target="_blank">\n\t\t\t\t\t<span data-id="moreText"></span>\n\t\t\t\t\t<span class="moreIcon"></span>\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t\t<span data-id="tvshowInfo" class="tvshowInfo HIDDEN">\n\t\t\t\t<span class="tvinfolabel">tv\uc18c\uac1c</span><span data-id="tvtxt" class="tvtxt"></span>\n\t\t\t</span>\n\t\t\t<span data-id="eventInfo" class="eventshowInfo HIDDEN">\n\t\t\t\t<span class="eventlabelHead"> </span>\n\t\t\t\t<span data-id="eventtype" class="eventlabel"></span>\n\t\t\t\t<span class="eventlabelTail"> </span>\n\t\t\t\t<span data-id="eventtxt" class="eventtxt"></span>\n\t\t\t</span>\n\t\t</div>\n\t\t<div class="discount">\n\t\t\t<p data-id="card" class="clickArea HIDDEN">\n\t\t\t\t<a data-id="cardinfo" href="#" class="HIDDEN" target="_blank"></a>\n\t\t\t</p>\n\t\t</div>\n\t\t<p data-id="gasinfo" class="gasinfo clickArea HIDDEN"></p>\n\t</div>\n\t\n</li>',
RadiusToolDetail:'<div class="RadiusToolDetail">\n\t<ul>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ubc18\uacbd</span>\n\t\t\t<strong data-id="radius">0</strong>\n\t\t\t<span data-id="radiusUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ub3c4\ubcf4</span>\n\t\t\t<span class="HIDDEN" data-id="walkHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="walkMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\uc790\uc804\uac70</span>\n\t\t\t<span class="HIDDEN" data-id="bicycleHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="bicycleMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li class="detailToolClose">\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\n\t\t</li>\n\t</ul>\n\t<p data-id="help">\ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd \ub610\ub294<span>ESC\ub97c \ub204\ub974\uba74 \ub9c8\uce69\ub2c8\ub2e4</span></p>\n</div>',
RecommendThemeListView:'<div class="RecommendThemeListView">\n\t<a data-id="thememap" class="recommend1 recom" href="#" target="_blank">\n\t\t\ud14c\ub9c8\uc9c0\ub3c4\n\t\t<div data-id="themetitle" class="title HIDDEN">\ud14c\ub9c8\uc9c0\ub3c4</div>\n\t\t<span class="thememore">\ud14c\ub9c8 \ub354\ubcf4\uae30</span>\n\t</a>\n\t<a data-id="thememap2" class="recommend2 recom" href="#" target="_blank">\n\t\t\ud14c\ub9c8\uc9c0\ub3c4\n\t\t<div data-id="themetitle2" class="title HIDDEN">\ud14c\ub9c8\uc9c0\ub3c4</div>\n\t\t<span class="thememore2">\ud14c\ub9c8 \ub354\ubcf4\uae30</span>\n\t</a>\n</div>',
ReviewInfoWindow:'<div class="ReviewInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<img data-id="thumb" src="http://placekitten.com/84/76" width="84" height="76" alt=""/>\r\n\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t<h6 class="title"><a href="#" target="_blank" data-id="title"></a></h6>\r\n\t\t<blockquote data-id="content"></blockquote>\r\n\t\t<p class="metadata DOTUM"><a href="#" target="_blank" data-id="author">-</a> | <span data-id="date">-</span></p>\r\n\t\t<div data-id="reference" class="reference HIDDEN">\r\n\t\t\t<button type="button" data-id="storeview" class="HIDDEN ICON-storeview"></button>\r\n\t\t\t<button type="button" data-id="roadview" class="HIDDEN ICON-roadview"></button>\r\n\t\t\t<strong><a href="#" target="_blank" data-id="name"></a></strong><br/>\r\n\t\t\t<span data-id="phone" class="phone"></span><span data-id="address"></span><br/>\r\n\t\t\t<span class="ICON-stars"><span data-id="stars"></span></span>\r\n\t\t\t<a href="#" target="_blank" data-id="vote">(-\uac74)</a> | \ub9ac\ubdf0 <em><a href="#" target="_blank" data-id="review">-</a></em>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
ReviewItemView:'<\!-- <li class="ReviewItem clickArea">\n\t<span class="icon" data-id="icon"></span>\n\t<a data-id="img" class="imgwrap" href="#" title="" class="HIDDEN"><img src=""/></a>\n\t<div data-id="desc" class="desc clickArea">\n\t\t<a data-id="title" class="title" href="#"></a>\n\t\t<blockquote data-id="content" class="clickArea"></blockquote>\n\t\t<p data-id="region" class="region"></p>\n\t</div>\n\t<p class="detail clickArea">\n\t\t<a data-id="website" class="website" href="#"></a> | \n\t\t<a data-id="date" class="date HIDDEN" href="#"></a>\n\t</p>\n</li> --\>',
RoughMapFrame:'<div class="RoughMapFrame">\r\n\t<iframe data-id="frame" frameborder=\'0\' border=\'0\' class="frame" src=""></iframe>\r\n</div>',RouteInfoWindow:'<div class="RouteInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div class="left_icon"><span data-id="icon" class="icon {{iconType}}"></span></div>\r\n\t\t<div class="right_content">\r\n\t\t\t<h6 class="DOTUM12 name">\r\n\t\t\t\t<span href="#" data-id="title">{{title}}</span>\r\n\t\t\t</h6>\r\n\t\t\t\r\n\t\t\t<div class="altviews">\r\n\t\t\t\t<a data-id="rv" href="#" class="rv ICON-roadview HIDDEN" title="\ub85c\ub4dc\ubdf0"></a>\r\n\t\t\t\t<button type="button" data-id="close" class="closeInfo" title="\ub2eb\uae30"></button>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="content" data-id="content"></div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<\!-- \r\n\t\t<img data-id="img" class="HIDDEN">\r\n\t\t<span data-id="title" href="#" class="title"></span>\r\n\t\t \r\n\t\t<p data-id="desc" class="HIDDEN"></p>--\>\r\n\t\t\r\n\t\t<div title="\ud574\ub2f9 \uc9c0\uc810 \uc5c6\uc74c" class="arrow">\r\n\t\t\t<a title="\ub2e4\uc74c \uc9c0\uc810" class="next" href="#" data-id="next"></a>\r\n\t\t\t<a title="\uc774\uc804 \uc9c0\uc810" class="prev" href="#" data-id="prev"></a>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n</div>',
RouteMethodTabView:'<div class="RouteMethodTabView">\r\n\t<a id="cartab" data-id="car" class="car" href="#"></a>\r\n\t<a id="transittab" data-id="transit" class="transit" href="#"></a>\r\n\t<a id="walktab" data-id="walk" class="walk" href="#"></a>\r\n</div>\r\n',ScrapMapFrame:'<div class="ScrapMapFrame">\r\n\t<iframe data-id="frame"  frameborder=\'0\' border=\'0\' name="scrapmap" class="frame" src=""></iframe>\r\n\t<a href="#" class="close"></a>\r\n</div>',SkyviewOptions:'<div class="SkyviewOptions">\r\n\t<a href="#" class="hybrid ACTIVE">\ud558\uc774\ube0c\ub9ac\ub4dc</a>\r\n\t<div class="line"></div>\r\n\t<a href="#" class="yearRadio yearNow ACTIVE">\ucd5c\uadfc\uc0ac\uc9c4</a>\r\n    <a href="#" class="yearRadio">2015</a>\r\n\t<a href="#" class="yearRadio">2014</a>\r\n\t<a href="#" class="yearRadio">2013</a>\r\n\t<a href="#" class="yearRadio">2012</a>\r\n\t<a href="#" class="yearRadio">2011</a>\r\n\t<a href="#" class="yearRadio">2010</a>\r\n\t<a href="#" class="yearRadio">2009</a>\r\n\t<a href="#" class="yearRadio">2008</a>\r\n</div>',
StartEndPointInfoContent:'<div class="StartEndPointInfoContent HIDDEN">\r\n\t<p class="contact" data-id="contact">\r\n\t\t<span class="phone" data-id="phone">02-120</span>\r\n\t\t<span class="allphone HIDDEN" data-id="allphone"></span>\r\n\t\t<button class="morephone ICON-downbtn" type="button" data-id="morephone"></button>\r\n\t</p>\r\n\t<p class="address" data-id="address" title="\uc11c\uc6b8 \uc911\uad6c \ud0dc\ud3c9\ub85c1\uac00 31">\uc11c\uc6b8 \uc911\uad6c \ud0dc\ud3c9\ub85c1\uac00 31</p>\r\n\t<p class="newaddr DOTUM" data-id="newaddr">(\uc0c8\uc8fc\uc18c : \uc11c\uc6b8 \uc911\uad6c \uc138\uc885\ub300\ub85c 110)</p>\r\n</div>',
StartEndPointItemView:'<li class="StartEndPointItemView">\r\n\t<div class="itemLeft">\r\n\t\t<span data-id="icon" class="icon {{actionName}}"></span>\r\n\t\t<div class="transitStartEndname">\r\n\t\t\t<a href="#" data-id="name" class="name">\r\n\t\t\t\t{{name}}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="itemRight">\r\n\t\t{{#roadview}}\r\n\t\t\t<a href="#" class="roadview screen_visible" data-id="roadview">\ub85c\ub4dc\ubdf0</a> \r\n\t\t{{/roadview}}\r\n\t</div>\r\n</li>',SubPlaceInfoWindow:'<div class="SubPlaceInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div class="content">\r\n\t\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t\t<h6 class="DOTUM14">\r\n\t\t\t\t<span data-id="name" class="name">\uc8fc\uc18c</span>\r\n\t\t\t</h6>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
SubwayRouteInfoWindowContent:'<div data-id="SubwayRouteInfoWindowContent" class="SubwayRouteInfoWindowContent">\r\n\t<div class="direction">\r\n\t\t{{desc}}\r\n\t\t{{#tip}}<span class="time"> ({{tip}})</span>{{/tip}}\r\n\t</div>\r\n\t\r\n\t{{#nodes}}<span class="nodes">{{nodes}}</span>{{/nodes}}\r\n\t{{#time}}<span class="time"> <em class="bar">|</em> <strong>{{time}}</strong></span>{{/time}}\r\n</div>\r\n\t',SubwayRouteResultItemView:'<li class="SubwayRouteResultItem">\r\n\t<div class="title clickArea">\r\n\t\t<p data-id="time" class="time"></p>\r\n\t\t<a href="#" class="detailBtn" title="\ud3bc\uce58\uae30">\ud3bc\uce58\uae30</a>\r\n\t\t<p data-id="fare" class="fare"></p>\r\n\t</div>\r\n\t<div data-id="outLineView" class="outLineView clickArea"></div>\r\n\t<div data-id="detailView" class="detailView"></div>\r\n</li>',
SubwayRouteSectionItemView:'<li class="SubwayRouteSectionItem">\r\n\t<div class="SubwayRouteSectionItemWrap">\r\n\t\t<span class="icon"></span>\r\n\t\t<span data-id="line" class="line"></span>\r\n\t\t<span data-id="endIcon" class="endIcon"></span>\r\n\t\t<div data-id="infoWrap" class="infoWrap">\r\n\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t<span data-id="name" class="name"></span>\r\n\t\t\t<p data-id="direction" class="direction"></p>\r\n\t\t\t<p data-id="fastTransfer" class="fastTransfer"></p>\r\n\t\t\t<a href="#" data-id="stationCount" class="stationCount"></a>\r\n\t\t\t<ul data-id="nodes" class="nodes">\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
SubwayStationInfoWindow:'<div class="SubwayStationInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="min" class="min ICON-minimize" title="\ucd95\uc18c\ud558\uae30"></button>\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\r\n\t\t<a data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></a>\r\n\r\n\r\n\t\t<div class="header DOTUM14">\r\n\t\t\t<a href="" class="titleName" target="_blank" data-id="titleName" title=""></a>\r\n\t\t</div>\r\n\t\t<div class="cap"></div>\r\n\t\t<h6 data-id="name"></h6>\r\n\t\t<a href="#" data-id="prev" class="prev"></a>\r\n\t\t<a href="#" data-id="next" class="next"></a>\r\n\r\n\t\t<\!--<dl data-id="exits"><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;</dl>--\>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
ThemeMapItemView:'<li class="ThemeMapItem">\r\n\t<div data-id="imgWrap" class="imgWrap">\r\n\t\t<a class="img" href="#">\r\n\t\t\t<span class="imgStroke"></span>\r\n\t\t\t<img data-id="img" src="" width="73" height="66"/>\r\n\t\t</a>\r\n\t</div>\r\n\t<div data-id="para" class="para clickArea">\r\n\t\t<h6 class="clickArea">\r\n\t\t\t<a data-id="name" href="#">\r\n\t\t\t\uc5f0\uc778\ub4e4\uc774 \ud568\uaed8 \uac00\uba74 \ub354 \uc88b\uc740 \uce74\ud398\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t\t<div data-id="infowrap" class="infowrap">\r\n\t\t\t<span><span data-id="region" class="region">\uc804\uad6d</span> <strong data-id="count">32</strong>\uacf3</span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span data-id="like" class="like">3202</span>\r\n\t\t</div>\r\n\t\t<div class="urlShare clickArea">\r\n\t\t\t<a data-id="urlShare" class="urlBtn" href="#">url\uacf5\uc720</a>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
ThemeMapPlaceItemView:'<li class="ThemeMapPlaceItem">\r\n\t<div class="iconWrap">\r\n\t\t<span data-id="icon" class="icon"></span>\r\n\t</div>\r\n\t<div data-id="para" class="para clickArea">\r\n\t\t<div data-id="imgWrap" class="imgWrap HIDDEN">\r\n\t\t\t<a class="img" href="#">\r\n\t\t\t\t<span class="imgStroke"></span>\r\n\t\t\t\t<img data-id="image" width="73" height="66" />\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t\t<h6 class="clickArea">\r\n\t\t\t<a data-id="name" href="#">\r\n\t\t\t\t\ubc00\ud0d1\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t\t<a href="#" data-id="why" class="why">\uacf1\uac8c \uac04 \uc5bc\uc74c\uc5d0 \uc5f0\uc720\uc640 \uacfc\uc77c\uc744 \ub2f4\uc544\ub0b4\ub294 \ubc00\ud06c\ube59\uc218\uac00 \uc77c\ud488\uc778 \ube59\uc218 \uc804\ubb38\uc810</a>\r\n\t\t<div data-id="info" class="infowrap clickArea">\r\n\t\t\t<span data-id="region" class="region">\uc11c\uc6b8</span>\r\n\t\t\t<span class="bar">|</span>\ud301\t<span data-id="tip" class="tip">25</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<a href="#" data-id="like" class="like">\r\n\t\t<span data-id="good" class="good">0</span>\r\n\t</a>\r\n</li>',
ThemeMapPlaceMarker:'<div class="ThemeMapPlaceMarker">\r\n   <span class="count" data-id=\'count\'>0</span>\r\n</div>',TrafficInfoWindow:'<div class="InfoWindow TrafficInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t<button type="button" data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></button>\r\n\t\t<h6 data-id="title"></h6>\r\n\t\t<p data-id="section">\ud55c\ub0a82\ucc28\uace0\uac00\ucc28\ubd81\ub2e8 ~ \ubd81\ud55c\ub0a8\uc0bc\uac70\ub9ac</p>\r\n\t\t<blockquote data-id="desc">359m \uad6c\uac04\uc6d0\ud560 (\uc18d\ub3c4 52km/h)</blockquote>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
TrafficLegend:'<div class="TrafficLegend">\n    <a data-id="close" class="close" href="#"></a>\n    <div data-id="tooltip1" class="tooltip HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>70</strong> km/h\u2191</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>50</strong> km/h\u2191</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>30</strong> km/h\u2191</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip2" class="tooltip tooltip2 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>50~70</strong> km/h</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>30~50</strong> km/h</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>20~30</strong> km/h</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip3" class="tooltip tooltip3 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>30~50</strong> km/h</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>20~30</strong> km/h</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>10~20</strong> km/h</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip4" class="tooltip tooltip4 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>30</strong> km/h\u2193</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>20</strong> km/h\u2193</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>10</strong> km/h\u2193</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <p class="date">\uae30\uc900 : <span data-id="date"></span></p>\n    <a data-id="refresh" class="refresh" href="#">\uc0c8\ub85c\uace0\uce68</a>\n    <ul class="bar">\n        <li data-id="density1" class="density1"><a href="#"></a>\uc6d0\ud65c</li>\n        <li data-id="density2" class="density2"><a href="#"></a>\uc11c\ud589</li>\n        <li data-id="density3" class="density3"><a href="#"></a>\uc9c0\uccb4</li>\n        <li data-id="density4" class="density4"><a href="#"></a>\uc815\uccb4</li>\n        <li data-id="density5" class="density5"><a href="#"></a>\uc815\ubcf4\uc5c6\uc74c</li>\n    </ul>\n    <ul class="desc">\n        <li class="clickable">\uc18d\ub3c4 \uc815\ubcf4 \ub77c\uc778 \uc704\ub97c \ud074\ub9ad\ud558\uba74, \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5</li>\n        <li>\uc2dc\ub0b4 \ub3c4\ub85c\ub294 \uc2e0\ud638 \uc815\ucc28 \ub4f1\uc73c\ub85c \uc2e4\uc81c \uc18d\ub3c4\uc640 \ub2e4\ub97c \uc218 \uc788\uc74c</li>\n    </ul>\n</div>\n',
TransitInterPointItemView:'<li class="TransitInterPointItem {{#isCustomType}}custom_info_item{{/isCustomType}}">\n    <div class="transInterTypeInfo">\n        <div data-id="trans_type_header" class="trans_type_header"></div>\n        <div data-id="trans_inter_time" class="trans_inter_time"></div>\n        <a class="detailBtn" data-id="detailBtn"></a>\n        {{#longInterval}}<div class="long_interval_info"></div>{{/longInterval}}\n    </div>\n\n    {{#isInterTraffic}}\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n            <div class="TransitRouteOutlineItemView">\n                <div class="iconwrap">\n                    <div data-id="startSummaryIcon" class="summaryIcon INTERCITY"></div>\n                    <div class="transitline"></div>\n                </div>\n                <div class="summaryDesc intercity">\n                    <div class="summaryName">\n                        <span href="#" data-id="startName" class="name"></span>\n                    </div>\n\n                </div>\n            </div>\n            <div class="TransitRouteOutlineItemView getoff">\n                <div class="iconwrap">\n                    <div data-id="endSummaryIcon" class="summaryIcon INTERCITY"></div>\n                    <div class="transitline"></div>\n                </div>\n                <div class="summaryDesc intercity">\n                    <div class="summaryName">\n                        <span href="#" data-id="endName" class="name"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        {{#hasReservation}}\n        <div data-id="reservationBtn" class="reservation_btn"></div>\n        {{/hasReservation}}\n    </div>\n    {{/isInterTraffic}}\n    {{#isOneLineSummary}}\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n            <div class="TransitRouteOutlineItemView">\n                <div class="iconwrap">\n                    <div data-id="startSummaryIcon" class="summaryIcon INTERCITY"></div>\n                </div>\n                <div class="summaryDesc intercity">\n                    <div class="summaryName">\n                        <span href="#" data-id="startName" class="name"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    {{/isOneLineSummary}}\n    {{#isCustomType}}\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n            <div class="TransitCustomOutlineItemView">\n                <div class="custom_title">{{destination}}\uae4c\uc9c0 \uc774\ub3d9</div>\n                <div class="custom_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.</div>\n                <div class="custom_detail">\ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</div>\n            </div>\n        </div>\n    </div>\n    {{/isCustomType}}\n</li>',
TransitMediumTooltip:'<div class="TransitMediumTooltip">\r\n   <div class="left" data-id="actionName"></div><div class="content">\r\n   \t<a href="#" data-id="nameWrap" class="nameWrap"><span class="location" data-id="name"></span></a><a href="#" data-id="expand" class="expand" title="\ud3bc\uce58\uae30">\ud3bc\uce68</a><a href="#" data-id="close" class="close" title="\ub2eb\uae30">\ub2eb\uae30</a></div><div class="right"></div>\r\n   <span class="arrow"></span>\r\n</div>\r\n\r\n',TransitPointInfoWindow:'<div class="TransitPointInfoWindow">\r\n\t<\!--<div class="top"></div> --\>\r\n\t<div class="body" data-id="body">\r\n\t\t<span data-id="icon" class="icon"></span>\r\n\t\t<h6 class="DOTUM14 name" data-id="name">\r\n\t\t\t<a href="#" data-id="title"><span class="txt_blue">{{title}}</span> {{actionName}}</a>\r\n\t\t</h6>\r\n\t\t\r\n\t\t<div class="altviews">\r\n\t\t\t{{#roadview}}<a data-id="rv" href="#" class="rv ICON-roadview" title="\ub85c\ub4dc\ubdf0"></a>{{/roadview}}\r\n\t\t\t<button type="button" data-id="min" class="collapse" title="\ucd95\uc18c\ud558\uae30"></button>\r\n\t\t\t<button type="button" data-id="close" class="closeInfo" title="\ub2eb\uae30"></button>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class="content" data-id="transitPointContent"></div>\r\n\r\n        {{#hasReservation}}<div data-id="reservationBtn" class="reservation_btn"></div>{{/hasReservation}}\r\n\t\t\r\n\t\t<div title="\ud574\ub2f9 \uc9c0\uc810 \uc5c6\uc74c" class="arrow">\r\n\t\t\t<a title="\ub2e4\uc74c \uc9c0\uc810" class="next" href="#" data-id="next"></a>\r\n\t\t\t<a title="\uc774\uc804 \uc9c0\uc810" class="prev" href="#" data-id="prev"></a>\r\n\t\t</div>\r\n\t\r\n\t\r\n\t</div>\r\n\t<div class="tail"></div>\r\n\t<\!-- <div class="bottom"></div> --\>\r\n</div>\r\n',
TransitPointItemView:'<li class="TransitPointItem">\r\n\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t\t<\!-- <div data-id="pre_transitline" class="pre_transitline"></div> --\>\r\n\t\t\t<div data-id="tp_line" class="tp_line"></div>\r\n\t\t</div>\r\n\t\t<div class="transitDetail">\r\n\t\t\t<h5><a href="#" data-id="name"></a></h5>\r\n\t\t\t\r\n\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\r\n\t\t\t\r\n\t\t\t<div class="descWrap HIDDEN"> \r\n\t\t\t\t<a href="#" class="desc HIDDEN" data-id="desc"></a>\r\n\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes">\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div class="moreRoute" data-id="moreRouteWrap">\r\n                {{#isPublicPoint}}\r\n\t\t\t\t<a href="#" data-id="moreRoute">\r\n\t\t\t\t\t<span data-id="moreRouteTxt"></span>{{#isNodes}}<span class="moreBtn"></span>{{/isNodes}}\r\n\t\t\t\t</a>\r\n                {{/isPublicPoint}}\r\n                {{#isInterPublic}}\r\n                <span data-id="moreRoute">\r\n                    <span data-id="moreRouteTxt"></span>\r\n                </span>\r\n                {{/isInterPublic}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="icoRight">\r\n\t\t\t\t<a href="#" data-id="subwayLineBtn" class="subwaylineBtn screen_visible">\uc9c0\ud558\ucca0\ub178\uc120\ub3c4</a>\r\n            {{#isPublicPoint}}\r\n\t\t\t\t<a href="#" class="roadview screen_visible" data-id="roadview">\ub85c\ub4dc\ubdf0</a>\r\n            {{/isPublicPoint}}\r\n\t\t</div>\r\n\r\n\t</div>\r\n\t{{#isNodes}}\r\n\t<ol class="detailRoute HIDDEN" data-id="detailRoute">{{#nodes}}\r\n\t\t<li class="nodeName">\r\n\t\t\t<span class="detailIco detail_{{nodeCode}}"></span>\r\n\t\t\t<div class="{{nodeCode}}_line d_line"></div>\r\n\t\t\t{{name}}\r\n\t\t</li>\r\n\t\t{{/nodes}}\r\n\t</ol>\r\n\t{{/isNodes}}\r\n    {{#isOther}}\r\n    <div class="TransitPointOtherWrap">\r\n        <div class="other_time" data-id="otherTime"></div>\r\n        <div class="other_info">\r\n            <div class="other_title" data-id="otherTitle"></div>\r\n            <div class="other_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.</div>\r\n            <div class="other_detail">\ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</div>\r\n        </div>\r\n    </div>\r\n    {{/isOther}}\r\n</li>',
TransitRouteOutlineItemView:'<div class="TransitRouteOutlineItemView">\r\n\t<div class="iconwrap">\r\n\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t<div data-id="transitline" class="transitline"></div>\r\n\t</div>\r\n\t<div class="summaryDesc" data-id="summaryDesc">\r\n\t\t<div class="summaryName" data-id="summaryName">\r\n\t\t\t<span href="#" data-id="name" class="name"></span>\r\n\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes">\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class="vehicles HIDDEN" data-id="busVehicles">\r\n\t\t<\!-- \ubc84\uc2a4 \uc815\ub958\uc7a5 \uadf8\ub8e8\ud551 --\>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</div>\r\n',
TransitRouteResultView:'<div class="TransitRouteResultView">\n    <ul class="boundtabs">\n        <li class="list inboundtab">\uc2dc\ub0b4\uad50\ud1b5</li>\n        <li class="list outboundtab">\uc2dc\uc678\uad50\ud1b5</li>\n   </ul>\n    <ul class="transitnumberlist">\n        <li class="list recommandtab">\ucd94\ucc9c (0)</li>\n        <li class="list bustab">\ubc84\uc2a4 (0)</li>\n        <li class="list subwaytab">\uc9c0\ud558\ucca0 (0)</li>\n        <li class="list hybridtab">\ubc84\uc2a4 + \uc9c0\ud558\ucca0 (0)</li>\n    </ul>\n    <ul class="intertransitnumberlist">\n        <li class="list recommendtab">\ucd94\ucc9c (0)</li>\n        <li class="list interbustab">\uace0\uc18d.\uc2dc\uc678 (0)</li>\n        <li class="list traintab">\uae30\ucc28 (0)</li>\n        <li class="list airplanetab">\ud56d\uacf5 (0)</li>\n        <li class="list ferrytab">\uc5ec\uac1d\uc120 (0)</li>\n    </ul>\n    <p class="transitInfo"><a class="transitViaInfoCloser" href="#"></a></p>\n    <ul class="TransitTotalPanel"></ul>\n    <div class="notitime"></div>\n</div>\n',
TriangleNotice:'<div class="TriangleNotice">\r\n\t<\!-- <div class="bg" data-id="bg"></div> --\>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="{{link}}" target="_blank"></a>\r\n\t<a class="link2" href="{{link}}" target="_blank"></a>\r\n\t<a class="link3" href="{{link}}" target="_blank"></a>\r\n\t<button data-id="close" class="close" title="\ub2eb\uae30"></button>\r\n</div>',TriangleNotice2:'<div class="TriangleNotice2">\r\n\t<\!-- <div class="bg" data-id="bg"></div> --\>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="#" target="_blank"></a>\r\n\t<a class="link2" href="#" target="_blank"></a>\r\n\t<a class="link3" href="#" target="_blank"></a>\r\n\t<button data-id="close" class="close" title="\ub2eb\uae30"></button>\r\n</div>',
UsedistrictTypeOptions:'<div class="UsedistrictTypeOptions">\r\n\t<a href="#" class="usedistrict ACTIVE">\uc9c0\uc801\ud3b8\uc9d1\ub3c4</a>\r\n\t<a href="#" class="bboundary">\ubc95\uc815\ub3d9 \uacbd\uacc4</a>\r\n\t<a href="#" class="hboundary">\ud589\uc815\ub3d9 \uacbd\uacc4</a>\r\n</div>',ViewContext:'<div data-id="ViewContext" class="Context HIDDEN">\r\n   \t<div class="contextWrap">\r\n        <a data-id="here" href="#" class="context_here"><span class="here"></span><span class="text">\uc5ec\uae30 \uc8fc\uc18c \ubcf4\uae30</span></a>\r\n        <a data-id="newplace" href="#"><span class="context_new"></span><span class="text">\uc2e0\uaddc \uc7a5\uc18c \ub4f1\ub85d</span></a>\r\n        <a data-id="strange" href="#"><span class="strange"></span><span class="text">\uc5ec\uae30 \uc815\ubcf4 \uc218\uc815</span></a>\r\n        <span class="separator"></span>\r\n        <a data-id="origin" href="#"><span class="origin"></span><span class="text">\ucd9c\ubc1c\uc9c0 \uc9c0\uc815</span></a>\r\n        <a data-id="via" href="#"><span class="via"></span><span class="text">\uacbd\uc720\uc9c0 \uc9c0\uc815</span></a>\r\n        <a data-id="destination" href="#"><span class="destination"></span><span class="text">\ub3c4\ucc29\uc9c0 \uc9c0\uc815</span></a>\r\n        <span class="separator"></span>\r\n        <a data-id="favorite" class="fav" href="#"><span class="favorite"></span><span class="text">\uc990\uaca8\ucc3e\uae30 \ucd94\uac00</span></a>\r\n        <span data-id="zoomin" class="zoomin"></span>\r\n        <span data-id="zoomout" class="zoomout"></span>\r\n       </div>\r\n   </div>',
WalkFunctionToolBarView:'<div class="WalkFunctionToolBarView">\n\t<a data-id="print" class="print"></a>\n\t<a data-id="favorite" class="favorite"></a>\n\t<a data-id="alook" class="alook"></a>\n</div>',WalkGroupPointItemView:'<li class="WalkGroupPointItemView">\r\n\t\r\n\t<div class="WalkGroupPointItemViewWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="walkSeqIcon" class="walkSeqIcon"></div>\r\n\t\t\t<div data-id="pre_walkline" class="pointWalkLine"></div>\r\n\t\t</div>\r\n\t\t<div class="walkDetail">\r\n\t\t\t<h5><a href="#" data-id="title"></a></h5>\r\n\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t</div>\r\n\t\t<div class="icoRight">\r\n\t\t\t<a href="#" data-id="roadview" class="roadviewWrap screen_visible"></a>\r\n\t\t\t<a href="#" data-id="action" class="action">\ubc29\ud5a5</a>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
WalkPointGroupView:'<div class="WalkPointGroupView">\r\n\t<div class="headbg"></div>\r\n\t<div class="summary" data-id="summary">\r\n\t\t<a class="detailBtn off" data-id="detailBtn"></a>\r\n\t\t<div class="groupinfo">\r\n\t\t\t<span class="time" data-id="time"></span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span class="distance" data-id="distance"></span>\r\n\t\t</div>\r\n\t\t<div class="groupNumber" data-id="groupNumber">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="briefdesc" data-id="briefdesc"></div>\r\n\t<ol data-id="detail" class="detail"></ol>\r\n\t<div class="bottombg"></div>\r\n</div>',
WalkPointItemView:'<div class="WalkPointItemView">\r\n\t<div data-id="roadview" class="roadviewWrap"></div>\r\n\t<span data-id="action" class="action"></span>\r\n\t<div class="seqWrap">\r\n\t\t<span data-id="seq" class="seq"></span>\r\n\t</div>\r\n\t<a data-id="title" href="#" ></a>\r\n\t<div data-id="desc" class="desc"></div>\r\n</div>',WalkRouteItemView:'<li class="WalkRouteItem">\r\n\t<div data-id="summary" class="WalkRouteSummaryView">\r\n\t\t<span data-id="selectedBar" class="selectedBar"><em class="bottomBar"></em></span>\r\n\t\t<a href="#" class="selectBtn"></a>\r\n\t\t<div class="contents">\r\n\t\t\t<span data-id="mode" class="mode"></span>\r\n\t\t\t<p class="header">\r\n\t\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t\t</p>\r\n\t\t\t<div data-id="info" class="info">\r\n\t\t\t\t <p data-id="facilities" class="facilities"></p>\r\n\t\t\t\t <p data-id="calories" class="calories"></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t<div data-id="detail" class="detail">\r\n\t\t<ul data-id="list" class="list"></ul>\r\n\t</div>\r\n</li>',
WalkRouteResultView:'<div class="WalkRouteResultView">\r\n\t<ul data-id="list" class="list"></ul>\r\n\t<div class="notice DOTUM11">\r\n\t\t<span class="first" ><em class="info"></em> \uc18c\uc694\uc2dc\uac04\uc740 \uc131\uc778 \ub3c4\ubcf4\uae30\uc900 4km&#47;h\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4&#46;</span>\r\n\t\t<span class="second"><em class="info"></em> \ub3c4\ubcf4 \uae38\ucc3e\uae30\ub294 \uc2e4\uc81c \uad6c\uac04\uacfc \ub2e4\ub97c \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4&#46;</span>\r\n\t</div>\r\n\t<div class="info_fixroute">\r\n\t\t<a href="#" class="ico_place link_fixroute" data-id="fixRoute">\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0</a>\r\n\t</div>\r\n</div>',
WalkTransitItemView:'<li class="WalkTransitItemView">\n\t<div class="WalkTransitItemViewWrap">\n\t\t<div class="detailIcoWrap">\n\t\t\t<div data-id="summaryIcon" class="summaryIcon walk"></div>\n\t\t\t\n\t\t\t<\!-- <div data-id="pre_transitline" class="pre_transitline"></div> --\>\n\t\t\t<div data-id="transitline" class="detailTransitline walkline"></div>\n\t\t</div>\n\t\t\n\t\t<div class="walkSummary" data-id="summary">\n\t\t\t<h5 data-id="title">\ub3c4\ubcf4\ub85c \uc774\ub3d9 <span class="bar">|</span></h5>\n\t\t\t\n\t\t\t<div class="groupinfo">\n\t\t\t\t<span class="time" data-id="time"></span>\n\t\t\t\t<span class="bar">|</span>\n\t\t\t\t<span class="distance" data-id="distance"></span>\n\t\t\t</div>\n\t\t\t\n\t\t\t<p class="briefdesc" data-id="briefdesc"></p>\n\t\t\t\n\t\t</div>\n\t\t\n\t\t<a class="detailBtn" data-id="detailBtn"></a>\n\t\t<\!-- \n\t\t<ul data-id="detail" class="detailList"></ul> --\>\n\t\t<\!-- <div class="bottom_line"></div> --\>\n\t</div>\n\t<ul class="WalkTransitDeatilList" data-id="detail">\n\t\n\t</ul>\n</li>\n',
WeatherInfoWindow:'<div class="WeatherInfoWindow">\n\t<div class="top">\n\t\t<span class="img_ico_wt_b_png weatherThumb ico{{titleIconno}}"></span>\n\t\t<div class="wrapTit">\n\t\t\t<h3 class="tit">{{titleLoc}} {{titleWeaText}}</h3>\n\t\t\t<span class="date">{{announceTime}} \ubc1c\ud45c</span>\n\t\t</div>\n\t\t<div class="temper">\n\t\t\t{{{titleTemper}}}\n\t\t</div>\n\t\t<a href="#" data-id="closer" class="img_wt_png btnClose">\ub2eb\uae30</a>\n\t\t<a href="#" data-id="more" class="more">\ub354\ubcf4\uae30</a><span class="img_wt_png icoMore"></span>\t\t\n\t</div>\n\t<ul class="middle">\n\t\t<div class="thickBorder left"></div>\n\t\t<div class="thickBorder right"></div>\n\t\t{{#weatherList}}\n\t\t<li class="{{class}}">\n\t\t\t<div class="date">{{date}}</div>\n\t\t\t<div>\n\t\t\t\t<span class="img_ico_wt_b_png weatherThumb ico{{iconno}}"></span>\n\t\t\t\t<div class="temper">\n\t\t\t\t\t{{{temper}}}\n\t\t\t\t</div>\n\t\t\t\t<div class="weaText">{{weatext}}</div>\n\t\t\t\t<div class="wrapRainprob">\n\t\t\t\t\t<span>\uac15\uc218\ud655\ub960 </span><em class="rainprob">{{rainprob}}%</em>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t\t{{/weatherList}}\n\t</ul>\n\t<div class="bottom">\n\t\t<div class="thickBorder left"></div>\n\t\t<div class="thickBorder right"></div>\n\t\t<div class="paging">\n\t\t\t<a href="#" class="img_wt_png pagePrev" data-id="pagePrev">\uc774\uc804</a>\n\t\t\t<a href="#" class="img_wt_png pageNext" data-id="pageNext">\ub2e4\uc74c</a>\n\t\t</div>\n\t</div>\n\t<div class="foot img_tootltip_wt_png"></div>\n\t<div class="tail img_tootltip_wt_png"></div>\n</div>',
WeatherMini:'<div class="WeatherMini">\n\t<div class="left">\n\t\t<div data-id="weatherMiniThumb" class="thumb"></div>\n\t</div>\n\t<div class="right"></div>\n\t<div class="center">\n\t\t<div data-id="weatherMiniTemperature" class="temperature">\n\t\t\t<\!-- <span class="minus"></span>\n\t\t\t<span class="number1"></span>\n\t\t\t<span class="point"></span>\n\t\t\t<span class="number2"></span>\n\t\t\t<span class="unit"></span> --\>\n\t\t</div>\n\t\t<div class="loc">\n\t\t\t<a href="#" data-id="locName" class="name"></a><span class="ico"></span>\n\t\t</div>\n\t</div>\n</div>',
WeatherTypeOptions:'<div class="WeatherTypeOptions">\r\n\t<ul class="weatherRadios">\r\n\t\t<li><a href="#" class="wea SELECT">\uae30\uc628</a></li>\r\n\t\t<li><a href="#" class="khai">\ud1b5\ud569\ub300\uae30\uc9c0\uc218</a></li>\r\n\t\t<li><a href="#" class="pm10">\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t<li><a href="#" class="ysand">\ud669\uc0ac</a></li>\r\n\t\t<li><a href="#" class="o3">\uc624\uc874</a></li>\r\n\t\t<li><a href="#" class="co">\uc77c\uc0b0\ud654\ud0c4\uc18c</a></li>\r\n\t\t<li><a href="#" class="so2">\uc544\ud669\uc0b0\uac00\uc2a4</a></li>\r\n\t\t<li><a href="#" class="no2">\uc774\uc0b0\ud654\uc9c8\uc18c</a></li>\r\n\t</ul>\r\n</div>',
noticePopup:'<div class="NoticePopup">\r\n\t<div class="bg" data-id="bg"></div>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="http://place.map.daum.net/20740490" target="_blank"></a>\r\n\t<a class="link2" href="http://place.map.daum.net/7816403" target="_blank"></a>\r\n\t<a class="link3" href="http://place.map.daum.net/17807431" target="_blank"></a>\r\n\t<a class="link4" href="http://place.map.daum.net/8053130" target="_blank"></a>\r\n\t<a class="link5" href="http://place.map.daum.net/21755436" target="_blank"></a>\r\n\t<a class="link6" href="http://place.map.daum.net/8131581" target="_blank"></a>\r\n\t<a class="link7" href="http://place.map.daum.net/10330240" target="_blank"></a>\r\n\t<a class="link8" href="http://place.map.daum.net/8396881" target="_blank"></a>\r\n\t\r\n\t<a href="#" data-id="close" class="close" title="\ub2eb\uae30"></a>\r\n</div>',
"":""}[a]||"",b))}function bb(a,b,c){console.assert("number"===typeof a);console.assert("function"===typeof b);console.assert("boolean"===typeof c||void 0===c);this.interval_=a;this.func_=b;this.repeat_=c}function Ua(a,b,c,d){var d=d||{},e=[];b&&e.push("width="+b);c&&e.push("height="+c);b&&(c&&!d.noscroll)&&e.push("scrollbars");d.resizable&&e.push("resizable=yes");(a=e.length?open(a,d.name||"_blank",e.join(",")):open(a,d.name||"_blank"))&&a.focus();return!!a}function Ga(a){this.obj_="object"==typeof a&&
!(a instanceof Array)?a:{value:a}}function Pb(a){this.data=jQuery(a)}function ca(a){Q.apply(null,[this,g].concat(Ab(arguments)));a&&(this.onShow.add(this.setup_,this),this.onHide.add(this.breakup_,this));this.onClose=new m;this.noPane_=[];this.noUIPanel_=[];this.blueHandler_=this.blur_.bind(this)}function g(a,b,c){if("string"===typeof a){var d=(""+a).toUpperCase();({SUBMIT:1})[d]?(a=document.createElement("input"),a.type=d):(a=document.createElement(d),"A"==d&&(a.href="#"))}this._pane=jQuery(a);this.onShow=
new m;this.onHide=new m;a.submit&&(this.onSubmit=new m({onLoad:this.createEventLinker_("submit",this.handleSubmit__)}));"form"in a&&(this.onChange=new m({onLoad:this.createEventLinker_("change",this.handleChange__)}),this.onFocus=new m({onLoad:this.createEventLinker_("focus",this.handleFocus__)}),this.onBlur=new m({onLoad:this.createEventLinker_("blur",this.handleBlur__)}));this.onEnter=new m({onLoad:this.createEventLinker_("mouseenter",this.handleEnter__)});this.onLeave=new m({onLoad:this.createEventLinker_("mouseleave",
this.handleLeave__)});this.onClick=new m({onLoad:this.createEventLinker_("click",this.handleClick__)});this.element_=a;b&&(this.className_=b,this.addClass(b));c&&[].concat(c).forEach(function(a){a.getElement?this.addChild(a):this.addText(a)},this)}function od(a){var b=this.onClose=new m,c=G("AccidentInfoWindow");c.$("close").click(function(){b.notify()});c.$("title").text(a.title);c.$("desc").text(a.desc);c.$("period").text(a.startTime+" ~ "+a.endTime);if(a.source&&(a=a.source.toLowerCase(),"tbs"==
a||"utis"==a||"gyeonggi"==a))c.$("provider").show(),c.$("provider").addClass(a);this.getPane=function(){return c}}function pd(a,b,c,d){var e={refinedName:a.name,is2depth:a.oldname||"N"==a.isAlive||a.subList.length||!jQuery.isEmptyObject(a.infowindowSubAddress),isDead:"N"==a.isAlive,d3HName:a.d3HName};jQuery.extend(e,a);if(a.oldname){var f=a.oldname,f=f.slice(f.search(/ /)+1);e.subAddr={type:"old",typeName:"\uc9c0\ubc88\uc8fc\uc18c",address:f}}else e.subAddr=a.infowindowSubAddress,a.infowindowSubBuilding&&
(e.buildingName=a.infowindowSubBuilding);if(a.zipcode||a.zonenum)a.zonenum?(e.zonecode=a.zonenum,a.zipcode&&(e.zonecode+=" ("+a.zipcode+")")):a.zipcode&&(e.zonecode=a.zipcode);var h=this.onClose=new m,j=G("AddressInfoWindow",e);(e.zipcode||e.buildingName)&&j.$("wrapZip").show();c.createClose(j.$("close"),function(){h.notify()});c.createFavorite(j.$("fav"),B.createFromAddress(d||a));b.create(j.$("toolbar"),a,{rough:!0,type:"search",infoType:"address"});this.getPane=function(){return j}}function Yd(a,
b,c,d,e,f,h){function j(d){var h=new qd(k.$("list"),d,a,e);h.onClick.add(function(b){q.click("businfo","busstop_tooltip_busnum");f.setData(d.id,!0);f.setBusStop(b||a.id,"",d.order);Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,d)});if(!o&&(b&&d.id==b)&&(!c||d.order==c))o=h}function l(a){k.$("list").empty();var b=a.filter(function(a){return a.arrival});b.forEach(j);a.filter(function(a){return!a.arrival}).forEach(j);k.$("progressbar").toggle(!!b[0]);g.setActive(b[0]);
b[0]&&g.start();o&&o.scrollup()}var k=G("BusStopInfoWindow"),n=this.onClose=new m;k.$("close").click(n.notify.bind(n));a.roadview?(e.createRoadview(k.$("rv"),a.roadview,a.coords),k.$("thumb").attr("src",a.roadview.thumbnail),k.$("rv").click(function(){var b="poi_busstation_tooltip_roadview";h&&(b="search_q_click_busstation_tooltip_roadview");t.logRoadview(b,a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id});q.click("businfo","busstop_tooltip_roadview")})):k.$("rv").hide();
e.createFavorite(k.$("fav"),B.createFromBusStop(a));k.$("name").text(String.cut(a.name,1<a.codenames.length?18:15)).attr("title",a.name);a.codenames.forEach(function(a,b){var c=jQuery((b>0?'<span class="column">|</span>':"")+'<span class="busCode"><span class="codename"></span></span>');c.find(".codename").text(a.trim());c.appendTo(k.$("idlist"))});1<a.codenames.length&&(k.$("busTit").addClass("group"),k.$("idlist").addClass("groupbr"));var g=new ob("BusStopInfoWindow");g.onComplete.add(function(){k.is(":visible")&&
Y.find(a.id,function(a){l(a.lines)})});g.toPane().appendTo(k.$("progressbar"));var o=null;l(a.lines);d.create(k.$("toolbar"),a,{busStopId:a.id,rawData:a.rawData});this.getPane=function(){return k}}function Zd(a){function b(b){var c=h.$("list");(new qd(c,b,a.busStop)).onClick.add(function(c){q.click("route","go_public_busstop_bus");Application.busLineController.setData(b.id,!0);Application.busLineController.setBusStop(c||a.busStop.id,"",b.order)})}function c(a){a.realTime||h.$("refresh").hide();h.$("busCnt").text(a.lines.length);
h.$("list").empty();a.lines=a.lines.filter(function(a){return e[a.id]&&e[a.id]==a.order});var c=a.lines.filter(function(a){return a.arrival}),d=a.lines.filter(function(a){return!a.arrival});4>a.lines.length&&h.$("list").addClass("noscroll");c.forEach(b);d.forEach(b);listPanel=h.$("list").find("li:last-child .rule2").removeClass()}Q(this,mc,a);var d=this.onBusStopClick=new m;this.onRealTimeBusBtnClick=new m;var e={};a.vehicles.forEach(function(a){e[a.id]=a.startOrder});var f=this.panel;f.$("icon").addClass("BUS");
f.addClass("BusStopRouteInfoWindow");this.panel.$("title").click(function(){q.click("route","go_public_busstop_name");d.notify()});var h=G("BusStopRouteInfoWindowContent",{moreRoute:a.nodes.length+1+"\uac1c \uc815\ub958\uc7a5 \uc774\ub3d9",desc:a.desc,time:a.time});a.action==N.GETOFF&&!a.lastGetOFf&&(f.$("min").hide(),f.$("close").addClass("aloneClose"));a.isInterPublic&&(f.$("min").hide(),f.$("close").addClass("aloneClose"));a.action==N.GETOFF?h.hide():(h.$("refresh").click(function(){q.click("route",
"go_public_busstop_update");Y.findTransitBusStop(a.busStop.id,a.busLineId,c)}),h.appendTo(this.panel.$("transitPointContent")),Y.findTransitBusStop(a.busStop.id,a.busLineId,c))}function rd(a){function b(){e();f("LIVE \uc601\uc0c1\uc740 1\ubd84 \ub2e8\uc704\ub85c \uc81c\uacf5\ub429\ub2c8\ub2e4.")}function c(){s&&A.clearTimeout(s);s=void 0}function d(){p.each(function(a,b){b.cctvPlay&&b.cctvPlay()})}function e(){p.each(function(a,b){b.cctvStop&&b.cctvStop()})}function f(a){a?(n.text(a),k.show()):(n.text(""),
k.hide())}function h(){require("server").cctvUrl(a.id,function(a){l.find(".cctv_video_target").html(a)})}var j=this.onClose=new m,l=G("CctvInfoWindow"),k=l.$("dimmed"),n=l.$("dimmedText"),g=l.$("play");l.$("close").click(function(){j.notify()});l.find("h6").html("<strong>"+a.roadname+"</strong> <span>|</span> "+a.name);var o=a.source;a.isLive&&(o="road_live");var p=[];g.on("click",function(){a.isLive?d():h();f();c();s=A.setTimeout(b,6E4)});var s;A.kakaoCctvVideo={onTimeout:function(){},onComplete:function(){f("VOD \uc601\uc0c1 \ub2e4\uc2dc\ubcf4\uae30");
c()},onReady:function(){p=l.find("object");c();s=A.setTimeout(b,6E4)}};l.find("blockquote").html(ub.SOURCE_HTML[o]);h();this.getPane=function(){return l}}function sd(a){Q(this,td,a);var b=this.panel_,c=b.$("icon").addClass("cararrow");b.$("title").text(a.name);b.$("content").text(a.info);a.isWaypoint()||(c.addClass("rotate_"+a.rotation),c.addClass("traffic_"+(a.traffic||null)))}function ud(){}function $d(a,b,c,d,e,f){function h(b){var c="",c=e instanceof Y?"B":e instanceof Ea?"M":e instanceof Ca?
"A":"P",c=c+(e.docid||e.id);Application.infoWindowManager.close();a.initResultList();a.setActive(!0);a.clearAoi();a.findAoi(e);var d=e.name;f.coordinate&&(d=d.replace("\uc704\ub3c4, \uacbd\ub3c4 : ",""));switch(b){case "start":a.setOrigin(e.coords,d,c);break;case "via":a.setVia(e.coords,d,c);break;case "end":a.setDestination(e.coords,d,c)}}var f=f||{},j=G("InfoWindowToolbar");j.appendTo(d);j.$("report").toggle(!1!==f.reportable).click(function(){var a=null;f.busStopId?(a={coords:e.coords,busStopId:f.busStopId,
rawData:f.rawData,channel:"TOOLTIP_BUSSTOP"},q.click("businfo","busstop_tootip_fiy")):f.subwayId?(a={coords:e.coords,subwayId:f.subwayId,subwayLineId:e.subwayLineId,name:e.name,channel:"TOOLTIP_SUBWAYSTATION"},q.click("tooltip","subway_modify")):f.infoType?(a={coords:e.coords,address:e.name,relatedAddress:e.infowindowSubAddress?e.infowindowSubAddress.address:null,relatedPrefixAddress:e.relatedPrefixAddress,zipcode:e.zipcode,hcode:e.hcode,bcode:e.bcode,code:e.code,channel:"TOOLTIP_ADDR"},q.click("tooltip",
"address_fiy")):(a={coords:e.coords,confirmId:f.reviewType?e.placeId:e.id,review:f.reviewType,subway:f.subwayType},f.reviewType?(a.channel="TOOLTIP_ETC",q.click("tooltip","review_fiy")):(a.channel="TOOLTIP_PLACE",q.click("tooltip","place_fiy")));b.openCustomerRequest(a)});j.$("origin").click(function(){h("start");q.click("tooltip","start")});j.$("via").click(function(){h("via");q.click("tooltip","via")});j.$("dest").click(function(){h("end");q.click("tooltip","end")});f.detailCallback?(f.detailClass&&
j.$("detail").addClass("detail-"+f.detailClass),j.$("detail").click(f.detailCallback)):j.$("detail").hide();j.$("detail").click(function(){q.click("tooltip","open_place_view2")});f.rough&&(!1!==f.reportable?j.$("toolbarsplit").show():j.$("rough").addClass("noReport"),j.$("rough").show().on("click",function(){var a={name:e.name||"",address:e.newAddress||e.address||"",phone:e.phone?e.phone[0]:"",x:e.coords.getX(),y:e.coords.getY(),confirmid:/^\d+$/.test(e.id)?e.id:"",roadview:e.roadview?true:false};
c.open(j,a);q.click("tooltip","map_share");a={name:a.name,wx:a.x,wy:a.y,confirmid:a.confirmid};f.type=="search"?t.logSearchOutWithArgs("tooltip_share",a):f.type=="route"?t.logPathSearchOutWithArgs("_tooltip_share",a):t.log("poi_click_tooltip_share",null,a)}))}function ae(a,b){Q(this,mc,a);this.panel.addClass("IntercityInfoWindow");var c=null,d=null,e=a.vehicleType;e==C.TRANSFER_CAR?(this.panel.$("icon").addClass("TAXI"),this.panel.$("title").text("\ud0dd\uc2dc\ub85c"),this.panel.$("name").append("\uc774\ub3d9"),
this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),c=a.end.text("name")+"\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9"):e==C.TRANSFER_WALK?(this.panel.$("icon").addClass("WALKING"),this.panel.$("title").text("\ub3c4\ubcf4\ub85c"),this.panel.$("name").append("\uc774\ub3d9"),this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),c=a.end.text("name")+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9"):e==C.TRANSFER_CUSTOM?(this.panel.$("icon").addClass("CUSTOM"),this.panel.$("title").text(""),
this.panel.$("name").append(a.end.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"),this.panel.$("name").removeClass("DOTUM14"),this.panel.addClass("CUSTOM_TYPE"),d=a.time,c="\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.",this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide()):a.type==N.OTHER?(this.panel.$("icon").addClass("CUSTOM"),this.panel.$("title").text(""),this.panel.$("name").append(a.endLocation.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"),this.panel.$("name").removeClass("DOTUM14"),
this.panel.addClass("CUSTOM_TYPE"),d=a.time,c="\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.",this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),this.panel.$("rv").hide()):(d=this.panel.$("reservationBtn"),b?(this.panel.$("title").text(a.end.text("name")),this.panel.$("name").append("\ud558\ucc28"),d&&d.hide(),a.isLastIntercity||(this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide())):(this.panel.$("title").text(a.name),this.panel.$("name").append(a.actionName),
e=!1,a.vehicleType==C.TRAIN&&(e=!0),a.isInterPoint&&a.routeType==C.INTERCITY&&(a.reservation||e)?((a.vehicleType==C.TRAIN||e)&&d.addClass("not_realtime"),d.click(function(){if(a.vehicleType==C.TRAIN)"SRT"==a.subType?(q.click("route","go_public_tooltip_intercityinfo_train_srt"),A.open("http://www.srail.co.kr")):(q.click("route","go_public_tooltip_intercityinfo_train"),A.open("http://www.letskorail.com"));else{var b={};a.start&&(b.s_id=a.start.text("id"),b.s_name=a.start.text("name"));a.end&&(b.e_id=
a.end.text("id"),b.e_name=a.end.text("name"));a.vehicleType==C.FERRY?q.click("route","go_public_tooltip_intercityreservation_ship"):q.click("route","go_public_tooltip_intercityreservation_bus");require("server").interCityTimetable(b)}})):d.hide()),this.panel.$("icon").addClass(a.nodeType),d=a.time);G("IntercityInfoWindowContent",{time:b?"":d,description:c}).appendTo(this.panel.$("transitPointContent"))}function be(a){var b=G("IssuedPlaceInfowindow"),c=this.onClose=new m;b.$("tit").text(String.cut(a.name,
24));b.$("desc").text(a.desc);b.$("close").click(c.notify.bind(c));a.imgUrl&&b.$("img").show().attr("src",a.imgUrl);this.getPane=function(){return b}}function ce(){Q(this,Cb);var a=this.panel_=jQuery("<div class=MapWalkerInfoWindow><a href=# class=closer></a><div class=arrow></div><p>\ubcf4\uace0\uc2f6\uc740 \uc704\uce58\uc758 <strong>\ud30c\ub780\uc0c9 \ub77c\uc778\uc744 \ud074\ub9ad</strong><br>\ud558<span class=noipad>\uac70\ub098 <strong>\uc544\uc774\ucf58\uc744 \ud574\ub2f9 \ub77c\uc778 \uc704\uc5d0</strong> \ub193\uc544\ubcf4</span>\uc138\uc694</p>");
a.find(".closer").click(function(){a.hide()})}function de(a,b,c,d,e){function f(a){function b(){var a=c[f];d.$("page").text(f+1);d.$("owner").text(a.text("nickName")||"");var e=a.text("tip");e&&(e=e.replace(/\n/g," "));d.$("tiptext").html(e);e=d.$("tiptext").text();d.$("tiptext").attr("title",e);var e=new Date,a=new Date(a.text("regdttm")),h=a.getFullYear()+"."+(8<a.getMonth()?a.getMonth()+1:"0"+(a.getMonth()+1))+"."+(9<a.getDate()?a.getDate():"0"+a.getDate());e.getFullYear()==a.getFullYear()&&(e.getMonth()==
a.getMonth()&&e.getDate()==a.getDate())&&(a=Math.floor((e.getTime()-a.getTime())/1E3/60),0>=a&&(a=1),h=59<a?Math.floor(a/60)+"\uc2dc\uac04 \uc804":a+"\ubd84 \uc804");d.$("tipdate").text(h);a=d.$("tiptext").height();d.$("tiptext").removeClass("short middle");20>a?d.$("tiptext").addClass("short"):40>a&&d.$("tiptext").addClass("middle")}var c=a.array("value");if(c.length){var d=G("PlaceInfoWindowTipAddition"),e=c.length;d.$("total").text(e);var f=0;p.$("addition").children().remove();p.$("addition").append(d.children());
1==e&&d.$("themeTipContent").addClass("single");d.$("tipleft").on("click",function(){f--;0>f&&(f=e-1);b()});d.$("tipright").on("click",function(){f++;f>e-1&&(f=0);b()});b()}else p.$("addition").html("").hide()}function h(){var b=a.gas,c=b.facilities.map(function(a){return a?'<span class="icon icon-'+a+'"></span>':""}).join(" ");p.$("addition").append((c?c+"<br>":"")+"<span class=timestamp>"+(b.timestampText||"")+"</span>")}function j(a){var b="";return b=9999<a?"<em>"+parseInt(a/1E4)+"</em>\uc5b5 <em>"+
parseInt(a%1E4)+"</em>\ub9cc\uc6d0":"<em>"+a+"</em>\ub9cc\uc6d0"}function l(){var b=a.subway;if(!b.buses.length&&!b.transfers.length&&!b.facilities.length)p.$("addition").hide();else{var c=p.$("addition").show().html("<dl></dl>");b.buses.length&&c.find("dl").append("<dt>\ubc84\uc2a4\uc815\ubcf4<dd>").find("dd:last").append(b.buses.slice(0,4).map(function(a){return jQuery("<a href=#><span class=BUS-"+a.type+"></span> "+a.name+" </a>").click(function(){Application.busLineController.setData(a.id)}).get(0)}));
b.transfers.length&&c.find("dl").append("<dt>\ud658\uc2b9\uc815\ubcf4<dd>").find("dd:last").append(b.transfers.map(function(a){return jQuery("<a href=#>"+a.name+" </a>").click(function(){a.openInfoPopup();q.click("map","subwayinfo_more")}).get(0)}));b.facilities.length&&c.find("dl").append("<dt>\ud3b8\uc758\uc2dc\uc124<dd>"+b.facilities.map(function(a){return a.trim()}).join(" <span class=sep>|</span> "))}}function k(){var b=a.institution;b?p.$("addition").show().html("<strong>"+b.titleName+"</strong><dl>"+
b.dataList.map(function(a){return"<dt>"+a.title+"<dd>"+a.desc}).join("")+"</dl>"):p.$("addition").hide()}function n(b){p.$("body").addClass("intercity");b.convenience&&p.$("addition").show().html('<strong class="facilitiesTit">\ud3b8\uc758\uc2dc\uc124</strong><span class="facilities">'+b.convenience+"</span>");p.$("intercityBtn").show().click(function(){q.click("intercity","intercity_by_tooltip");require("server")[a.intercity]({id:a.intercityId,name:a.name})})}function g(){var b,c;a&&a.distance?(b=
G("PlaceInfoWindowAddition",a),(c=b.$("source"))||c.hide(),a.time.trim()||b.$("location").hide(),p.$("addition").show().html(b.getElement().innerHTML)):(p.removeClass("aoi"),p.$("addition").hide())}var o=this.onClose=new m,p=G("PlaceInfoWindow",a);p.$("close").click(function(){var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),d=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:d};"route"==e?t.logPathSearchOutWithArgs("_tooltip_close",b):"search"==e?t.logSearchOutWithArgs("tooltip_close",
b):t.log("poi_click_tooltip_close",null,b);o.notify()});b?(p.addClass("PlaceInfoWindow-collapsable"),p.$("close").addClass("ICON-closebox2"),p.$("min").click(function(){q.click("tooltip","mini_minus");var c=a.coords.getX().toFixed(0),d=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),c={confirmid:a.id,wx:c,wy:d,region:f};"route"==e?t.logPathSearchOutWithArgs("_tooltip_minus",c):"search"==e&&t.logSearchOutWithArgs("tooltip_minus",c);b()})):p.$("min").hide();d.createRoadview(p.$("rv"),
a.roadview,a.coords,a);p.$("rv").click(function(){q.click("tooltip","roadview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),d=Application.localInfoController.getHCodeForLog(),b={name:a.name,confirmid:a.id,panoid:a.roadview.panoId,wx:b,wy:c,region:d};e=="route"?t.logPathSearchOutWithArgs("_tooltip_roadview",b):e=="search"?t.logSearchOutWithArgs("tooltip_roadview",b):t.log("poi_click_tooltip_roadview",null,b)});d.createStoreview(p.$("sv"),a.storeview);p.$("sv").click(function(){q.click("storeview",
"enter_by_tooltip");var b={storeid:a.storeview,name:a.name,confirmid:a.id};e=="route"?t.logPathSearchOutWithArgs("_tooltip_storeview",b):e=="search"?t.logSearchOutWithArgs("tooltip_storeview",b):t.log("poi_click_tooltip_storeview",null,b)});d.createFavorite(p.$("fav"),B.createFromPlace(a));if(d=a.imgsrc)jQuery("<img/>",{"class":"placeimg",src:d,click:function(){q.click("tooltip","open_place_view");e=="route"?t.logPathSearchOut("tooltip_thumbnail",a.id):e=="search"&&t.logSearchOut("tooltip_thumbnail",
a.id);open(a.getLandingUrl(),"_blank")}}).appendTo(p),p.addClass("PlaceInfoWindow-withimg");p.$("name").text(a.name).attr("title",a.name).click(function(){a.subway&&a.subway.openInfoPopup();q.click("tooltip","open_place_view");e=="route"?t.logPathSearchOut(a.level>0?"tooltip_ad":"tooltip_name",a.id):e=="search"&&t.logSearchOut(a.level>0?"tooltip_ad":"tooltip_name",a.id)});a.subway||p.$("name").attr("href",a.getLandingUrl());a.phone[0]&&!a.pointExtension?(p.$("phone").text(a.phone[0]),1<a.phone.length?
(p.$("allphone").html(a.phone.slice(1).join("<br>")),p.$("morephone").click(function(){jQuery(this).toggleClass("ICON-downbtn-up",p.$("allphone").toggle().is(":visible"))})):p.$("morephone").hide()):(p.$("phone").hide(),p.$("morephone").hide());a.website?(a.phone[0]&&!a.pointExtension?p.$("website").before("<span class=ICON-middot></span>").before(" "):p.$("contact").insertAfter(p.$("addInfoAddr")),p.$("website").attr("href",a.website)):(p.$("websiteSep").hide(),p.$("website").hide());a.cardBenefits&&
a.cardBenefits.some(function(a){return a.ad})&&p.$("contact").append('<span class="benefit ICON-card"/>');d=null;a.newAddress?(p.$("address").text(a.newAddress),p.$("address").attr("title",a.newAddress),d=a.address?"(\uc9c0\ubc88) "+a.address:"",a.zipcode&&(d='<span class="zipcode">(\uc6b0) '+a.zipcode+"</span>"+d),p.$("addInfoAddr").html(d),d=p.$("addInfoAddr").find(".zipcode")):(p.$("address").text(a.address),p.$("address").attr("title",a.address),a.zipcode?(p.$("addInfoAddr").text("(\uc6b0) "+
a.zipcode),d=p.$("addInfoAddr")):p.$("addInfoAddr").hide());if(d)d.on("mousemove",function(b){jQuery("#titleSystemTooltip").html("\uc0c8\uc6b0\ud3b8\ubc88\ud638\ub294 "+a.zipcode+"\uc785\ub2c8\ub2e4.").css({top:b.pageY+22,left:b.pageX}).show()}).on("mouseout",function(){jQuery("#titleSystemTooltip").hide()});p.$("vote").text(a.grade.toFixed(1)+" ("+String.formatNumber(a.vote)+"\uac74)").click(function(){e=="route"?t.logPathSearchOut("tooltip_star",a.id):e=="search"&&t.logSearchOut("tooltip_star",
a.id)}).attr("href",a.getDaumPlaceUrl());p.$("stars").width(20*a.grade.toFixed(1)+"%");p.$("review").html("\ub9ac\ubdf0 <em>"+String.formatNumber(a.review)+"</em>").click(function(){e=="route"?t.logPathSearchOut("tooltip_review",a.id):e=="search"&&t.logSearchOut("tooltip_review",a.id)}).attr("href",a.getDaumPlaceReviewUrl());d=!1;!d&&"thememap"==e&&(d=!0,p.$("addition").show().html('<div class="themeTip"></div><div class="themeTipContent"></div>'),require("server").thememapPlaceTipList({confirmid:a.id},
function(a){f(a)}));if(!d&&a.gas){var d=!0,s=a.gas,v=[["\ud718\ubc1c\uc720",s.gasPrice],["\uace0\uae09",s.premiumGasPrice],["\uacbd\uc720",s.dieselPrice],["LPG",s.lpgPrice]],v=v.filter(function(a){return a[1]>0});p.$("addition").show().html("<strong>\uc8fc\uc720\uc815\ubcf4</strong><br>"+v.map(function(a){return a[0]+" <strong><em>"+String.formatNumber(a[1])+"</em></strong>\uc6d0"}).join(" <span class=sep>|</span> ")+(v[0]?"":"\uac00\uaca9\uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")+"<br>");s.facilities?
h():(s.onLoad.add(h),s.fetchFacilities())}!d&&("land"==a.outsrcId&&a.outsrclinkId)&&(d=!0,p.$("addition").html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),require("server").realestate(a.id,function(a){var b=a.number("salePrice")?"<em>"+String.formatNumber(a.number("salePrice"))+"</em>":"-",c=a.number("leasePrice")?"<em>"+String.formatNumber(a.number("leasePrice"))+"</em>":"-",d="";a.text("agencyName")&&(d='<dt>\ubb38\uc758</dt><dd><span class="ico_estate"></span><a target=_blank class="agencyUrl" href="'+
a.text("agencyUrl")+'"><span class="txt_name">'+a.text("agencyName")+"</span> <em>"+a.text("agencyTel")+'</em></a> <span class="ico_ad"></span>');p.$("addition").show().html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl class=estate><dt>\ub2e8\uc9c0\uc815\ubcf4</dt><dd>"+String.formatNumber(a.number("houseCnt"))+"\uc138\ub300 <span class=sep>|</span> "+String.formatNumber(a.number("dongCnt"))+"\uac1c\ub3d9 <span class=sep>|</span> "+String.formatNumber(a.number("floorCnt"))+"\uce35 <span class=sep>|</span> "+
a.text("buildDate").replace(/(....)(..).*/,"$1.$2 \uc900\uacf5")+'</dd><dt>\ub9e4\ubb3c</dt><dd><a target=_blank href="'+a.text("saleMaemulUrl")+'">\ub9e4\ub9e4 <em>'+String.formatNumber(a.number("saleCnt"))+'</em></a> <span class=sep>|</span> <a target=_blank href="'+a.text("leaseMaemulUrl")+'">\uc804\uc138 <em>'+String.formatNumber(a.number("leaseCnt"))+'</em></a> <span class=sep>|</span> <a target=_blank href="'+a.text("rentMaemulUrl")+'">\uc6d4\uc138 <em>'+String.formatNumber(a.number("rentCnt"))+
'</em></a></dd><dt>\uc2dc\uc138<small class=DOTUM11>(1\u33a1\uae30\uc900)</small></dt><dd><a target=_blank href="'+a.text("salePriceUrl")+'">\ub9e4\ub9e4 '+b+'\ub9cc\uc6d0</a> <span class=sep>|</span> <a target=_blank href="'+a.text("leasePriceUrl")+'">\uc804\uc138 '+c+"\ub9cc\uc6d0</a></dd>"+d+"</dd></dl>");p.on("click",".agencyUrl",function(){q.click("realstate","ad")})}));!d&&("agency"==a.outsrcId&&a.outsrclinkId)&&(d=!0,p.$("addition").html("<strong>\uc911\uac1c\uc5c5\uc18c\uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),
require("server").realestateAgency(a.id,function(a){var b='<strong>\uc911\uac1c\uc5c5\uc18c\uc815\ubcf4</strong><dl class=agency><dt>\ubcf4\uc720\ub9e4\ubb3c</dt><dd><a target=_blank href="'+(a.text("saleMaemulUrl")||"#")+'">\ub9e4\ub9e4 <em>'+String.formatNumber(a.number("saleCnt"))+'</em></a> <span class=sep>|</span> <a target=_blank href="'+(a.text("leaseMaemulUrl")||"#")+'">\uc804\uc138 <em>'+String.formatNumber(a.number("leaseCnt"))+'</em></a> <span class=sep>|</span> <a target=_blank href="'+
(a.text("rentMaemulUrl")||"#")+'">\uc6d4\uc138 <em>'+String.formatNumber(a.number("rentCnt"))+"</em></a></dd>";if(a.text("manageDanjiName")){b=b+('<dt>\uad00\ub9ac\ub2e8\uc9c0</dt><dd><a target=_blank href="'+(a.text("manageDanjiUrl")||"#")+'"><em>'+String.cut(a.text("manageDanjiName"),16)+"</em></a>");a.number("manageDanjiCnt")&&(b=b+(' \uc678 <a target=_blank href="'+(a.text("manageDanjiCntUrl")||"#")+'"><em>'+String.formatNumber(a.number("manageDanjiCnt"))+"</em>\ub2e8\uc9c0</a>"));b=b+"</dd>"}p.$("addition").show().html(b+
"</dl>")}));!d&&("bunyang"==a.outsrcId&&a.outsrclinkId)&&(d=!0,p.$("addition").html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),require("server").houseBunyang(a.outsrclinkId,function(a){var b=a.text("url")||"#",c=a.text("prgName")||"-",d=a.number("houseCount")?String.formatNumber(a.number("houseCount")):"-",e=a.number("dongCount")?String.formatNumber(a.number("dongCount")):"-",f=a.text("enterDate")?"\uc785\uc8fc "+a.text("enterDate"):
"\uc785\uc8fc \ubbf8\uc815",h=a.number("minSize")?String.formatNumber(a.number("minSize")):"-",k=a.number("maxSize")?String.formatNumber(a.number("maxSize")):"-";h==k&&(h="-");var l="",n=0;if(h=="-"&&k=="-")l="\ubbf8\uc815";else if(h=="-"||k=="-"){l="<em>"+(h=="-"?k:h)+"</em> \u33a1";n=1}else{l="<em>"+h+"</em> \u33a1 ~ <em>"+k+"</em> \u33a1";n=2}h=a.number("minPrice")?a.number("minPrice"):"-";a=a.number("maxPrice")?a.number("maxPrice"):"-";h==a&&(h="-");h!="-"&&(h=j(h));a!="-"&&(a=j(a));k="";k=h==
"-"&&a=="-"?"\ubbf8\uc815":h=="-"||a=="-"?n==2?h=="-"?"~ "+a:h+" ~":h=="-"?a:h:h+" ~ "+a;p.$("addition").show().html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl class=estate><dt>\ubd84\uc591\uc815\ubcf4</dt><dd>"+c+" <span class=sep>|</span> "+d+"\uc138\ub300 <span class=sep>|</span> "+e+"\uac1c\ub3d9 <span class=sep>|</span> "+f+'</dd><dt>\uba74\uc801</dt><dd><a target=_blank href="'+b+'">'+l+'</a></dd><dt>\ubd84\uc591\uac00</dt><dd><a target=_blank href="'+b+'">'+k+"</a></dd></dl>")}));
!d&&a.subway&&(d=!0,p.$("addition").html("<dl><dt><dd>&nbsp;<dt><dd>&nbsp;</dl>").show(),a.subway.isLoaded()?l():a.subway.fetchDetail(l));!d&&(a.hub_data&&!a.intercity)&&(d=!0,p.$("addition").html("<strong>&nbsp;</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;</dl>").show(),a.institution?k():ja.find(a.id,function(b){a=b;k()}));!d&&a.intercity&&ja.find(a.id,function(a){n(a)});s="";switch(a.outsrcId){case "agency":s="agency";break;case "land":case "estate":case "land_hotissue":case "bunyang":s=
"realestate"}c.create(p.$("toolbar"),a,{reportable:a.isFiy,detailClass:s,detailCallback:function(){a.subway?a.subway.openInfoPopup():open(a.getLandingUrl(),"_blank");e=="route"?t.logPathSearchOut("tooltip_more",a.id):e=="search"&&t.logSearchOut("tooltip_more",a.id)},subwayType:!!a.subway,rough:!0,type:e});!d&&a.pointExtension&&(d=!0,p.$("addition").html("<strong>\uc0c1\uc138\uc815\ubcf4</strong><br>&nbsp;<br>&nbsp;").show(),a.distance||a.time?g():ja.find(a.id,function(b){a=b;g()}));!d&&+a.tipCnt&&
(d=!0,p.$("addition").show().html('<div class="themeTip"></div><div class="themeTipContent"></div>'),require("server").thememapPlaceTipList({confirmid:a.id},function(a){f(a)}));this.getPane=function(){return p}}function ee(a,b,c,d){var e=this.onClose=new m,f=G("AddressInfoWindow");d.createClose(f.$("close"),function(){e.notify()});d.createFavorite(f.$("fav"),B.createFromPoint(a));f.$("name").text(a.name).attr("title",a.name);d.createRoadview(f.$("rv"),null,a.coords);f.$("rv").click(function(){e.notify()});
c.create(f.$("toolbar"),a,{coordinate:b,reportable:!b});b&&f.addClass("coordinateInfoWindow");this.getPane=function(){return f};this.setFavoriteIcon=function(a){f.$("fav").toggle(a)}}function fe(a,b,c){var d=this.onClose=new m,e=a.webpage,f=G("ReviewInfoWindow");c.createClose(f.$("close"),function(){d.notify()});var h=a.image;h?f.$("thumb").attr("src",h):(f.$("thumb").remove(),f.addClass("ReviewInfoWindow-noimg"));f.$("title").attr("href",e).html(a.title);h=h?65:100;f.$("content").html(String.cut(String.stripTags(a.content),
h));f.$("author").text(a.author||a.webpage).attr("href",e);f.$("date").text(a.date);a.placeId?(f.$("reference").show(),ja.findPlace(a.placeId,function(a){if(a==null)f.$("reference").hide();else{a.storeview?c.createStoreview(f.$("storeview"),a.storeview):f.$("storeview").hide();if(a.roadview){f.$("roadview").click(function(){t.logRoadview("review_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id})});c.createRoadview(f.$("roadview"),a.roadview,
a.coords);f.$("roadview").show()}else f.$("roadview").hide();f.$("name").text(a.name).attr("href",a.getLandingUrl()).click(function(){q.click("tooltip","open_place_view")});a.phone&&a.phone[0]?f.$("phone").text(a.phone[0]).after(" | "):f.$("phone").hide();f.$("address").text(a.address);f.$("stars").css("width",a.star*10+"%");f.$("vote").text("("+String.formatNumber(a.vote)+"\uac74)").attr("href",a.getDaumPlaceUrl());f.$("review").attr("href",a.getDaumPlaceReviewUrl()).text(String.formatNumber(a.review))}})):
f.$("reference").text("[\uad00\ub828\uc8fc\uc18c] "+a.address);b.create(f.$("toolbar"),a,{reviewType:!0});this.getPane=function(){return f}}function td(a){var b=this.onClose=new m,c=this.onCollapse=new m,d=this.onPrev=new m,e=this.onNext=new m;this.onRoadviewClick=new m;var f=this.panel_=G("RouteInfoWindow");f.$("close").click(function(){b.notify()});f.$("close").click(function(){b.notify()});f.$("min").click(function(){c.notify()});a.roadview&&f.$("rv").show().click(function(){Application.roadviewController.show(a.roadview);
this instanceof sd?(q.click("route","go_car_tooltip_roadview"),t.logRoadview("node_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog())):this instanceof vd&&(q.click("route","go_walk_tooltip_roadview"),t.logRoadview("node_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog()))}.bind(this));var h=null,j=null,l=f.$("next").click(function(){e.notify(j)}.bind(this)),k=f.$("prev").click(function(){d.notify(h)}.bind(this));
this.setButtons=function(a,b){h=a;j=b;k.toggle(!!a);l.toggle(!!b)};this.point_=a;this.getPane=function(){return f};this.doLayout=function(){f.css("left",-f.outerWidth()>>1)};f.$("content").text(a.desc)}function ge(a){function b(a,b){a.phone[0]&&!a.pointExtension?(b.$("phone").text(a.phone[0]),1<a.phone.length?(b.$("allphone").html(a.phone.slice(1).join("<br>")),b.$("morephone").click(function(){jQuery(this).toggleClass("ICON-downbtn-up",b.$("allphone").toggle().is(":visible"))})):b.$("morephone").hide(),
b.$("contact").show()):(b.$("contact").hide(),b.$("phone").hide(),b.$("morephone").hide());b.$("address").text(a.address);b.$("address").attr("title",a.address);a.newAddress?b.$("newaddr").text("(\uc0c8\uc8fc\uc18c : "+a.newAddress+")"):b.$("newaddr").hide()}Q(this,mc,a);var c=this.panel,d=c.$("transitPointContent");if(a.confirmid){var e=G("StartEndPointInfoContent");ja.findPlace(a.confirmid,function(a){b(a,e);e.show();e.appendTo(d)})}c.addClass("StartEndPointInfoWindow");c.$("min").hide();c.$("close").addClass("aloneClose");
c.$("title").text(a.name);c.$("icon").addClass(a.action||a.seq)}function he(a,b){var c=this.onClose=new m,d=G("SubPlaceInfoWindow");d.$("close").click(c.notify.bind(c));d.$("name").text(a.name);b.create(d.$("toolbar"),a);this.getPane=function(){return d}}function ie(a){Q(this,mc,a);var b=this.panel,c=b.$("transitPointContent");b.addClass("SubwayRouteInfoWindow");b.$("icon").addClass("SUBWAYSTION").addClass(a.subwayCode);b.$("title").click(function(){q.click("route","go_public_subwaystation_name");
a.subwayStation.fetchDetail(function(){Application.map.setCenter(a.coords);Application.infoWindowManager.createSubwayStation(a.subwayStation)},this)});a.action!=N.GETOFF&&G("SubwayRouteInfoWindowContent",{nodes:a.nodes.length+1+"\uac1c \uc5ed \uc774\ub3d9",time:a.time,tip:a.tip,desc:a.desc}).appendTo(c);a.action==N.GETOFF&&!a.lastGetOFf&&(b.$("min").hide(),b.$("close").addClass("aloneClose"));a.isInterPublic&&(b.$("min").hide(),b.$("close").addClass("aloneClose"));0!=a.vehicles.length&&b.$("transitIcon").addClass("sub_"+
a.vehicles[0].type)}function je(a,b,c,d,e){function f(){a.openInfoPopup();q.click("map","subwayinfo_more")}function h(){d.createFavorite(k.$("fav"),B.createFromPlace(a));if(!a.subwayLineId)return j.notify.call(j),alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;a.prev?k.$("prev").text(a.prev.name).removeClass("disabled").click(function(){l.notify(a.prev);q.click("map","subwayinfo_nearstation")}):k.$("prev").text("\uc774\uc804\uc5ed \uc5c6\uc74c").addClass("disabled");
a.next?k.$("next").text(a.next.name).removeClass("disabled").click(function(){l.notify(a.next);q.click("map","subwayinfo_nearstation")}):k.$("next").text("\ub2e4\uc74c\uc5ed \uc5c6\uc74c").addClass("disabled");var b=a.name;a.lineName&&("\uc5ed"!==b.substr(-1,1)&&(b+="\uc5ed"),b+=" "+a.lineName);k.$("titleName").text(b).attr("title",a.name).click(function(a){a.preventDefault();f()});k.$("name").text(a.name).css("backgroundImage","url("+a.bg+")");k.removeClass("data_not_yet_arrive")}var j=this.onClose=
new m,l=this.onSibling=new m,k=G("SubwayStationInfoWindow");k.$("close").click(j.notify.bind(j));k.addClass("data_not_yet_arrive");b?(k.$("close").addClass("ICON-closebox2"),k.$("min").click(function(){q.click("tooltip","mini_minus");var c=a.coords.getX().toFixed(0),d=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),c={confirmid:a.id,wx:c,wy:d,region:f};"route"==e?t.logPathSearchOutWithArgs("_tooltip_minus",c):"search"==e&&t.logSearchOutWithArgs("tooltip_minus",c);b()})):
k.$("min").hide();a.subway={id:a.id};d.createFavorite(k.$("fav"),B.createFromPlace(a));a.isLoaded()?h(a):a.fetchDetail(h);c.create(k.$("toolbar"),a,{detailCallback:f,subwayId:a.id});this.getPane=function(){return k}}function wd(a,b){var c=this.onClose=new m,d=G("TrafficInfoWindow");d.$("close").click(c.notify.bind(c));d.$("title").text(a.name+" \uc18d\ub3c4\uc815\ubcf4");d.$("section").text(a.desc);d.$("desc").text(String.formatDistance(a.length)+" \uad6c\uac04"+a.status+" (\uc18d\ub3c4 : "+String.formatNumber(a.speed)+
"km/h)").css("backgroundColor",{"\uc6d0\ud65c":"#28c613","\uc11c\ud589":"#f3bd00","\uc9c0\uccb4":"#ff7200","\uc815\uccb4":"#f11406"}[a.status]||"");b.createFavorite(d.$("fav"),B.createFromTraffic(a));this.getPane=function(){return d}}function mc(a){var b=this.onClose=new m,c=this.onCollapse=new m,d=this.onPrev=new m,e=this.onNext=new m,f=this.onRoadviewClick=new m,h=this.onCloseBtn=new m,j=null,l=null,k=!1;if(a.vehicleType==C.AIRPLANE||a.vehicleType==C.TRAIN)k=!0;var n=this.panel=G("TransitPointInfoWindow",
{title:String.cut(a.name,15),roadview:a.roadview,actionName:function(){return a.bus?"\uc815\ub958\uc7a5 "+a.actionName:a.actionName},hasReservation:a.reservation||k});this.doLayout=function(){n.css("left",-n.outerWidth()>>1)};n.$("close").click(function(){h.notify()});n.$("min").click(function(){c.notify();b.notify()});n.$("prev").click(function(){q.click("route","go_public_tooltip_move");d.notify(j)});n.$("next").click(function(){q.click("route","go_public_tooltip_move");e.notify(l)});n.$("rv").click(function(){q.click("route",
"go_public_tooltip_roadview");f.notify()});this.setButtons=function(a,b){j=a;l=b;n.$("prev").toggle(!!a);n.$("next").toggle(!!b)};this.getPane=function(){return n}}function ke(a){Q(this,mc,a);this.panel.addClass("WalkPointGroupInfoWindow");this.panel.$("title").text("\ub3c4\ubcf4\ub85c");this.panel.$("name").append("\uc774\ub3d9");this.panel.$("icon").addClass("WALKING");this.panel.$("close").addClass("aloneClose");this.panel.$("min").hide();this.panel.$("transitPointContent").text(a.desc||a.walkGroup.desc)}
function vd(a){function b(a){c.$("icon").addClass(a.join(" "))}Q(this,td,a);var c=this.panel_;c.addClass("WalkPointInfoWindow");if(a.getSummary&&a.getSummary()){var d=a.getPlaceId()?"#":"http://place.map.daum.net/"+a.getPlaceId();c.$("title").text(a.getSummary()).attr("href",d)}c.$("icon").addClass("walkaction");if(a.action||a.rotationCode){var d=a.action,e=a.rotationCode;d&&-1!=d.indexOf("EXIT")&&e?(c.$("icon").addClass("walkguide").addClass(e),b(["walkguide",e])):(d&&(d=a.action.replace("EXIT",
"ENTER")),position_=Db.ACTION_LIST[d],void 0!=position_?b(["walkguide","walkaction",d]):b(["walkguide",e||"STRAIGHT"]))}}function le(a){var b=this.onClose=new m,c=this.prevCast=new m,d=this.nextCast=new m,e=this.more=new m,f=G("WeatherInfoWindow",a);f.$("closer").on("click",function(){b.notify()});f.$("pagePrev").on("click",function(){c.notify()});f.$("pageNext").on("click",function(){d.notify()});f.$("more").on("click",function(){e.notify()});f.on("mousedown",daum.maps.event.preventMap);this.currentCastPage;
this.maxCastPage;this.getPane=function(){return f}}function t(){}function xd(a,b,c){Q(this,Jb);this.accident_=a;this.createMarker=function(){var a=this.accident_;return z.makeHoverable(new daum.maps.Marker({zIndex:2,position:a.coords,image:a.icon}))};this.updateVisibility=function(a){var b=this.getMarker();b&&b.setVisible(7>=a)};this.clickMarker=function(){this.setMarkerZIndex(4);Application.infoWindowManager.createAccident(a,this.getMarker()).onClose.add(this.setMarkerZIndex.bind(this,2));q.click(b,
c)}}function nc(a,b,c,d){var e,f=!1;e=z.createCctv(a.coords);e.onOver.add(function(){!f&&e.setZIndex(3)});e.onOut.add(function(){!f&&e.setZIndex(2)});b&&(e.onOver.add(function(){b.createCctv(a);b.open(a)}),e.onOut.add(function(){b.close(a)}));var h=this.clickMarker=function(){e.setZIndex(4);f=true;Application.infoWindowManager.createCctv(a,e).onClose.add(function(){e&&e.setZIndex(2);f=false});q.click(c,d)};e.onClick.add(h);this.updateVisibility=function(b){e.setVisible(a.testZoom(b))};this.setMap=
function(a){e.setMap(a)}}function yd(a,b){function c(a){j=a.ref}if(!(this instanceof arguments.callee))return new yd(a,b);var d="__daum$3D"+(+new Date).toString(36),e=jQuery(g.$(a).getElement()),f=a+".clipboard",h=jQuery('<div class="clipboardWrap"><div id="'+f+'"></div></div>');e.append(h);var j=null,l="",k=this.set=function(a){l=a;j&&j.setText&&j.setText(a)};this.dispose=function(){swfobject.removeSWF(f);h.detach();try{delete A[d]}catch(a){A[d]=void 0}};A[d]={successClipboard:function(){b&&b()},
initClipboard:function(){l&&k(l)}};"object"==typeof swfobject&&swfobject.embedSWF("flash/Clipboard.swf",f,"100%","100%","9.0.0",!1,{},{wmode:"transparent",allowscriptaccess:"always",flashvars:"namespace="+d},{name:"clipboard"},c)}function Jb(){this.setMarkerZIndex=function(a){this.getMarker().setZIndex(a)}}function Qb(a,b,c,d){function e(a){if(k||j)return!1;var a=a.coords,c=b.getLevel();l?o.test(a,4<<c)&&!o.ignoreTest(a,c)?(n.setPosition(a),g.setPosition(a)):(n.setMap(null),g.setMap(null),l=!1):o.test(a,
2<<c)&&!o.ignoreTest(a,c)&&(n.setPosition(a),g.setPosition(a),n.setMap(b),g.setMap(b),l=!0)}function f(){j=!0}function h(){j=!1}this.index_=a;this.onCoords=new m;var j=!1,l=!1,k=!1,n=new daum.maps.Marker({zIndex:-2,draggable:!0,image:Qb.POINTER_IMAGE}),g=new daum.maps.Marker({clickable:!1,image:Qb.TOOLTIP_IMAGE}),o=new me(c,d);this.onAdd=function(){daum.maps.event.addListener(b,"mousemove",e);Application.mainMapController.tool.onClickTool.add(f);Application.mainMapController.tool.onComplete.add(h);
j=Application.mainMapController.tool.isToolActivate()};this.onRemove=function(){daum.maps.event.removeListener(b,"mousemove",e);n.setMap(null);g.setMap(null);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(h)};daum.maps.event.addListener(n,"dragend",function(){k?(k=!1,n.setMap(null),this.onCoords.notify({index:this.index_,position:n.getPosition()})):n.setMap(null)}.bind(this));daum.maps.event.addListener(n,"mousedown",function(){k=!0;l=
!1;g.setMap(null)});daum.maps.event.addListener(n,"click",function(){l=k=!1;g.setMap(b)});daum.maps.event.addListener(b,"rightclick",function(){l=k=!1;n.setMap(null)})}function pa(a,b,c,d,e){daum.maps.AbstractOverlay.call(this);this.onClick=new m;var f=this.marker_=new daum.maps.Marker({zIndex:e||2,position:a,image:b});this.isToolActivate=!1;this.zIndex_=e;this.highlight_=!1;daum.maps.event.addListener(f,"click",this.onClick.notify.bind(this.onClick));daum.maps.event.addListener(f,"mouseover",this.setHoverYes.bind(this));
daum.maps.event.addListener(f,"mouseout",this.setHoverNo.bind(this));this.roadmapImage_=b;c&&(this.skyviewImage_=c,this.mapTypeIdHandler_=this.changeMarkerImage_.bind(this));this.rolloverImage_=d;this.onOver=new m;this.onOut=new m;this.onPositionChanged=new m;this.eventMarkerImage_=null;this.toolActivate=function(){this.isToolActivate=true;f.setClickable(false);Application.infoWindowManager.closeWithoutNotify()}.bind(this);this.toolDeactivate=function(){this.isToolActivate=false;f.setClickable(true)}.bind(this)}
function bc(a){console.assert(a instanceof daum.maps.Map);this.map_=a;this.data_=null}function la(a){this.defaultPoint_=a;this.onCoords=new m;this.onChange=new m;this.onRemoveFlag=new m;this.coords_=new daum.maps.Coords(0,0);this.isDragActivate=!0;this.klass_=null;a=this.panel_=jQuery('<div class=Flag-common><div class=guide></div><a href=# class=remover></a><img class=flagImg src="http://t1.daumcdn.net/localimg/localimages/07/2013/img/red_b.png"></div>');a.mousedown(function(a){this.isActivateFlag()&&
daum.maps.event.preventMap(a)}.bind(this));a.mouseenter(this.showGuide_.bind(this));a.mouseleave(this.hideGuide_.bind(this));a.find(".remover").click(this.remove_.bind(this));(this.flagImg_=a.find(".flagImg")).uidraggable({dragstart:this.dragStart_.bind(this),drag:this.drag_.bind(this),dragend:this.takeDown.bind(this),dragcancel:this.sink_.bind(this)});this.scrollSwitch_=Ob.get(15,this.scroll_,this)}function zd(a,b,c,d,e){var c=c|0,f=null,h=b.getPosition?b.getPosition():b,j={x:0,y:b.getImage?b.getImage().getOffset().y:
0};e&&(j=jQuery.extend({x:0,y:j.y},e));this.onAdd=function(){f=jQuery('<div style="position:absolute;z-index:'+c+'"/>').on("mousedown touchstart dblclick contextmenu mousewheel wheel DOMMouseScroll",daum.maps.event.preventMap).append(d).appendTo(this.getPanels().overlayLayer)};this.draw=function(){var a=this.getProjection().pointFromCoords(h);f.css({left:a.x+j.x,top:a.y-j.y})};this.onRemove=function(){f.find("object").each(function(){try{this.outerHTML=""}catch(a){}});f.remove();f=null};this.panIntoView=
function(){var a=this.getMap(),b=a.getNode();if(b.getBoundingClientRect){var b=b.getBoundingClientRect(),c=d.get(0).getBoundingClientRect(),e=0;c.left<b.left+40?e=c.left-b.left-50:c.right>b.right-40&&(e=c.right-b.right+50);var f=0;c.top<b.top+50?f=c.top-b.top-60:c.bottom>b.bottom-60&&(f=c.bottom-b.bottom+80);(e||f)&&setTimeout(function(){a.panBy(e,f)},150)}};this.setMap(a);this.getPane=function(){return d}}function La(a,b,c,d,e,f,h){function j(){!N&&!hb&&!T?(N=!0,H.toggleClass("ACTIVE",N),v(!1)):
r()}function l(a){S?a==daum.maps.MapTypeId.HYBRID__||a==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview"):require("log/Tiara").log("/fake/pastview"):a==daum.maps.MapTypeId.HYBRID__||a==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview_hybridoff"):require("log/Tiara").log("/fake/pastview_hybridoff")}function k(){return Oc?Oc|xa:xa}function n(a,e){var f=k(),h=La;a!=f&&(f&h.CCTV?d.activate():d.deactivate(),f&h.ACCIDENT?c.activate():c.deactivate(),(a^f)&h.ROADVIEW&&
(Application.roadviewController.setWalkerVisible(f&h.ROADVIEW,e),fa.notify()),(a^f)&h.TRAFFIC&&oa.notify(),b.setClickableLabel(f&h.ROADVIEW))}function g(){ga.toggle(!1)}function o(b){J=b;ka.toggleClass("ACTIVE",b);var c=a.isRoadmap();c?q.click("control","terrain"):(a.setMapTypeId(S?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW),q.click("control","terrain_skyview"));e.set("terrain",b);e.set("overlay",!c&&S&&b);b&&require("log/Tiara").log("/fake/terrain");u()}function p(c){ra=c;za.toggleClass("ACTIVE",
c);a.isRoadmap()?(e.set("bicycle",c),c&&e.set("bicyclehybrid",!c),q.click("control","bicycle_ndm")):(c&&e.set("bicycle",!c),e.set("bicyclehybrid",c),q.click("control","bicycle_skyview"));c&&require("log/Tiara").log("/fake/bicycle");u();b.setLegend("bike",c)}function s(a,b){C.toggleClass("ACTIVE",a);t=a;Ha.toggle(!b&&a);b?(Ha.find("a").removeClass("SELECT"),Ha.find("."+b).addClass("SELECT"),f.setAirType(b)):f.setActive(a);a?Ia.trigger():Ia.stop();u();q.click("control","weather");h.setActive(!a)}function v(a){I.toggleClass("ACTIVE",
a);z=a;L.toggle(a);u();r();b.setLegend("usedistrict",a)}function r(){z?(N&&!e.get("usedistrict")&&require("log/Tiara").log("/fake/usedistrict"),hb&&!e.get("bboundary")&&require("log/Tiara").log("/fake/bboundary"),T&&!e.get("hboundary")&&require("log/Tiara").log("/fake/hboundary"),e.set("usedistrict",N),Q?(e.set("hboundary",T),e.set("bboundary",hb)):(e.set("bboundary",hb),e.set("hboundary",T))):(e.set("usedistrict",!1),e.set("bboundary",!1),e.set("hboundary",!1))}function u(){V.find(".layerSplitFst").toggleClass("ACTIVE",
t||J);V.find(".layerSplitMid").toggleClass("ACTIVE",J||z);V.find(".layerSplit").toggleClass("ACTIVE",z||ra)}function w(){a.isRoadmap()||(ga.toggle(!0),x.stop())}function D(){g()}function P(){t?(Ha.toggle(!0),Ia.stop()):K()}function K(){Ha.toggle(!1)}function U(){z?L.toggle(!0):E()}function E(){L.toggle(!1)}var Z=a.getMapTypeId(),F=this.onRoadmap=new m,ea=this.onSkyview=new m,fa=this.onRoadview=new m,oa=this.onTraffic=new m,wa=this.onHistory=new m,J=!1,ra=!1,t=!1,z=!1,sa=!1,na=jQuery("#mapTypeControlHolder"),
V=na.find(".mapLayerControl"),ac=G("MapTypeControl");na.append(ac);var B=ac.find(".roadmap").toggleClass("ACTIVE",a.isRoadmap()).click(function(){e.set("overlay",!1);ra&&(e.set("bicyclehybrid",!1),e.set("bicycle",!0));a.setMapTypeId(daum.maps.MapTypeId.ROADMAP);F.notify(daum.maps.MapTypeId.ROADMAP);require("log/Tiara").log("/fake/imagemap");q.click("control","2D");jQuery.cookie("maptype","roadmap",{expires:14})}),A=ac.find(".skyview").toggleClass("ACTIVE",!a.isRoadmap()).click(function(){e.set("overlay",
S&&J);var b=S?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW;a.setMapTypeId(S&&!J?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);ea.notify(b);ra&&(e.set("bicycle",!1),e.set("bicyclehybrid",!0));ga.toggle(!0);x.trigger();q.click("control",b==daum.maps.MapTypeId.SKYVIEW?"skyview":"hybrid");jQuery.cookie("maptype","skyview",{expires:14})}).mouseenter(w).mouseleave(D);A.blurout(function(){jQuery(".MapControlView .rv").focus()});var x=gb(3E3,g),ga=G("SkyviewOptions");ga.mouseenter(w).mouseleave(D).hide().appendTo("body");
var ma=ga.find(".hybrid").toggleClass("ACTIVE",Z!=daum.maps.MapTypeId.SKYVIEW).click(function(){S=!S;ma.toggleClass("ACTIVE",S);a.setMapTypeId(S&&!J?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);J&&e.set("overlay",S);a.getMapTypeId()==daum.maps.MapTypeId.HYBRID&&q.click("control","hybrid");l(a.getMapTypeId())}),ha=ga.find(".yearRadio");ha.click(function(a){a=ha.index(a.target);console.assert(0<=a);q.click("control","newest past2015 past2014 past2013 past2012 past2011 past2010 past2009 past2008".split(" ")[a]);
ha.removeClass("ACTIVE").eq(a).addClass("ACTIVE");wa.notify(a)});var ka=V.find(".terrain");ka.click(function(){o(!J)});var za=V.find(".bike");za.click(function(){p(!ra)});var C=V.find(".weather");C.click(function(){s(!t)});C.mouseenter(P).mouseleave(K);var Ia=gb(3E3,K),Ha=G("WeatherTypeOptions");Ha.mouseenter(P).mouseleave(K).hide().appendTo("body");var M="wea khai pm10 ysand o3 co so2 no2".split(" ");Ha.find("a").each(function(a,b){var c=jQuery(b);c.click(function(){var b=M[a],d=b;"wea"==d&&(d="temp");
q.click("control","weather_"+d);c.hasClass("SELECT")||(Ha.find("a").removeClass("SELECT"),c.addClass("SELECT"),f.setAirType(b))})});var I=V.find(".usedistrict");I.click(function(){q.click("control","usedistrict");v(!z)});I.mouseenter(U).mouseleave(E);var L=G("UsedistrictTypeOptions"),H=L.find(".usedistrict"),R=L.find(".bboundary"),X=L.find(".hboundary"),N=!0,hb=!1,T=!1,Q=!0;L.mouseenter(U).mouseleave(E).hide().appendTo("body");H.on("click",function(){N=!N;H.toggleClass("ACTIVE",N);j();q.click("control",
"usedistrict_usedistrict")});R.on("click",function(){hb=!hb;R.toggleClass("ACTIVE",hb);Q=!0;j();q.click("control","usedistrict_bboundary")});X.on("click",function(){T=!T;X.toggleClass("ACTIVE",T);Q=!1;j();q.click("control","usedistrict_hboundary")});b.onRefresh.add(function(){k()&La.TRAFFIC&&(e.set("traffic",!1),setTimeout(function(){e.set("traffic",!0)},100))},this);c.onTimestamp.add(b.setDate,b);var O=!1,Ad=!1,Bd=!1,Cd=!1,Oc=!1,xa=0,S=Z!=daum.maps.MapTypeId.SKYVIEW;daum.maps.event.addListener(a,
"maptypeid_changed",function(){var b=a.isRoadmap();jQuery("#view\\.map").toggleClass("map-skyview",!b);B.toggleClass("ACTIVE",b);A.toggleClass("ACTIVE",!b)});this.getElement=function(){return ac.get(0)};this.getState=function(){return k()};this.setState=function(a){xa^=a};this.setRoadview=function(a){if(a!=O){var b=k();xa^=La.ROADVIEW;O=a;e.set("roadview",a);n(b,!0)}};this.isRoadviewActive=function(){return k()&La.ROADVIEW};this.overrideRoadview=function(a){var b=k();Oc=a;n(b)};this.logMapTypeId=
function(a){l(a)};this.setTraffic=function(a){if(a!=Ad){var c=k();xa^=La.TRAFFIC;Ad=a;e.set("traffic",a);n(c);b.setLegend("traffic",a)}};this.setAccident=function(a){if(a!=Bd){var b=k();xa^=La.ACCIDENT;Bd=a;n(b)}};this.setCctv=function(a){if(a!=Cd){var b=k();xa^=La.CCTV;Cd=a;n(b)}};this.setCctvId=function(a){d.findId(a)};this.isTrafficActive=function(){return k()&La.TRAFFIC};this.isAccidentActive=function(){return k()&La.ACCIDENT};this.isCctvActive=function(){return k()&La.CCTV};this.setLatestSkyview=
function(){ga.find(".yearRadio").eq(0).click()};this.isTerrainActive=function(){return J};this.setTerrain=function(a){o(a)};this.isBikeActive=function(){return ra};this.setBike=function(a){p(a)};this.setWeather=function(a,b){s(a,b)};this.getWeather=function(){var a="";t&&(a=f.getAirType());return a};this.isUsedistrictActive=function(){return z};this.setUsedistrictParam=function(a,b){var c=b.split(",");0<c.length&&(T=hb=N=!1);for(var d=0;d<c.length;d++){var e=c[d];"usedistrict"==e?N=!0:"bboundary"==
e?Q=hb=!0:"hboundary"==e&&(T=!0,Q=!1)}H.toggleClass("ACTIVE",N);R.toggleClass("ACTIVE",hb);X.toggleClass("ACTIVE",T);v(a)};this.getUsedistrictParam=function(){var a=[];N&&a.push("usedistrict");Q?(T&&a.push("hboundary"),hb&&a.push("bboundary")):(hb&&a.push("bboundary"),T&&a.push("hboundary"));return a.join(",")};this.isIndoorActive=function(){return sa};this.setIndoor=function(b){b&&require("log/Tiara").log("/fake/indoor");e.set("indoor",b);sa=b;var c=a.getMapTypeId();b&&c==daum.maps.MapTypeId.ROADMAP?
a.setMapTypeId(daum.maps.MapTypeId.INDOOR_SIDE):c==daum.maps.MapTypeId.INDOOR_SIDE&&a.setMapTypeId(daum.maps.MapTypeId.ROADMAP)};this.update=function(){console.log("update");n(null)};this.isHybridActive=function(){return S}}function pc(a,b,c){Q(this,Bc);this.map_=a;this.roadmapOverlay_=b;this.skyviewOverlay_=c;this.switchHandler_=this.handleOverlay_.bind(this);this.on("visible",this.handleVisible_);this.setVisible(!0)}function Dd(a,b,c){function d(){l&&j.setImage(!l.isRoadmap()&&c||b)}daum.maps.AbstractOverlay.call(this);
jQuery.extend(this,new daum.maps.AbstractOverlay);var e=this.onClick=new m,f=this.onOver=new m,h=this.onOut=new m,j=this.marker_=new daum.maps.Marker({zIndex:2,position:a,image:b});daum.maps.event.addListener(j,"click",function(){e.notify()});daum.maps.event.addListener(j,"mouseover",function(){f.notify()});daum.maps.event.addListener(j,"mouseout",function(){h.notify()});var l=null;this.onAdd=function(){l=this.getMap();j.setMap(l);c&&(daum.maps.event.addListener(l,"maptypeid_changed",d),d())};this.onRemove=
function(){var a=l||this.getMap();c&&daum.maps.event.removeListener(a,"maptypeid_changed",d);j.setMap(null)};this.getPosition=function(){return j.getPosition()};this.getImage=function(){return j.getImage()};this.setTitle=function(a){j.setTitle(a)};this.setZIndex=function(a){j.setZIndex(a)};this.setVisible=function(a){j.setVisible(a)};this.getMarker=function(){return j}}function Xd(a){function b(){z=!0;t&&u.show()}function c(){z=!1;t&&u.hide()}function d(){var b=a.isRoadmap()?"m":"s";b!=q&&(f(),q=
b,h())}function e(){var a=P/11.25+1>>1&15;a!=K&&(f(),K=a,h())}function f(){w.removeClass("d"+K);D.removeClass(q+K)}function h(){w.addClass("d"+K);D.addClass(q+K)}function j(){var a=V.getProjection();a&&J&&(a=a.pointFromCoords(J),u.css({left:a.x,top:a.y}))}function l(){sa.stop();o();v.notify(J)}function k(){t||(a.setCursor("pointer"),t=!0,Application.roadviewController.getActive(),daum.maps.event.addListener(a,"mousemove",n))}function n(a){U=a.point.x-E;E=a.point.x;J=a.coords;j();z||b();p(U)}function g(){daum.maps.event.removeListener(a,
"mousemove",n);a.setCursor(null);t=!1;o()}function o(){u.removeClass("MapWalker-Searching").removeClass("MapWalker-Left MapWalker-Right").toggleClass("MapWalker-Pinned",ra).toggleClass("MapWalker",!ra)}function p(a){na.trigger();0>a?u.addClass("MapWalker-Left").removeClass("MapWalker-Right"):0<a&&u.addClass("MapWalker-Right").removeClass("MapWalker-Left")}function s(){var a=Math.atan2(Z-51,26-F)||0;0>a&&(a+=2*Math.PI);P=180*a/Math.PI;e();r.notify()}var v=this.onCoords=new m,r=this.onPan=new m,u=G("MapWalker"),
w=u.$("body"),D=u.$("angle");u.$("image");u.$("addr");var P=0,K=0,U=0,E=0,Z=0,F=0,ea=0,fa=0,q="",wa=null,J=null,ra=!0,t=!1,z=!0,sa=Ob.get(15,function(){var b=V.getProjection(),c=b.containerPointFromCoords(J),d=a.getCenter(),d=b.containerPointFromCoords(d);d.x+=ea;d.y+=fa;a.setCenter(b.coordsFromContainerPoint(d));J=b.coordsFromContainerPoint(c);j()}),na=gb(500,function(){u.removeClass("MapWalker-Right MapWalker-Left")}),V=new daum.maps.AbstractOverlay;V.onAdd=function(){var b=V.getPanels().overlayLayer;
jQuery(b).append(u);daum.maps.event.addListener(a,"maptypeid_changed",d);d()};V.onRemove=function(){u.detach();daum.maps.event.removeListener(a,"maptypeid_changed",d)};V.draw=j;u.mousedown(daum.maps.event.preventMap);var ac=new ce;u.append(ac.getPanel());w.uidraggable({dragstart:function(){wa={width:jQuery("#view\\.map").width(),height:jQuery("#view\\.map").height()};Application.roadviewController.getActive();u.removeClass("MapWalker MapWalker-Pinned").addClass("MapWalker-Searching")},drag:function(a){var b=
V.getProjection(),c=b.pointFromCoords(J);c.x+=a.dx;c.y+=a.dy;J=b.coordsFromPoint(c);j();p(a.dx);c=b.containerPointFromCoords(J);ea=0>c.x?-8:c.x>=wa.width?8:0;fa=0>c.y?-8:c.y>=wa.height?8:0;ea||fa?sa.start():sa.stop()},dragend:l,dragcancel:k});D.uidraggable({dragstart:function(a){daum.maps.event.preventMap();Z=a.x;F=a.y;s()},drag:function(a){Z+=a.dx;F+=a.dy;s()}});jQuery(a.getNode()).on("mouseleave",c);jQuery(a.getNode()).on("mouseenter",b);daum.maps.event.addListener(a,"mouseover",b);daum.maps.event.addListener(a,
"mouseout",c);this.show=function(){u.show();V.setMap(a)};this.hide=function(){V.setMap(null)};this.setPosition=function(a){J=a;j()};this.getPosition=function(){return J};this.drop=function(){l()};this.hold=function(){u.removeClass("MapWalker MapWalker-Pinned").addClass("MapWalker-Searching").hide();V.setMap(a);k()};this.release=function(){g()};this.setPan=function(a){P=a;e()};this.getPan=function(){return P};this.setFloat=function(a){ra!=a&&(b(),g(),(ra=a)?u.removeClass("MapWalker").addClass(t?"MapWalker-Searching":
"MapWalker-Pinned"):u.removeClass("MapWalker-Searching MapWalker-Pinned").removeClass("MapWalker-Left MapWalker-Right").addClass("MapWalker"))};this.getVisible=function(){return!!V.getMap()};this.getState=function(){return t};this.draw=function(){j()};this.clear=function(){u.removeClass("MapWalker MapWlaker-Pinned MapWalker-Searching").removeClass("MapWalker-Left MapWalker-Right");daum.maps.event.removeListener(a,"mousemove",n);a.setCursor(null);ra=!0;t=!1;z=!0}}function z(){console.assert(!1)}function ta(a){this.map_=
a;this.markers_=[];this.activeMarker_=null}function Qc(){}function ne(a,b,c,d){var e=this.onClose=new m,f=this.onExpand=new m,h=G("MediumTooltip");this.getPane=function(){return h};this.doLayout=function(){h.css("left",-h.outerWidth()>>1)};c.createRoadview(h.$("roadview"),a.roadview,a.coords,a);h.$("roadview").click(function(){q.click("tooltip","mini_roadview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={name:a.name,confirmid:a.id,
panoid:a.roadview.panoId,wx:b,wy:c,region:e};"route"==d?t.logPathSearchOutWithArgs("_mini_tooltip_roadview",b):"search"==d&&t.logSearchOutWithArgs("mini_tooltip_roadview",b)});c.createStoreview(h.$("storeview"),a.storeview);h.$("storeview").click(function(){q.click("tooltip","mini_storeview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,storeid:a.storeview,wx:b,wy:c,region:e};"route"==d?t.logPathSearchOutWithArgs("_mini_tooltip_storeview",
b):"search"==d&&t.logSearchOutWithArgs("mini_tooltip_storeview",b)});c.createDestination(h.$("destination"),a);h.$("destination").click(function(){q.click("tooltip","mini_route")});h.$("destination").toggle(!!b);h.$("expand").click(function(){q.click("tooltip","mini_plus");f.notify();var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:e};"route"==d?t.logPathSearchOutWithArgs("_mini_tooltip_plus",b):"search"==
d&&t.logSearchOutWithArgs("mini_tooltip_plus",b)});h.$("close").click(function(){q.click("tooltip","mini_close");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:f};"route"==d?t.logPathSearchOutWithArgs("_mini_tooltip_close",b):"search"==d?t.logSearchOutWithArgs("mini_tooltip_close",b):t.log("poi_click_mini_tooltip_close",null,b);e.notify()});h.$("name").text(String.cut(a.name,10)).click(function(){a.subway&&
a.subway.openInfoPopup();q.click("tooltip","mini_name");"route"==d?t.logPathSearchOut("mini_tooltip_name",a.id):t.logSearchOut("mini_tooltip_name",a.id)});a.subway||h.$("name").attr("href",a.getLandingUrl())}function Rb(a){var b=G("MiniTooltip"),c=b.$("cont"),d=!1,e=new daum.maps.Billboard({zIndex:8,position:new daum.maps.Coords(0,0),content:b.get(0),clickable:!1});e.setMap(null);this.show=function(){e.setMap(a);d=!0};this.hide=function(){e.setMap(null);d=!1};this.setDataForDot=function(a){b.addClass("MiniTooltip-DOT");
c.html("");var d=jQuery('<span class="name"></span>').appendTo(c).append(a.name);a.category&&d.append(jQuery('<span class="sub">'+a.category+"</span>"));e.setContent(b.get(0));e.setPosition(a.coords)};this.setData=function(a,d,j){b[0].className="MiniTooltip";b.addClass("MiniTooltip-"+a);c.html("");j||(j="");Array.isArray(j)?j.forEach(function(a){c.append(a)}):c.append(j);e.setPosition(d)};this.setPlusmapVersion=function(a){b.addClass("plusmap"+a)};this.bringToFront=function(){e.setZIndex(9)};this.sendToBack=
function(){e.setZIndex(8)};this.setZIndex=function(a){e.setZIndex(a)};this.getVisible=function(){return d};this.setOnClick=function(a){c.addClass("clickable");c.on("click",a)};this.setMap=function(b){e.setMap(b);a=(d=!!b)&&b}}function ua(a){function b(a){return jQuery('<span class="name"></span>').append(a)}var c=new Rb(a),d=new Rb(a);this.createPlace=function(a){var d=b(a.name);c.setData(ua.PLACE,a.coords,d)};this.createAoi=function(a){var d=b(a.name);c.setData(ua.PLACE,a.aoiCoords,d)};this.createAoiLine=
function(a){var d=b(a.name);c.setData(ua.AOILINE,a.aoiLineCoords,d)};this.createDot=function(a){var c=b(a.name);a.category&&c.append(jQuery('<span class="sub">'+a.category+"</span>"));d.setData(ua.DOT,a.coords,c)};this.createTheme=function(a){var d=b(a.name);c.setData(ua.THEME,a.coords,d)};this.createCctv=function(a){var d=b(a.name);c.setData(ua.CCTV,a.coords,d)};this.createBusStop=function(a){var d=b(a.name);a.codenames.forEach(function(a,b){0<b&&d.append('<span class="column">|</span>');jQuery('<span class="sub">'+
a.trim()+"</span>").appendTo(d)});c.setData(ua.BUSSTOP,a.coords,d)};this.createPOIBusStop=function(a){var d=b(a.name);a.codenames.forEach(function(a,b){0<b&&d.append('<span class="column">|</span>');jQuery('<span class="sub">'+a.trim()+"</span>").appendTo(d)});c.setData(ua.POIBUSSTOP,a.coords,d)};this.createRating=function(a){var d=b(a.name).addClass("name-rating"),e=jQuery('<span class="starbg"><span class="star"></span></span>');jQuery(e).find(".star").width(6.5*Math.floor(a.star));c.setData(ua.THEME,
a.coords,[d,e])};var e=[];this.createGas=function(b){var c=new Rb(a);e.push(c);var d=[];b.gas.providerId&&d.push(jQuery('<span class="icon"></span>').addClass("icon-"+b.gas.providerId));var l=[{name:"\ud718\ubc1c\uc720 ",price:b.gas.gasPrice},{name:"\uacbd\uc720 ",price:b.gas.dieselPrice},{name:"LPG ",price:b.gas.lpgPrice}],l=jQuery.grep(l,function(a){return a.price}),k=l.length-1;jQuery.each(l,function(a,b){var c=jQuery('<span class="gas"></span>'),e=jQuery('<span class="price"></span>');c.text(b.name).append(e);
e.text(String.formatNumber(b.price));a!=k&&c.append(jQuery('<span class="bar">|</span>'));d.push(c)});c.setData(ua.THEME,b.coords,d);c.show();b.outsrclinkId&&c.setOnClick(function(){A.open("http://place.map.daum.net/"+b.outsrclinkId,"_blank")});return c};this.clear=function(){e.forEach(function(a){a.hide()});e.length=0};this.open=function(){c.show();d.hide()};this.close=function(){c.hide();d.hide()};this.openDot=function(){d.show()};this.closeDot=function(){d.hide()}}function ib(a){if(!(this instanceof
arguments.callee))return new arguments.callee(a);var b=this.polygons=a.map(function(a){return ib.Polygon(a)});this.findAt=function(a,d){for(var e=-1,f=0,h;h=b[f];f++)if(h.isContain(a,d)){e=f;break}return e}}function oe(a){var a=a.getBridge(),b=null,c=null;this.getInfo=function(){return c||b};a.onChangedStreetInfo=function(a){var c=/^(\d+)-(\d+)-(\d+)\s+(\d+):(\d+):(\d+)$/.exec(a.date),c=c?new Date(Date.UTC(c[1],c[2]-1,c[3],c[4]-9,c[5],c[6])):null;b={past:!1,type:a.st_type?unescape(a.st_type):void 0,
id:a.st_no,name:a.st_name?unescape(a.st_name):void 0,address:a.addr?unescape(a.addr):void 0,date:c}};a.onChangedPastStreetInfo=function(a){switch(a.mode){case "CURRENT_TO_PAST":case "PAST_TO_PAST":var b=null;if(a.date){var f=/^(\d{4})-(\d\d)-(\d\d)/.exec(a.date);f&&(b=new Date(f[1],f[2]-1,f[3]))}c={past:!0,address:a.addr?unescape(a.addr):void 0,date:b};break;default:c=null}}}function pe(a,b,c){var d=a.getBridge(),e=!1,f=null;this.getInfo=function(){return f||b.getInfo()};this.isActive=function(){return e};
d.onEnterArea=function(a){e=!0;var b=a.stationName||a.name;b&&(b=unescape(b));f={type:a.type,id:a.id,name:b,point:new daum.maps.Point(a.sketchX,a.sketchY),imgsrc:a.sketchUrl};c("enterArea")};d.onExitArea=function(){e=!1;c("exitArea");f=null};d.onChangedStationMapPosition=function(a){daum.maps.RoadviewBridge.prototype.onChangedStationMapPosition.call(d);var b=a.stationName||a.name;b&&(b=unescape(b));f={type:a.type,id:a.id,name:b,point:new daum.maps.Point(a.sketchX,a.sketchY),imgsrc:a.sketchUrl};c("changedStation")}}
function me(a,b){for(var c=[],d=0;d<a.length;d+=300){var e=new daum.maps.CoordsBounds;a.slice(d,d+300+1).forEach(e.extend,e);c.push(e)}this.ignoreTest=function(a,c){if(!b)return!1;var d=a.getX(),e=a.getY(),k=4<<c;return b.some(function(a){return a instanceof Array?!a[0]?!1:3<c?Math.abs(d-a[0].getX())<2*k&&Math.abs(e-a[0].getY())<k:a.some(function(a){return Math.abs(d-a.getX())<k&&Math.abs(e-a.getY())<k}):Math.abs(d-a.getX())<k&&Math.abs(e-a.getY())<k})?!0:!1};this.test=function(b,d){var e=0;if(!c.some(function(a,
c){e=300*c;return a.contain(b)}))return!1;var l=b.getX(),k=b.getY(),n=a[e].getX(),g=a[e].getY();return a.slice(e+1,e+300+1).some(function(a){var b=a.getX(),a=a.getY();if(l>=Math.min(n,b)-d&&l<=Math.max(n,b)+d&&k>=Math.min(g,a)-d&&k<=Math.max(g,a)+d){var c=b-n,e=a-g,f=c*k-e*l+n*a-b*g;if(f*f/(c*c+e*e)<=d*d)return!0}n=b;g=a})}}function Ed(a,b,c,d){function e(a){a?(v.setZIndex(2),!p&&n.addClass("ThemeMapPlaceMarker-HOVER"),h.notify()):(!r&&v.setZIndex(o),!p&&n.removeClass("ThemeMapPlaceMarker-HOVER"),
j.notify())}function f(a){a?(v.setZIndex(2),!p&&n.addClass("ThemeMapPlaceMarker-ACTIVE")):(v.setZIndex(o),!p&&n.removeClass("ThemeMapPlaceMarker-ACTIVE"));r=!!a}var h=this.onOver=new m,j=this.onOut=new m,l=this.onClick=new m,k=this.onPositionChanged=new m,n=G("ThemeMapPlaceMarker"),g=n.$("count");99<a?g.addClass("font3"):9<a?g.addClass("font2"):g.addClass("font1");g.text(a);var o=d||0,p=!1,a="",d=0.5,g=1,s=42;switch(c){case "57":p=!0;a="forsythia";break;case "56":p=!0;a="rosebay";break;case "55":p=
!0,a="cherryblossom"}p&&(n.addClass("ThemeMapCustomMarker"),n.addClass(a),d=20/41,g=22/46,s=20);var v=new daum.maps.Billboard({position:b,clickable:!0,content:n.get(0),xAnchor:d,yAnchor:g,zIndex:o});v.setMap(null);var r=!1;n.hover(function(){e(true)},function(){e(false)});n.on("click",function(){f(true);l.notify()});this.setMap=function(a){v.setMap(a)};this.setHover=e;this.setActive=f;this.getActive=function(){return r};this.getPosition=function(){return v.getPosition()||b};this.setPosition=function(a){v.setPosition(a);
k.notify()};this.setClass=function(a,b){n.toggleClass(a,b)};this.getImage=function(){return{getOffset:function(){return{y:s}}}};this.getMarker=function(){return v}}function Fd(a,b,c){var d=this.onClose=new m,e=this.onExpand=new m,f=this.onClick=new m,h=this.onOver=new m,j=this.onOut=new m,l=G("TransitMediumTooltip");l.addClass("TransitMediumTooltip-"+b.toUpperCase());l.$("expand").click(function(){e.notify()});l.$("close").click(function(){d.notify()});var k=a.name;a.bus&&(k+="\uc815\ub958\uc7a5");
a.subway&&(k='<span class="sub_txt '+a.subwayCode+'">'+a.subwayLine+" </span>"+k);a.isInterPoint&&(k=c?a.end.text("name"):'<span class="sub_txt intercity">'+a.interTypeName+" </span>"+a.name);l.$("name").html(k);l.$("nameWrap").click(function(){f.notify()}).mouseenter(function(){h.notify()}).mouseleave(function(){j.notify()});c?l.$("actionName").text(" \ud558\ucc28"):l.$("actionName").text(" "+a.actionName);setTimeout(function(){142<l.$("name").width()&&l.addClass("MultiLine")},0);this.getPane=function(){return l};
this.doLayout=function(){l.css("left",-l.outerWidth()>>1);"up"==b&&l.css("bottom",16)};this.setHighlight=function(){}}function Rc(a,b,c){function d(d){n=new Fd(b,d,c);d=b.targetPath;k=new daum.maps.Billboard({zIndex:5,position:c?d[d.length-1]:d[0]||b.coords,content:n.getPane().get(0),xAnchor:0.5,clickable:!0});k.setMap(a);n.onOver.add(function(){o&&o.setHoverYes();k&&k.setZIndex(6);f.notify()});n.onOut.add(function(){o&&o.setHoverNo();k&&k.setZIndex(5);h.notify()});n.onClick.add(function(){o.setActive();
e.notify()});n.onClose.add(function(){j.notify();k.setMap(null)});n.onExpand.add(function(){k.setMap(null);e.notify()});n.doLayout()}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var e=this.onExpand=new m,f=this.onOver=new m,h=this.onOut=new m,j=this.onClose=new m,l=null,k=null,n=null,g=null,o=null;if(!c)if(b.publicWalkPath)l=new daum.maps.Polyline({strokeColor:"#54D7FD",strokeOpacity:0.9,strokeWeight:5,strokeStyle:"solid",path:b.publicWalkPath}),l.setMap(a);else if(b.publicCustomPath)l=
new daum.maps.Polyline({strokeColor:"#54D7FD",strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash",path:b.publicCustomPath}),l.setMap(a);else if(b.path||b.publicPath)l=new daum.maps.Polyline({strokeWeight:7,strokeColor:"#043760",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:"#3385ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b.path||b.publicPath,pathHint:b.pathHint}),l.setMap(a);b.isInterPoint?b.routeType!=C.DEPARTURE_ARRIVAL&&
b.vehicleType!=C.TRANSFER_PUBLICTRAFFIC&&(o=c?z.getTransitInterMarker(b.end.text("type"),b.targetPath[b.targetPath.length-1]):b.vehicleType==C.TRANSFER_CAR?z.getTransitInterMarker("TAXI",b.targetPath[0]||b.coords):b.vehicleType==C.TRANSFER_CUSTOM?z.getTransitInterMarker("CUSTOM",b.targetPath[0]||b.coords):b.vehicleType==C.TRANSFER_WALK?z.getTransitInterWalkMarker("WALK",b.targetPath[0]||b.coords):z.getTransitInterMarker(b.nodeType,b.targetPath[0]||b.coords),o.setMap(a),o.onClick.add(function(){o.setActive();
e.notify();switch(b.vehicleType){case C.EXPRESS_BUS:case C.INTERCITY_BUS:q.click("route","go_public_exbus_pointlayer");break;case C.TRAIN:q.click("route","go_public_train_pointlayer");break;case C.AIRPLANE:q.click("route","go_public_flight_pointlayer");break;case C.FERRY:q.click("route","go_public_ship_pointlayer");break;case C.TRANSFER_CAR:q.click("route","go_public_taxi_pointlayer")}})):b.action!=N.DEPARTURE&&b.action!=N.ARRIVAL&&(o=z.getTransitMarker(b.type,b.coords),o.setMap(a),o.onClick.add(function(){o.setActive();
e.notify();q.click("route",b.bus?"go_public_bus_pointlayer":"go_public_subway_pointlayer")}));b.action==N.TRANSFER&&b.walkingPolyline&&(g=new daum.maps.Polyline({strokeColor:"#54D7FD",strokeOpacity:0.9,strokeWeight:5,path:b.walkingPolyline}),g.setMap(a));this.showMediumTooltip=function(){k&&k.setMap(a)};this.hideMediumTooltip=function(){k&&k.setMap(null)};this.show=function(){l&&l.setMap(a);k&&k.setMap(a);o&&o.setMap(a)};this.hide=function(){l&&l.setMap(null);k&&k.setMap(null);o&&o.setMap(null);g&&
g.setMap(null)};this.getMarker=function(){return o};this.showTooltip=function(a){d(a)};this.setHighlight=function(a,b){n&&n.setHighlight(b);o&&(b?o.setHoverYes():o.setHoverNo())};this.setActive=function(a,b){o&&o.setActive(b)};this.setInterMarker=function(b){b?o.setMap(a):o.setMap(null)}}function Gd(a,b){function c(a,c,d){var e=null;if(a.walkPath)return e=Hd(b,a),e.setWalkLine(a.walkPath),a.walk&&0!=a.walkGroup.points.length&&e.setWalkDetailLine(a.walkGroup.points),e.onClick.add(function(a){n.notify({index:c,
sub:a})}),e.labelOver.add(function(a){h.notify({index:c,sub:a})}),e.labelOut.add(function(a){j.notify({index:c,sub:a})}),e.indexObj=c,d?p.push(e):g.push(e),e;e=new Rc(b,a);e.onExpand.add(function(){l.notify(c)});e.onOver.add(function(){h.notify({index:c,sub:null})});e.onOut.add(function(){j.notify({index:c,sub:null})});e.onClose.add(function(){k.notify({index:c,sub:null})});e.indexObj=c;d?p.push(e):(a.isInterPoint?(a.routeType==C.INTERCITY&&(e.showTooltip(v?"up":"down"),v=!v),p.push(e)):a.action==
N.GETON||a.action==N.TRANSFER?(e.showTooltip(v?"up":"down"),v=!v):a.lastGetOFf&&e.showTooltip("up"),g.push(e));return e}function d(a,c){var d=new Rc(b,a,!0);d.onExpand.add(function(){l.notify(c)});d.onOver.add(function(){h.notify({index:c,sub:null})});d.onOut.add(function(){j.notify({index:c,sub:null})});d.onClose.add(function(){k.notify({index:c,sub:null})});d.indexObj=c;a.isLastIntercity&&(d.showTooltip(v?"up":"down"),v=!v);p.push(d)}function e(a,c){var d=null,e=null,d=(d=a.targetPath)&&0<d.length?
d[d.length-1]:a.coords,e=c.targetPath;"TRANSFER"==c.action&&c.walkingPolyline&&(e=c.walkingPolyline);if((e=e?e[0]:c.coords)&&d&&(d.getX()!=e.getX()||d.getY()!=e.getY()))d=new daum.maps.Polyline({strokeColor:"#54D7FD",strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash",path:[d,e]}),d.setMap(b),u.push(d)}function f(){var c=4>b.getLevel();a.forEach(function(a){a.childOverlays&&a.childOverlays.forEach(function(a,b){c?a.setInterMarker(!0):a.setInterMarker(0==b)})})}if(!(this instanceof arguments.callee))return new arguments.callee(a,
b);var h=this.onOver=new m,j=this.onOut=new m,l=this.onExpand=new m,k=this.onClose=new m,n=this.onWalkMarkerClick=new m,g=[],o=[],p=[],s=0,v=!1,r=!1,u=[];a.forEach(function(h,j){if(h.isInterPoint){r||(r=!0,daum.maps.event.addListener(b,"zoom_changed",f));var k=a[j+1];if(h.publicSteps){var l=!0;h.childOverlays=[];h.publicSteps.forEach(function(a,b){var d=c(a,{index:j,interRealIdx:s,stepIdx:b},true);h.childOverlays.push(d);if(l){g.push(d);l=false}s++;(d=h.publicSteps[b+1])&&((a.targetPath||a.action==
"GETOFF")&&d.targetPath)&&e(a,d)});f(h)}else c(h,{index:j,interRealIdx:s,stepIdx:0}),h.routeType==C.INTERCITY&&k.routeType!=C.INTERCITY&&(s++,d(h,{index:j,interRealIdx:s,stepIdx:1})),s++;k&&(h.routeType!=C.DEPARTURE_ARRIVAL&&k.routeType!=C.DEPARTURE_ARRIVAL)&&e(h,k)}else c(h,j),(k=a[j+1])&&((h.targetPath||"GETOFF"==h.action)&&k.targetPath)&&e(h,k)});this.setWalkDetailMarker=function(a,b){g[a].setWalkDetailLine(b)};this.clear=function(){g.forEach(function(a){a.hide()});g.length=0;p.forEach(function(a){a.hide()});
p.length=0;for(o.forEach(function(a){a.hide()});u.length;)u.pop().setMap(null);r&&(r=!1,daum.maps.event.removeListener(b,"zoom_changed",f));v=!1};this.showTransitMediumTooltip=function(a){var b="",b="object"==typeof a?p[a.interRealIdx]:g[a];0!=g.length&&b.showMediumTooltip&&b.showMediumTooltip()};this.hideTransitMediumTooltip=function(a){var b="",b="object"==typeof a?p[a.interRealIdx]:g[a];b.hideMediumTooltip&&b.hideMediumTooltip()};this.setBound=function(a){b.setBounds(a)};this.getInterNextIndex=
function(a){return(a=p[a.interRealIdx+1])?a.indexObj:null};this.getInterPrevIndex=function(a){return(a=p[a.interRealIdx-1])?a.indexObj:null};this.getInterNowIndex=function(a){return p[g[a.index].indexObj.interRealIdx+a.childIdx].indexObj};this.setHighlightOverlay=function(a,b){var c="",c="object"==typeof a.index?p[a.index.interRealIdx]:g[a.index];c.setHighlight&&c.setHighlight(a,b)};this.setActiveOverlay=function(a,b){var c="",c="object"==typeof a.index?p[a.index.interRealIdx]:g[a.index];c.setActive(a.sub,
b)};this.setClickable=function(a){g.forEach(function(b){b instanceof Hd?b.setClickable(a):!1===a&&b instanceof Rc&&b.hideMediumTooltip()})}}function Hd(a,b){function c(){h&&(4>a.getLevel()?0!=n.length?(n.forEach(function(a){a.show()}),f=!0):f=!1:(e&&e.setMap(a),n.forEach(function(a){a.hide()}),f=!1))}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var d=this.onClick=new m,e=null,f=!1,h=!1,j=b.walkingGuide,l=this.labelOver=new m,k=this.labelOut=new m,n=[],g=null;daum.maps.event.addListener(a,
"zoom_changed",c);var o=z.getTransitWalkMarkerImage(),p=z.getTransitWalkHoverMarkerImage(),g=z.transitWalkMarker(b.walkPath[0]),s=!1;daum.maps.event.addListener(g,"click",function(){d.notify(null);q.click("route","go_public_walk_pointlayer")},this);daum.maps.event.addListener(g,"mouseover",function(){s||l.notify(null)},this);daum.maps.event.addListener(g,"mouseout",function(){s||k.notify(null)},this);g.setMap(a);this.setWalkLine=function(b){e=new daum.maps.Polyline({zIndex:-1,strokeColor:"#54D7FD",
strokeOpacity:0.9,strokeWeight:5,strokeStyle:j?"solid":"shortdash",path:b});e.setMap(a);f=!1;h=!0};this.setWalkDetailLine=function(b){0!=n.length||0==b.length||(b.forEach(function(b,c){var e=Cc(a,b);e.onClick.add(function(){d.notify(c)});e.onMouseover.add(function(){l.notify(c)},this);e.onMouseout.add(function(){k.notify(c)},this);n.push(e)}),h=f=!0)};this.show=function(){g.setMap(a);f?(n.forEach(function(a){a.show()}),e.setMap(null)):(e.setMap(a),n.forEach(function(a){a.hide()}));h=!0};this.hide=
function(){g&&(g.setMap(null),g=null);e&&e.setMap(null);n.forEach(function(a){a.hide()});n.length=0;h=!1;daum.maps.event.removeListener(a,"zoom_changed",c)};this.setInterMarker=function(b){g&&(b?g.setMap(a):g.setMap(null))};this.setHighlight=function(a,b){null==a.sub?b?g.setImage(p):g.setImage(o):n[a.sub].setHighlight(b)};this.setActive=function(a,b){null==a&&((s=b)?g.setImage(p):g.setImage(o));null!=a&&0!=n.length&&n[a].setActive(b)};this.setClickable=function(a){a?g.setClickable(!0):g.setClickable(!1)}}
function qc(a,b){function c(){var b=4>a.getLevel();r.setMap(b?null:a);b||v.setStyle("");e(!1);n.forEach(function(a){a.setMarkerVisible(b)});k=b;w=!1;-1<u&&(b?f(!0,u):d(!0))}function d(a){v.setStyle(a?"walkMarkerOn":"walkMarker");n.forEach(function(b){b.setActive(a)});w=a}function e(a){w||(v.setStyle(a?"walkMarkerOn":"walkMarker"),r.setZIndex(a?3:2),n.forEach(function(b){b.setHighlight(a)}))}function f(a,b){u=a&&null!=b?b:-1;n.forEach(function(c,d){d==b?c.setActive(a):c.setActive(!1)})}if(!(this instanceof
arguments.callee))return new arguments.callee(a,b);var h=this.onClick=new m,j=this.onMouseover=new m,l=this.onMouseout=new m,k=!1,n=b.points.map(function(b,c){var d=Cc(a,b);d.onClick.add(function(){u=c;h.notify(c)});d.onMouseover.add(function(){j.notify(c)});d.onMouseout.add(function(){l.notify(c)});return d}),g=b.points[0].seq,o=b.points[b.points.length-1].seq,p=b.points[0].coords,s=jQuery("<div class=WalkPointGroupMarker />"),v=rc(s,"walkMarker",g,o);s.css("left",-(8+7*(""+g).length));s.click(function(){d(!1);
e(!1);h.notify(null)});s.mouseenter(function(){j.notify(null);e(!0)});s.mouseleave(function(){l.notify(null);e(!1)});var r=z.walkpointGroupMarker(p,s.get(0)),u=-1;daum.maps.event.addListener(a,"zoom_changed",c);c();var w=!1;this.setActive=d;this.setHighlight=e;this.setItemActive=f;this.setItemHighlight=function(a,b){k?n.forEach(function(c,d){d==b?c.setHighlight(a):c.setHighlight(!1)}):e(a)};this.show=function(){r.setMap(a);n.forEach(function(a){a.show()});daum.maps.event.addListener(a,"zoom_changed",
c);c()};this.hide=function(){r.setMap(null);n.forEach(function(a){a.hide()});daum.maps.event.removeListener(a,"zoom_changed",c)};this.destroy=function(){daum.maps.event.removeListener(a,"zoom_changed",c);n.forEach(function(a){a.destroy()});r.setMap(null);n.length=0;s.remove();v.dispose()}}function Cc(a,b){function c(a){l||(g.setImage(a?n:k),g.setZIndex(a?3:2))}function d(a){l=a?!0:!1;g.setImage(a?n:k);g.setZIndex(a?3:2)}function e(){g.setMap(null)}if(!(this instanceof arguments.callee))return new arguments.callee(a,
b);var f=this.onClick=new m,h=this.onMouseover=new m,j=this.onMouseout=new m,l=!1,k=z.getWalkNumberImage(b.seq),n=z.getOverWalkNumberImage(b.seq),g=z.walkpointMarker(b.coords,k);daum.maps.event.addListener(g,"click",function(){d(!0);f.notify()});daum.maps.event.addListener(g,"mouseover",function(){l||c(!0);h.notify()});daum.maps.event.addListener(g,"mouseout",function(){l||c(!1);j.notify()});g.setZIndex(2);g.setMap(a);this.setClickable=function(a){a?g.setClickable(!0):g.setClickable(!1)};this.setActive=
d;this.setHighlight=c;this.show=function(){g.setMap(a)};this.hide=e;this.setMarkerVisible=function(b){g.setMap(b?a:null)};this.destroy=e}function qe(a){function b(){d.forEach(function(a){a&&a.destroy()});d.length=0;k&&k.setMap(null);n&&n.setMap(null);g&&g.setMap(null);g=n=k=null}function c(){d.forEach(function(a){a&&a.setActive&&a.setActive(!1);a instanceof qc&&a.setItemActive(!1)})}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=[],e=this.onClick=new m,f=this.onClickWithZoomIn=
new m,h=this.onMouseover=new m,j=this.onMouseout=new m,l={zIndex:-2,strokeColor:"#3386ff",strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash"},k=null,n=null,g=null;this.setClickable=function(a){d.forEach(function(b){b instanceof Cc&&b.setClickable(a)})};this.setActive=function(b){b?(d.forEach(function(a){a&&a.show()}),k&&k.setMap(a),n&&n.setMap(a),g&&g.setMap(a)):(d.forEach(function(a){a&&a.hide()}),k&&k.setMap(null),n&&n.setMap(null),g&&g.setMap(null))};this.setData=function(o){b();if(o){o.points.forEach(function(b,
r){if("start"==b.seq||"goal"==b.seq||"through"==b.seq)d.push(null);else{var k;k=b instanceof Sb?qc(a,b):Cc(a,b);k.onClick.add(function(a){c();null!=a?(k.setItemActive(!0,a),e.notify({index:r,sub:a})):k instanceof qc?(k.setItemActive(!0,0),f.notify({index:r})):(k.setActive(!0),e.notify({index:r}))});k.onMouseover.add(function(a){h.notify({index:r,sub:a})});k.onMouseout.add(function(a){j.notify({index:r,sub:a})});d.push(k)}});var p=[];o.sectionPoints.forEach(function(a){p=p.concat(a)});g=new daum.maps.Polyline({strokeWeight:7,
strokeColor:"#043760",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:"#3385ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:p});g.setMap(a);var s=Application.flagSearchController.getWaypoints(),o=s[0].coords,s=s[s.length-1].coords,v=p[0],r=p[p.length-1];k=new daum.maps.Polyline(l);k.setPath([o,v]);n=new daum.maps.Polyline(l);n.setPath([r,s]);k.setMap(a);n.setMap(a)}};this.setItemActive=function(a,b){c();d[a.index]&&(d[a.index]instanceof
qc?d[a.index].setItemActive(b,a.sub):d[a.index]&&d[a.index].setActive&&d[a.index].setActive(b))};this.setHighlight=function(a,b){var c=d[a.index];c&&(c instanceof qc?null==a.sub?c.setHighlight(b):c.setItemHighlight(b,a.sub):c&&c.setHighlight&&c.setHighlight(b))};this.clear=b}function pb(a){if(a){var b=a.text("type");this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.icon=pb.ICON_MAP[b]||pb.ICON_MAP["0"];var c=a.text("linkName");this.title=(c?c+" - ":"")+(pb.SUBTITLE_MAP[b]||"\uc548\ub0b4");
this.desc=a.text("description");this.startTime=a.text("startTime");this.endTime=a.text("endTime");this.source=a.text("source")||a.text("sourceType")||"";this.id=a.text("id")}}function Ca(a){var b;if(a){this.docid=a.text("docid")||a.text("new.docid")||a.text("old.docid");this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.name=(this.name=String.stripTags(a.text("name")||a.text("addr")||a.text("new.name")||a.text("old.name")))||"\ud574\ub2f9 \uc9c0\uc5ed\uc740 \uc8fc\uc18c\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4";
this.isAlive=a.text("is_alive");this.lineData=a.text("line_data");this.dataType=a.text("data_type");this.bcode=a.text("d_bcode")||a.text("bcode");this.hcode=a.text("d_hcode");this.bhtype=a.text("d_bhtype");if(("BH"==this.bhtype||"HB"==this.bhtype)&&a.text("alt_bhtype"))this.bhtype=a.text("alt_bhtype");this.d3HName="Y"==a.text("d3_hname_change_bname")?a.text("d3_hname"):"";this.relatedPrefixAddress=a.text("related_prefix_address");this.code=this.regionId=a.text("code")||a.text("regionId");this.id=
"id_"+this.coords.getX()+this.coords.getY()+this.regionId;this.maybeAreaSearch="1"==this.dataType||"2"==this.dataType;this.subList=[];if(b=a.text("related_address"))this.subList=Application.relatedAddressController.newList(b,this),this.otherName=this.subList[0]?this.subList[0].prefix+" "+this.subList[0].address:"";this.infowindowSubAddress=this.subList[0];if(b=a.text("zipcode"))this.zipcode=b.replace(/(...)(...)/,"$1-$2");b=a.text("related_address_diff_zipcode");this.relatedZipcode=[];b&&b.split(";").forEach(function(a){this.relatedZipcode.push(a.split("^")[0].replace(/(...)(...)/,
"$1-$2"))},this);this.zonenum=a.text("zone_no")||a.text("new_zipcode");b=a.text("related_address_diff_zone_no");this.relatedZonenum=[];b&&b.split(";").forEach(function(a){this.relatedZonenum.push(a.split("^")[0])},this);if(1==this.dataType||2==this.dataType)if((b=a.text("related_address_building_name"))&&b.trim()){if(this.subBuildingList=b.split(";"),this.subList.length!=this.subBuildingList.length&&(this.subBuildingList=[a.text("building_name")].concat(this.subBuildingList)),this.infowindowSubBuilding=
this.subBuildingList[0],1==this.subList.length&&1==this.subBuildingList.length)this.buildingName=this.subBuildingList[0]||a.text("building_name")}else 0==this.subList.length&&(this.buildingName=a.text("building_name")||a.text("new.building")||"");else this.buildingName=a.text("building_name")||""}}function qb(a,b){var c,d;this.path=[];this.bounds=new daum.maps.CoordsBounds;this.id="";this.markerCoords;if(this.isJibun=b){c=String.stripTags(a.text("name"));d=String.stripTags(a.text("new.name"));var e=
String.stripTags(a.text("old.name"));this.name=c||d||e;if(c=a.object("shape")){d="MultiPolygon"==c.text("type");c=c.find("coordinates");for(e=c.length;e--;)if(c[e]=c[e].find("value"),d)for(var f=c[e].length;f--;){c[e][f]=c[e][f].find("value");for(var h=c[e][f].length;h--;)c[e][f][h]=c[e][f][h].find("value"),c[e][f][h]=new daum.maps.Coords(c[e][f][h][0].number("value"),c[e][f][h][1].number("value")),this.bounds.extend(c[e][f][h]);this.path.push(c[e][f])}else{for(f=c[e].length;f--;)c[e][f]=c[e][f].find("value"),
c[e][f]=new daum.maps.Coords(c[e][f][0].number("value"),c[e][f][1].number("value")),this.bounds.extend(c[e][f]);this.path.push(c[e])}}}else{a=a.find("value");for(e=a.length;e--;){c=a[e].find("interior");for(f=c.length;f--;){c[f]=c[f].find("value");for(h=c[f].length;h--;)d=c[f][h],c[f][h]=new daum.maps.Coords(d.number("x"),d.number("y"));this.path.push(c[f])}c=a[e].find("exterior");for(f=c.length;f--;)d=c[f],c[f]=new daum.maps.Coords(d.number("x"),d.number("y")),this.bounds.extend(c[f]);this.path.push(c)}}}
function sc(){this.stateArray=[];this.stateOnly=!1;this.direction2=this.direction=null}function Dc(a){this.firstLastTime=[];this.interval=[];this.turningPointId=this.turningPoint=this.startPointId=this.startPoint="";this.variable=!1;if(a&&(this.firstLastTime=a.find("firstLastTimes").map(function(a){return{startPointTime:a.text("startPointFirstTime")+"~"+a.text("startPointLastTime"),turningPointTime:a.text("turningPointFirstTime")+"~"+a.text("turningPointLastTime"),day:Dc.dayTypes[a.text("dayType")]}}),
this.interval=a.find("intervals").map(function(a){var c="";if(a.text("peakInterval")&&a.text("nonPeakInterval"))c=a.text("peakInterval")==a.text("nonPeakInterval")?a.text("nonPeakInterval")+"\ubd84":a.text("peakInterval")+"~"+a.text("nonPeakInterval")+"\ubd84";else if(a.text("peakInterval")||a.text("nonPeakInterval"))c=(a.text("peakInterval")||a.text("nonPeakInterval"))+"\ubd84";return{peek:c,day:Dc.dayTypes[a.text("dayType")]}}),this.startPoint=a.text("startPoint"),this.turningPoint=a.text("turningPoint"),
this.startPointId=a.text("startPointBusLine"),this.turningPointId=a.text("turningPointBusLine"),0<this.firstLastTime.length||0<this.interval.length))this.variable=!0}function X(a,b){this.busStops=[];this.vehicles=null;if(a){this.rawData=a;this.id=a.text("id")||a.text("DOCID");var c=a.text("name")||a.text("BUS_NAME"),c=c.trim(),c=/^(.+?)(\(.+\))?$/.exec(c);this.name=c[0]||"";this.firstName=c[1]||"";this.secondName=c[2]||"";this.type=X.TYPE[a.text("type")||a.text("BUS_TYPE_ID")];console.assert(this.type);
this.region=a.text("hname")||a.text("hcodeName")||a.text("RGN_D1_NAME");this.subRegion=a.text("RGN_D2_NAME")||"";this.scode=a.text("hcode")||a.text("BUS_HCODE");this.hcode=(a.text("hcode")||a.text("BUS_HCODE")).substring(0,2);this.start=a.text("startPoint")||a.text("START_POINT");this.end=a.text("endPoint")||a.text("END_POINT");this.startTime=a.text("first")||a.text("BUS_FIRST_TIME")||"-";"null"==this.startTime&&(this.startTime="-");this.endTime=a.text("last")||a.text("BUS_LAST_TIME")||"-";"null"==
this.endTime&&(this.endTime="-");this.interval=a.text("interval")||a.text("BUS_INTERVAL_TIME")||"-";"null"==this.interval&&(this.interval="-");this.providerId=a.number("itsCode");this.realTime=a.text("realTime");this.realtimeState=a.text("realtimeState");a.text("v_landmark")&&(this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}}));this.realtimeMessage=a.text("realtimeMessage");a.text("path")&&this.addPath(a.text("path"));
a.find("busStops")&&this.addBusStop(a.find("busStops"));a.has("busLocations")&&(this.vehicles=this.loadVehicles_(a.find("busLocations")));a.has("busDetailInfo")&&(this.busDetailInfo=this.loadBusDetailInfo_(a.object("busDetailInfo")));this.direction=a.text("arrival.direction");this.arrival=sc.createFromData(a);this.order=a.number("arrival.order");this.codenames=b;this.busStopId=a.text("arrival.busStopId")}}function Tb(){this.status="NORMAL";this.number="";this.position=0;this.last=this.first=!1;this.type=
null}function Y(a){a&&this.load_(a)}function Id(){if(!(this instanceof arguments.callee))return new arguments.callee;this.id="";this.coords=null}function Da(){this.outlines=[];this.restAreas=this.gasStations=this.cctvs=this.accidents=null}function T(){this.carRoutes=[]}function ub(a){a&&(this.id=a.text("key"),this.source=a.text("source"),this.flag=a.number("flag"),this.coords=new daum.maps.Coords(a.number("x"),a.number("y")),this.roadname=a.text("roadname"),this.name=a.text("name"),this.isLive=void 0!=
a.raw().liveid)}function M(){this.seq=0;this.expressType=null;this.info=this.name="";this.distance=0;this.rotation=M.STRAIGHT;this.traffic=null;this.coords="";this.points=[];this.roadview=null;this.confirmid=0;this.accList=[]}function dc(){this.item=[]}function Sc(){this.number=this.name="";this.confirmid=null}function B(a){a&&(this.type=a.text("type").toLowerCase(),this.key=a.text("key"),this.seq=a.text("seq"),this.display1=a.text("display1"),this.display2=a.text("display2"),this.isHome=a.text("home"),
this.updated_at=(new Date(a.text("updated_at"))).getTime()||"",this.x=a.number("x"),this.y=a.number("y"),this.pan=a.text("pan"),this.tilt=a.text("tilt"),this.zoom=a.text("zoom"),this.spot_id=a.text("spot_id"),this.its_id=a.text("its_id"),this.busline_type=a.text("busline_type"),this.route_form=a.text("route_form"),this.buslines=a.text("buslines"))}function Oa(){this.activeIndex=null;this.waypoints=[]}function Bc(){this.data_={};this.listeners_=[]}function db(a){this.onLoad=new m;a&&(this.providerId=
a.text("brand"),this.provider=a.text("brandName"),this.gasPrice=a.number("oil1"),this.premiumGasPrice=a.number("oil2"),this.dieselPrice=a.number("oil3"),this.lpgPrice=a.number("oil4"),this.timestampText=a.text("oilTime"))}function Tc(a){a&&(this.region=a.text("region"),this.keyword=a.text("keyword"),this.cidx=a.text("cidx")||"0",this.type=a.text("type"),this.bunji=a.text("bunji"))}function ec(a,b,c){Q(this,ja);this.level=a;this.index=b;this.loadAt_(c)}function Uc(a,b){Q(this,ja);this.index=a;this.loadAt_(b)}
function x(){this.themeCategory_=this.themeId_=0;this.mode_=null;this.keyword_="";this.page_=1;this.sort_=0;this.bounds_=null;this.willSearchBusStop_=!1;this.exactSearch_=!0;this.whatsHere_=!1;this.categoryDepth_=this.category_=0;this.correction_=!0;this.defaultPage_=1;this.cidx_=null;this.onChange=new m;this.onIssue=new m;this.loaded=!1;this.page=1;this.guideMessage=[];this.premiumKeyword=this.message="";this.snSelected=!1;this.themeId=0;this.themeCategories=[];this.categories=[];this.categoryPath=
[];this.categoryChildren=[];this.locationMessage="";this.places=[];this.placeAdCount=this.placeCount=0;this.reviews=[];this.reviewCount=0;this.originalKeyword=void 0;this.spellCandidate=[];this.homonyms=[];this.addresses=[];this.addressCount=0;this.highlightedFirst=!1;this.buses=[];this.busesCount=0;this.busStops=[];this.busStopCount=0;this.busRegions=[];this.busTypes=[];this.busTypeId_=this.busRegionId_=null;this.landmarks=[];this.sort=0;this.coordinates=null;this.coordinatesText="";this.inferredKeyword=
void 0;this.gasType=this.sortType=this.eucKrKeyword="";this.pageCount=0;this.tileSearch=!1;this.params_=null;this.isParams_=!1;this.trans_map_type=0;this.nextGuide=this.currentGuide=this.exposure_level=this.target=null;this.qaType_="";this.repeated_=!1;this.busRecommend="";this.busRecommendTop=!1;this.relkey="";this.isBuilding=this.isHighway=this.addressRetry=!1;this.dssSrcId=this.analysis=""}function rb(a){if(a){var b=a.object("codes");b&&(this.hcode=rb.code_(b.object("hcode")),this.bcode=rb.code_(b.object("bcode")));
if(a=a.object("weatherInfos"))if(a=a.object("forecast"))this.weather={icon:a.text("iconId")||"1",temp:a.text("temperature"),desc:a.text("desc")}}}function Ub(){}function ja(){}function vb(){this.ad=!1;this.benefit=this.card=""}function fc(){}function tc(a){this.biztypename=a.text("place.placeaddinfos.nice.biztypename")||"-";this.companytype=a.text("place.placeaddinfos.nice.companytype")||"-";this.chief=a.text("place.placeaddinfos.nice.chief")||"-";this.url=a.text("place.placeaddinfos.nice.url");this.dataList=
[];this.setDataElement("\uc5c5\uc885",this.biztypename);this.setDataElement("\uae30\uc5c5\uacf5\uac1c",this.companytype);this.setDataElement("\ub300\ud45c\uc790",this.chief)}function Ec(a){this.category=a.text("place.placeaddinfos.hira.cpcatename")||"-";this.medicalStr="-";var b=a.text("place.placeaddinfos.hira.subjectname");if(b){var c=a.text("place.placeaddinfos.hira.subjectcnt"),d=a.text("place.placeaddinfos.hira.doctorcnt");this.medicalStr=b;0!=c&&(this.medicalStr+=" \uc678 "+c+"\uac1c");0!=d&&
(this.medicalStr+="(\uc758\uc0ac "+d+"\uba85)")}this.spcStr="-";if(b=a.text("place.placeaddinfos.hira.spcname"))c=a.text("place.placeaddinfos.hira.spccnt"),this.spcStr=b,0!=c&&(this.spcStr+=" \uc678 "+c+"\uac1c");this.url=a.text("place.placeaddinfos.hira.url");this.dataList=[];this.setDataElement("\ubcd1\uc6d0\uad6c\ubd84",this.category);this.setDataElement("\uc9c4\ub8cc\uacfc\ubaa9",this.medicalStr);this.setDataElement("\ud2b9\uc815\ubd84\uc57c",this.spcStr)}function Vc(a){this.goodstype=a.text("place.placeaddinfos.interparktour.goodstype");
this.titleName="A5001"==this.goodstype?"\ub9ac\uc870\ud2b8\uc815\ubcf4":"A5002"==this.goodstype?"\ud39c\uc158\uc815\ubcf4":"\ud638\ud154\uc815\ubcf4";this.hotelratename=a.text("place.placeaddinfos.interparktour.hotelratename")||"-";this.totalroomcount=a.text("place.placeaddinfos.interparktour.totalroomcount");this.checkintime=a.text("place.placeaddinfos.interparktour.checkintime");this.checkouttime=a.text("place.placeaddinfos.interparktour.checkouttime");this.amendities=a.text("place.placeaddinfos.interparktour.amendities")||
"-";this.totalroomcountStr=this.totalroomcount?this.totalroomcount+" \uac1d\uc2e4":"-";this.timeinfoStr="";this.checkintime&&(this.timeinfoStr="\uccb4\ud06c\uc778 "+this.checkintime);this.checkouttime&&(this.timeinfoStr&&(this.timeinfoStr+=" / "),this.timeinfoStr+="\uccb4\ud06c\uc544\uc6c3 "+this.checkouttime);this.timeinfoStr||(this.timeinfoStr="-");this.dataList=[];"\ud638\ud154\uc815\ubcf4"==this.titleName&&this.setDataElement("\ub4f1\uae09",this.hotelratename);this.setDataElement("\ucd1d\uac1d\uc2e4\uc218",
this.totalroomcountStr);this.setDataElement("\uc774\uc6a9\uc2dc\uac04",this.timeinfoStr);"\ud39c\uc158\uc815\ubcf4"==this.titleName&&this.setDataElement("\ubd80\ub300\uc2dc\uc124",this.amendities)}function Na(){}function Ma(a){a&&this.loadText_(a)}function uc(){this.onLoad=new m}function wb(){this.thumbnailUrl=this.placeid=this.id=this.category=this.name="";this.coords=null;this.level=0}function vc(a){this.totalTime=a.number("totalTime")||0;this.totalTimeHours=a.number("totalTimeHours")||0;this.totalTimeMinutes=
a.number("totalTimeMinutes")||0;this.cardFare=a.number("cardFare")||0;this.cashFare=a.number("cashFare")||0;this.transferCount=a.number("transferCount")||0;this.stationCount=a.number("stationCount")||0;this.isFastest="true"==a.text("isFastest")?!0:!1;this.isMinTransfer="true"==a.text("isMinTransfer")?!0:!1;this.fastestArrival="true"==a.text("fastestArrival")?!0:!1;this.optimisticDeparture="true"==a.text("optimisticDeparture")?!0:!1;this.sectionRoutes=[];a.find("sectionRoutings").forEach(function(a){a=
new vc.SectionRoute(a);if("TRANSFER"==a.type){var c=this.sectionRoutes[this.sectionRoutes.length-1];a.id=c.id;var d=c.nodes;a.time=d[d.length-1].arrTime;a.noTimeText="--"==c.time?"":c.noTimeText}this.sectionRoutes.push(a)},this);this.sectionCount=this.sectionRoutes.length||0;this.firstNode=jQuery.extend(!0,{},this.sectionRoutes[0].nodes[0]);if(a=this.sectionRoutes[this.sectionCount-1])this.lastNode=jQuery.extend(!0,{},a.nodes[a.nodes.length-1])}function Wc(a){this.params=a||null;this.endStationName=
this.endStationId=this.startStationName=this.startStationId="";this.firstTrain=!1;this.routes=[];this.load=function(a){return"SUCCESS"==a.text("routingStatus")?(this.raw=a.raw(),this.startStationId=a.text("fromStationId"),this.startStationName=a.text("fromStationName"),this.endStationId=a.text("toStationId"),this.endStationName=a.text("toStationName"),this.firstTrain="true"==a.text("firstTrain")?!0:!1,a.find("routes").forEach(function(a){a=new vc(a);if("TimeBase"==this.params.routingType){var b=this.params.time.split(":");
b.pop();a.firstNode.time=b.join(":")}else"ArrTimeBase"==this.params.routingType&&(b=this.params.time.split(":"),b.pop(),a.lastNode.arrTime=b.join(":"),a.lastNode.time=b.join(":"));this.routes.push(a)},this),this):null}}function Ea(a){a&&(this.id=a.text("id")||a.text("key"),this.coords=new daum.maps.Coords(a.number("x"),a.number("y")),this.name=a.text("name")||a.text("display1"));this.transfers=[];this.facilities=[];this.buses=[]}function gc(a){a&&(this.id=a.number("id"),this.name=a.text("name")||
a.text("g_name"),this.count=a.number("count"))}function Xc(){}function C(){this.action=0;this.desc=this.name="";this.vehicleType=this.coords=null}function Vb(a){if(a){this.raw_=a;this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("boundary.minX"),a.number("boundary.minY")),new daum.maps.Coords(a.number("boundary.maxX"),a.number("boundary.maxY")));this.type=a.text("vehicle");this.type2=a.text("vehicles");this.subType=this.getSubTypeCode(this.type2);this.fare=a.text("fare.text");this.transfers=
a.number("transfers");this.transferOneType=!1;if(0<this.transfers&&0>this.type.indexOf(",")&&("TRAIN"!=this.type||"COMPLEX"!=this.type2))this.transferOneType=!0;this.recommend=a.bool("recommend");this.points=[];this.summaries=[];this.points.push(C.createFromData({pointType:"START",routeType:C.DEPARTURE_ARRIVAL,data:a.object("start")}));var b=null,c=null;a.find("sectionRoutes").map(function(a){var e=C.INTERCITY;0<=a.text("vehicle.type").indexOf("TRANSFER_")&&(e=C.PUBLICTRAFFIC);var f=C.createFromData({pointType:"NODE",
routeType:e,data:a});this.points.push(f);if(e==C.INTERCITY&&(c=f,e=this.getSummaryNode(a.object("departure")),e.index=this.summaries.length,e.isTransfer=0<this.transfers&&!this.transferOneType?!0:!1,e.isTransfer&&(f=a.object("vehicle").text("type"),"TRAIN"==f?e.subType=this.getSubTypeCode(a.object("vehicle").text("subType")):0<=f.indexOf("BUS")&&(e.subType=f.toLowerCase())),this.summaries.push(e),b=this.getSummaryNode(a.object("arrival")),b.index=this.summaries.length,b.action=N.GETOFF_TRANSFER,a.text("vehicle.type")==
C.AIRPLANE))this.summaries.push(b),b.inputComplete=!0},this);c.isLastIntercity=!0;b.action=N.GETOFF;b.inputComplete||this.summaries.push(b);this.points.push(C.createFromData({pointType:"END",routeType:C.DEPARTURE_ARRIVAL,data:a.object("end")}));this.time=a.number("time.value");this.timeText=a.text("time.text");this.totalTime=a.number("totalTime.value");this.totalTimeText=a.text("totalTime.text");this.totalPaths=[]}}function N(){this.action=0;this.desc=this.name="";this.roadview=this.vehicleType=this.coords=
null}function Eb(a){a&&(this.raw_=a,this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("boundary.minX"),a.number("boundary.minY")),new daum.maps.Coords(a.number("boundary.maxX"),a.number("boundary.maxY"))),this.type=a.text("type"),this.distance=+a.text("distance.value"),this.fare=a.text("fare.text"),this.summaries=[],a.find("summaries").map(function(b,c){var d=this.getSummaryNode(b.object("startLocation"));d.vehicles=b.find("vehicles").map(function(a){var b="BUS"==a.text("type")?
X.TYPE[a.text("subType")]:N.subwayCode[a.text("id")][0];return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:b,id:a.text("id"),visible:"true"==a.text("visible")}});d.index=this.summaries.length;this.summaries.push(d);a.find("summaries").length-1==c&&(d=this.getSummaryNode(b.object("endLocation")),d.index=this.summaries.length,this.summaries.push(d))},this),this.transType=a.text("type"),this.time=a.number("time.value"),
this.walkingTime=a.number("walkingTime.value"),this.transfers=a.number("transfers"),this.points=a.find("steps").map(N.createFromData),this.points.forEach(function(a,c){a.type==N.OTHER&&(this.points[c-1].nextOther=!0)},this),this.steps=a.find("steps"),this.recommended="true"==a.text("recommended")?!0:!1,this.totalPaths=[],this.isLastGetOffItem())}function Db(){if(!(this instanceof arguments.callee))return new arguments.callee;this.seq=0;this.coords=null;this.poi=this.subway="";this.confirmid=0;this.cross=
"";this.getSummary=function(){return this.subway||this.cross||this.poi||""};this.getPlaceId=function(){return!this.subway?this.confirmid:""};this.rotationCode=this.action=this.desc="";this.roadview=null;this.path=[]}function Sb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.end=this.start=this.desc="";this.distance=this.time=0;this.points=[];this.walkGuide=!0}function ab(){if(!(this instanceof arguments.callee))return new arguments.callee;this.points=[];this.distance=this.time=
0;this.bounds=null;this.error=this.resultErrorCode="";this.option=this.mode=this.raw=null;this.routeMode="";this.stair=this.underground=this.bridge=this.calories=0;this.hasRoadviewInfo=!1}function xb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.walkRoutes=[];this.error=this.resultErrorCode="";this.raw=null}function Za(a,b,c,d,e){console.assert(a instanceof daum.maps.Coords);console.assert(void 0===b||"string"==typeof b);this.coords=a;this.name=b;this.id=c||"";this.index=
d;if(!e&&c)if("P"===c[0])e="PLACE";else if("B"===c[0])e="BUSSTOP";else if("S"===c[0]||"M"===c[0])e="SUBWAYSTATION";this.pointType=e||"NORMAL"}function wc(a){var b=a.number("x"),c=a.number("y"),d=String.stripTags(a.text("name")),e=String.stripTags(a.text("new.name")),f=String.stripTags(a.text("old.name"));this.name=e||d||f;e?(this.dataType=5,this.docid=a.text("new.docid")):d||f?(this.dataType=1,this.docid=a.text("old.docid")):this.dataType=1;this.coords=new daum.maps.Coords(b,c);this.regionId=this.code=
a.text("regionId");this.id="id_"+b+c+this.regionId}function Lb(a,b,c){Q(this,Pa);b=this.panel_=G("AddressFlagItemView",{name:b.name,nameHtml:String.format("%h",b.name).replace(c,"<strong>"+c+"</strong>")});this.active_=!1;this.seq=0;this.dssAddressObj=null;b.on("click",function(a){a.currentTarget==a.target&&this.clickHandler_()}.bind(this));b.on("click",".name",this.clickHandler_.bind(this));var d=this.flagInfoLayer_=new Qa(Qa[a]);d.onClick.add(this.clickHandler_,this);b.append(d.getPane());d.setVisible(!1);
b.hover(function(a){!this.active_&&d.setVisible("mouseenter"==a.type)}.bind(this));b.find(".flag").addClass(a);this.name_=b.find(".name")}function hd(a){function b(a){var b={cpg:k.cpg+","+(l+1),tab:k.tab,in_map:k.in_map,sorttype:k.sorttype,mkey:k.mkey};b.analysis=k.analysis;k.srcid&&(b.srcid=k.srcid);void 0!=k.cidx&&(b.cidx=k.cidx);a?t.logSearchOutWithArgs(a,b):t.logSearchOutWithArgs("address_name",b)}if(!(this instanceof hd))return new arguments.callee;var c=this.onAction=new m,d=this.onFlagClick=
new m,e=this.onFavorite=new m,f=this.onOver=new m,h=this.onOut=new m,j=!1,l=0,k=null,n=G("AddressItemView"),g=n.$("fav"),o=new Qa(Qa.HORIZON);o.getPane().appendTo(n);o.onClick.add(function(a){d.notify(a);b("address_"+(a==I.ORIGIN_WHICH_?"start":"end"))});o.setVisible(!1);n.hover(function(){o.setVisible(!0);j||(jQuery(this).addClass("AddressItem-ACTIVE"),f.notify())},function(){o.setVisible(!1);j||(jQuery(this).removeClass("AddressItem-ACTIVE"),h.notify())});var p=function(){Application.roadviewController.getActive()&&
Application.roadviewController.close();c.notify(this);b()}.bind(this),s=n.$("name");n.click(function(a){jQuery(a.target).hasClass("clickArea")&&p()});s.click(p);g.click(function(){e.notify()});var v=n.$("wrapZip");this.setSeq=function(a){l=a};this.getPane=function(){return n};this.setActive=function(a){j=!!a;n.toggleClass("AddressItem-ACTIVE",j)};this.setData=function(c,d,e){var f="",h=c.name;a.createFavorite(g,B.createFromAddress(c));e=e||2147483647;s.attr("title",h+(c.d3HName?" | (\ud589) "+c.d3HName:
""));c.subList&&c.subList.length&&Application.relatedAddressController.renderItem(n,c).onItemClick.add(function(){b()});h.length>e&&(--e,f="..");if(d){var j=h.toLowerCase().indexOf(d.toLowerCase());0<=j?(d=[j,j+d.length,h.length,e,e,e],d.sort(function(a,b){return a-b}),f='<span class="cont">'+h.substring(0,d[0])+"<strong>"+h.substring(d[0],d[1])+"</strong>"+h.substring(d[1],d[2])+f+"</span>"):f=h.substring(0,e)+f}else f=h.substring(0,e)+f;d=h="";if(c.zipcode||c.zonenum)c.zonenum?(d=c.zonenum,c.zipcode&&
(d+=" ("+c.zipcode+")")):c.zipcode&&(d=c.zipcode);d&&(h='<span class="zip">(\uc6b0) '+d+"</span>");c.buildingName&&(h=h+(h?'<span class="bar">|</span>':"")+('<span class="building">'+c.buildingName+"</span>"));h&&(v.html(h),v.show());s.html(f);80<n.outerHeight()&&o.removeClass(Qa.HORIZON)};this.setDssAddressObj=function(a){k=a};this.sendDssLog=function(a){b(a)}}function Fc(a){function b(a){k.forEach(function(b){b.html()==a&&b.hide()})}function c(a){!e.has(a.target).length&&f[0]!=a.target&&(j.hide(),
l=!1)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=this.onSelect=new m,e=G("BusFilterSelectBoxView"),f=e.$("label"),h=e.$("regions"),j=(new ca(h.get(0))).hide();j.noClosePane(f);var l=!1,k=[];j.onClose.add(function(){l=!1});f.click(function(){l=!l;j.toPane().toggle(l);f.toggleClass("expand",l);if(l)jQuery(document).one("mousedown touchstart",c)});a.forEach(function(a,b){var c=jQuery("<li/>").set(a);c.appendTo(h);c.mouseenter(function(){c.addClass("on")});c.mouseleave(function(){c.removeClass("on")});
c.click(function(){d.notify(b);j.hide();l=!1});k.push(c)});this.getPane=function(){return e};this.setLabel=function(a){a&&f.set(a);b(a)}}function Vd(a){function b(){h.toggleClass("BusItem-icon-hover",!(!p&&!s))}function c(){var a={cpg:r.cpg+","+(v+1),tab:r.tab,in_map:r.in_map,sorttype:r.sorttype,mkey:r.mkey};a.analysis=r.analysis;r.srcid&&(a.srcid=r.srcid);void 0!=r.cidx&&(a.cidx=r.cidx);r.qatype&&(a.qatype=r.qatype);r.regionid&&(a.regionid=r.regionid);r.bustypeid&&(a.bustypeid=r.bustypeid);t.logSearchOutWithArgs("bus",
a)}this.onAction=new m;var d=this.onClick=new m,e=this.onOver=new m,f=this.onOut=new m;this.onFavorite=new m;var h=G("BusItemView");h.$("para");var j=h.$("fav"),l=h.$("bustype"),k=h.$("name"),g=h.$("region"),y=h.$("start"),o=h.$("end"),p=!1,s=!1,v,r=null;h.click(function(a){jQuery(a.target).hasClass("clickArea")&&(d.notify(null),c())});k.click(function(){c();d.notify(null)});h.mouseenter(function(){p=!0;e.notify();b()});h.mouseleave(function(){p=!1;f.notify();b()});this.setSeq=function(a){v=a};this.setData=
function(b){a.createFavorite(j,B.createFromBusLine(b));l.text(X.STRING[b.type]);l.addClass(b.type);k.attr("title",b.name);k.text(b.name);g.text(b.region+" "+b.subRegion);var c=b.start,b=b.end;if(c&&b){var d=c.length,e=b.length;22<d+e&&(d>e?c=String.cut(c,22-e):b=String.cut(b,22-d))}y.text(c);o.text(b)};this.getPane=function(){return h};this.setActive=function(){};this.getActive=function(){return!0};this.clickSelf_=function(){};this.setDssBusObj=function(a){r=a}}function jb(a,b){Q(this,g,"li","BusLineItemView",
new g("div","headbg"));this.setActive=function(a){a||this.setDetail(!1);return g.prototype.setActive.call(this,a)};this.addClass("BusLineItemView-NODETAIL");this.onBusStop=new m;this.onViewport=new m;this.detailClick=new m;this.onFavorite=new m;this.buttonFactory_=b;this.busStopsView_=[];var c=this.busLineWrap_=new g("div","BusLineWrap"),d=jQuery('<a href="#"></a>');b.createFavorite(d,B.createFromBusLine(a));var e=new g("span","bustype");e.addClass(a.type);var f=new g("a","busname",a.firstName.substring(0,
14));f.setTitle(a.name);var h=this.secondName_=new g("a","subname");h.setTitle(a.name);this.secondNameText_=a.secondName;(this.secondNameLength_=20-(a.firstName.length+a.region.length))?this.setSecondNameBy_(this.secondNameLength_):(h.hide(),f.setText(String.cut(a.firstName,9)));var j=new g("span","bar","|"),d=this.title_=new g("h4","busline",[d,e,f,h,j,new g("span","addr",a.region)]);c.addChild(d);d=this.startEnd_=new g("p","startEnd",[a.start,(new g("img","arrow")).setSrc("http://t1.daumcdn.net/localimg/localimages/07/2011/icon/ico_twoarrow2.gif"),
a.end]);c.addChild(d);d=this.schedule_=new g("p","info first_line");d.addText("\uccab\ucc28 "+a.startTime);d.addChild(new g("span","bar","|"));d.addText("\ub9c9\ucc28 "+a.endTime);c.addChild(d);d=this.busDriveInfo_=new g("p","info");d.addText("\ubc30\ucc28\uac04\uaca9 "+a.interval);c.addChild(d);d=this.infoEtc_=new g("div","infoEtc");e=new g("a","viewport","\uc804\uccb4\ub178\uc120");e.onClick.add(function(){this.onViewport.notify()},this);d.addChild(e);e=new g("a","busFiyBtn","\ud2c0\ub9b0\uc815\ubcf4\uc2e0\uace0");
e.onClick.add(this.clickFiyBtn,this);d.addChild(e);e=this.noRealBusBar_=new g("div","noRealBusBar");e.addChild(new g("p","noReadlBusText",""));d.addChild(e);e=this.loadingBar_=new ob("BusLineItemView");e.onComplete.add(this.update_,this);e.addClass("loading");d.addChild(e);c.addChild(d);d=this.scrollPosition_=new g("div","scroll");c.addChild(d);e=this.positions_=new Gc(a.type);d.addChild(e);e=this.stops_=new g("ol");d.addChild(e);d=this.busProviderInfo_=new g("p","busProviderInfo");e=new g("span",
"trafficInfo");e.addChild(new g("span","txt","\uc6d0\ud65c"));e.addChild(new g("span","img"));e.addChild(new g("span","txt","\uc815\ubcf4\uc5c6\uc74c"));f=new g("a","link","\uc2e4\uc2dc\uac04 \uc815\ubcf4");f.setExternalLink("http://blog.daum.net/daummaps/623 ");e.addChild(f);f=this.busProviderLogo_=new g("span","busProviderLogo blank");d.addChild(e);d.addChild(f);c.addChild(d);this.addChild(c);this.addChild(new g("div","bottombg"));d=this.detailBtn_=new g("a","detailBtn");d.onClick.add(this.clickDetailBtn,
this);c.addChild(d);this.onClick.add(this.clickSelf_,this)}function kb(a){Q(this,g,"div","BusLineView");this.onViewport=new m;this.onBusLineItemClick=new m;this.closeBtnClick=new m;this.refreshBtnClick=new m;this.onFavorite=new m;this.buttonFactory_=a;this.busStopsView_=[];this.addChild(new g("div","headbg"));a=new g("div","busLineWrap");this.summary_=new g("ol","summary");a.addChild(this.summary_);var b=this.scroll_=new g("div","scroll");a.addChild(b);b.addChild(this.position_=new Gc);b.addChild(this.list_=
new g("ol","stops"));var b=this.busProviderInfo_=new g("p","busProviderInfo"),c=new g("span","trafficInfo");c.addChild(new g("span","txt","\uc6d0\ud65c"));c.addChild(new g("span","img"));c.addChild(new g("span","txt","\uc815\ubcf4\uc5c6\uc74c"));var d=new g("a","link","\uc2e4\uc2dc\uac04 \uc815\ubcf4");d.setExternalLink("http://blog.daum.net/daummaps/623 ");c.addChild(d);d=this.busProviderLogo_=new g("span","busProviderLogo blank");b.addChild(c);b.addChild(d);a.addChild(b);b=new g("a","close");b.onClick.add(function(){this.closeBtnClick.notify(null)},
this);a.addChild(b);this.addChild(a);this.addChild(new g("div","bottombg"))}function ob(a){Q(this,g,"div","BusLoadProgressBar");this.onComplete=new m;this.timer_=new bb(4E3,this.countDown_.bind(this),!0);this.count_=0;this.itemName_=this.setItemName_(a);a=this.reload_=new g("a","reload");a.addClass("ICON-refresh");a.onClick.add(this.force_,this);this.addChild(a);this.addChild(this.updated_=new g("span","updated"));a=this.nobus_=new g("span","nobus","\ud604\uc7ac \uc6b4\ud589\uc911\uc778 \ubc84\uc2a4 \uc5c6\uc74c");
a.setVisible(!1);this.addChild(a);this.addChild(this.timestamp_=new g("p","timestamp"))}function Lc(){function a(){["current","next"].forEach(function(a){k.$(a).show();k.$(a+"text").empty().hide();["upper","lower"].forEach(function(b){k.$(a+b+"paragraph").removeClass("lastparagraph hasbox").hide();k.$(a+b+"wrap").removeClass("wrap");k.$(a+b+"label").empty().removeClass("homonyms").hide();k.$(a+b+"btn").removeClass("btn");k.$(a+b+"text").removeClass("lowertext").empty().hide()})});l.forEach(function(a){a&&
a.remove&&a.remove()});l.length=0;appendKeyword=prependKeyword=""}function b(a,b,c){var d="upper"==a,f=c.qaType,h,j;d?(a=c.area1||"",h=c.samearea1,j=c.area2||""):(a=c.area2||"",h=c.samearea2,j=c.area1||"");var k=(new ca("ul")).hide();k.addClass("suggest");var g=!1;k.noClosePane(b);k.onClose.add(function(){g=false});var D=jQuery(k.getElement());k.onHide.add(function(){b.removeClass("expand")});k.onShow.add(function(){b.addClass("expand")});var m=14*(a.length+1);h.forEach(function(a){if(a!=""){var b=
(new jQuery("<li/>")).set(a),h=a.match(/[\d\s]/g),h=a.length*14-(h?h.length:0)*7;m=m<h?h:m;b.appendTo(D);b.mouseenter(function(){b.addClass("on")});b.mouseleave(function(){b.removeClass("on")});b.click(function(){var b="";if(!d){b=a;a=j||"";j=b}e.notify({keyword:(a?a+" ":"")+(j?j+" ":"")+c.keyword,qaType:f})})}});b.width(m);k.setSize(m,null);b.click(function(){if(g){k.hide();g=false}else{k.show();g=true}});D.appendTo(b);l.push(D)}function c(a,c){var d=c.guideType||"",e="current"===a?"\uacb0\uacfc":
"\ud558\uae30",h=!!c.samearea1.length,j=!!c.samearea2.length,l=null;"bus_key"===d?k.$(a+"text").show().html("<strong>"+c.keyword+"</strong> \uac80\uc0c9"+e):"bus_area"===d||"bus_pathstop"===d||"bus_LM"===d?(d="bus_LM"===d?" \uc8fc\ubcc0 1km \uc774\ub0b4 ":"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ",h?(l=k.$(a+"upperparagraph").show(),b("upper",k.$(a+"upperwrap").addClass("wrap"),c),k.$(a+"upperlabel").html(c.area1).show(),k.$(a+"uppertext").html(d+"<strong>"+c.keyword+"</strong> \uac80\uc0c9"+e).show(),
k.$(a+"upperbtn").addClass("btn")):k.$(a+"text").html("<strong>"+c.area1+"</strong>"+d+"<strong>"+c.keyword+"</strong> \uac80\uc0c9"+e).show()):"bus_2area"===d||"bus_2LM"===d?(d="bus_2LM"===d?" \uc8fc\ubcc0\uc744 \uacbd\uc720\ud558\ub294":"(\uc744)\ub97c \uacbd\uc720\ud558\ub294",h||j)?(h?(k.$(a+"upperparagraph").show(),b("upper",k.$(a+"upperwrap").addClass("wrap"),c),k.$(a+"upperlabel").html(c.area1).show(),k.$(a+"upperbtn").addClass("btn"),k.$(a+"uppertext").html("(\uacfc)\uc640").show()):(k.$(a+
"upperparagraph").show(),k.$(a+"uppertext").html("<strong>"+c.area1+"</strong>(\uacfc)\uc640").show()),j)?(l=k.$(a+"lowerparagraph").show(),b("lower",k.$(a+"lowerwrap").addClass("wrap"),c),k.$(a+"lowerlabel").html(c.area2).show(),k.$(a+"lowerbtn").addClass("btn"),k.$(a+"lowertext").html(d+'<div class="lower"><strong> '+c.keyword+"</strong> \uac80\uc0c9"+e+"</div>").show()):(l=k.$(a+"lowerparagraph").show(),k.$(a+"lowertext").html("<strong>"+c.area2+"</strong>"+d+"<strong> "+c.keyword+"</strong> \uac80\uc0c9"+
e).show()):k.$(a+"text").show().html("<strong>"+c.area1+"</strong>(\uacfc)\uc640 <strong>"+c.area2+"</strong>"+d+"<strong> "+c.keyword+"</strong> \uac80\uc0c9"+e):"bus_userarea"===d||"stop_userarea"===d?k.$(a+"text").show().html("\uc8fc\ubcc0 1km \uc774\ub0b4 <strong>"+c.keyword+"</strong> \uac80\uc0c9"+e):"stop_key"===d||"stop_key_qa"===d?(h="stop_key_qa"===d&&"next"===a?"\uc774 \uacbd\uc720\ud558\ub294 \uc815\ub958\uc7a5 ":"",k.$(a+"text").show().html("<strong>"+c.keyword+"</strong>"+h+" \uac80\uc0c9"+
e)):"stop_area"===d?h?(l=k.$(a+"upperparagraph").show(),b("upper",k.$(a+"upperwrap").addClass("wrap"),c),k.$(a+"upperlabel").html(c.area1).show(),k.$(a+"upperbtn").addClass("btn"),k.$(a+"uppertext").html(" \uc8fc\ubcc0 \uc815\ub958\uc7a5 \uac80\uc0c9"+e).show()):k.$(a+"text").show().html("<strong>"+c.area1+"</strong> \uc8fc\ubcc0 \uc815\ub958\uc7a5 \uac80\uc0c9"+e):"stop_pathstop"===d||"stop_bus"===d||"stop_LM"===d?(d="stop_bus"===d?"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ":"stop_LM"===d?" \uc8fc\ubcc0 1km \uc774\ub0b4 ":
" \uc8fc\ubcc0 ",h?(l=k.$(a+"upperparagraph").show(),b("upper",k.$(a+"upperwrap").addClass("wrap"),c),k.$(a+"upperlabel").html(c.area1).show(),k.$(a+"upperbtn").addClass("btn"),k.$(a+"uppertext").html(d+"<strong>"+c.keyword+" </strong> \uac80\uc0c9"+e).show()):k.$(a+"text").show().html("<strong>"+c.area1+"</strong>"+d+"<strong>"+c.keyword+" </strong> \uac80\uc0c9"+e)):""===d&&"current"==a?k.$(a+"text").show().html("<strong>"+f+"</strong> \uac80\uc0c9\uacb0\uacfc"):k.$(a).hide();l&&(l.addClass("lastparagraph"),
l.has("div.wrap").length&&l.addClass("hasbox"))}if(!(this instanceof arguments.callee))return new arguments.callee;var d=this.onBusClick=new m,e=this.onBusSelect=new m,f="",h=null,j=null,l=[],k=G("BusMessageView");k.$("nexttext").click(function(){d.notify({query:f,qaType:j.qaType})});this.getPane=function(){return k};this.setData=function(b,d,e){k.show();f=String.cut((b||"").trim(),18);h=d;j=e;a();c("current",h);c("next",j)};this.setVisible=function(a){k.toggle(a)}}function re(a,b){Q(this,g,"li",
"BusNameItemView",new g("div","headbg"));this.onRoadview=new m;this.onBusInfo=new m;var c=new g("div","wrap");c.onClick.add(function(){this.onBusInfo.notify()},this);this.addChild(c);var d=new g("a");c.addChild(d);b.createFavorite(jQuery(d.getElement()),B.createFromBusStop(a));var d=new g("div","busstopWrap"),e=new g("h5","busstop",[new g("a","name",a.name)]);if(a.direction){var f=new g("span","direction"," ("+a.direction+" \ubc29\uba74)");e.addChild(f);e.setTitle(a.name+" ("+a.direction+" \ubc29\uba74)")}else e.setTitle(a.name);
d.addChild(e);e=null;a.roadview&&(e=new g("a","roadview"),e.onClick.add(function(b){b.stopPropagation();t.logRoadview("realbus_busstop_rv",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id});this.onRoadview.notify()},this),d.addChild(e));e&&e.addClass("fixcenter");var h=new g("div","busstopid");a.codenames[0]&&(a.codenames.forEach(function(a,b){b>0&&h.addChild(new g("span","bar","|"));var c=new g("span","stopid");h.addChild(c.addText(a.trim()))},this),h.addChild(new g("br")));
a.region&&h.addChild(new g("span","firstaddr",a.region));a.region1&&h.addChild(new g("span","addr",a.region1));a.region2&&h.addChild(new g("span","addr",a.region2));d.addChild(h);var j=new g("ul","type");a.types.forEach(function(a){var b=new g("li","icon");j.addChild(b.addClass(a.toString()))},this);d.addChild(j);c.addChild(d);this.addChild(new g("div","bottombg"))}function Jd(a,b,c){function d(a){if(a){a=parseInt(a);l.show();l.removeClass("grey green orange red");var b="grey";25<=a?b="green":10<=
a?b="orange":0<=a&&(b="red");l.addClass(b)}else l.hide()}this.onBusNumberLineClick=new m;var e=this.onClick=new m,f=a.codenames[0],h=G("BusNumberLineItemView",{stopname:String.cut(a.name,18),busid:f});h.click(function(){e.notify(null)});var j=h.$("stopname").attr("title",a.name);f||j.addClass("noBusid");var l=h.$("speedBar");a.nextLinkSpeed&&d(a.nextLinkSpeed);var k=h.$("fav");c.createFavorite(k,B.createFromBusStopAndBusLine(a,b));a.turningPoint&&h.$("turningpoint").show();this.setLine=function(a){h.toggleClass("BusNumberLineItemView-Line",
a)};this.setBoardLabel=function(a){null!=a&&("ride"==a?j.addClass("board"):j.addClass("change"))};this.setLastView=function(){h.addClass("last")};this.setNonstop=function(){j.addClass("pass").attr("title","\uc2b9\ud558\ucc28 \ud560 \uc218 \uc5c6\ub294 \uc815\ub958\uc7a5 \uc785\ub2c8\ub2e4.");j.removeClass("noBusid");h.$("busid").hide();h.$("nonstop").addClass("nonstop").show();h.$("line").addClass("nocircle");jQuery(k.getElement()).off().on("click",function(){alert("\ubbf8\uc815\ucc28 \uc815\ub958\uc7a5\uc740 \uc990\uaca8\ucc3e\uae30\ub97c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})};
this.getPane=function(){return h};this.setSpeed=function(a){d(a)}}function Gc(a){Q(this,g,"div","BusPositionView");this.type_=a}function Gb(a){Q(this,Pa);new m;this.seq=0;this.dssBusStopObj=null;var b=this.panel_=new g("li");b.addClass("BusStopFlagItem");b.addClass("clickArea");b.onClick.add(function(a){jQuery(a.target).hasClass("clickArea")&&this.clickHandler_()},this);var c=this.flagInfoLayer_=new Qa(Qa[a]);c.onClick.add(this.clickHandler_,this);b.addChild(c.getPane());c.setVisible(!1);this.selected_=
!1;b.onEnter.add(function(){this.panel_.addClass("BusStopFlagItem-over");this.selected_||this.flagInfoLayer_.setVisible(!0)},this);b.onLeave.add(function(){this.panel_.removeClass("BusStopFlagItem-over");this.selected_||this.flagInfoLayer_.setVisible(!1)},this);c=this.selectedFlag_=new g("span","flag");c.addClass(a);b.addChild(c);var d=this.name_=new g("a");d.onClick.add(this.clickHandler_,this);d.addClass("INACTIVE");b.addChild(d);a=new g("span","bar","|");b.addChild(a);a=this.region_=new g("span",
"region");b.addChild(a);this.setTitle=function(a,b){d.setText(a);if(b){var c=" ("+b+" \ubc29\uba74)",j=new g("span","direction",c);d.setTitle(a+c);d.addChild(j)}}}function se(a){var b=this.onClose=new m,c=this.onBusStop=new m,d=G("BusStopGroupInfoWindow");d.$("close").click(function(){b.notify()});this.getPane=function(){return d};a.forEach(function(a){var b=G("BusStopGroupInfoWindowItem");b.$("name").set(a.name).click(function(){c.notify(a)});a.codenames.forEach(function(a,c){var d='<span class="busid">';
0<c&&(d+='<span class="column">|</span>');d=jQuery(d+'<span class="codename"></span></span>');d.find(".codename").text(a.trim());d.appendTo(b.$("codenames"))});b.$("types").html(a.types.map(function(a){return String.format("<span class=BUS-%s></span>",a)}).join(""));b.appendTo(d.$("body"))})}function Wd(a){function b(b){P=b;a.createFavorite(o,B.createFromBusStop(P));p.attr("title",P.name+(P.direction?" ("+P.direction+"\ubc29\uba74)":""));p.append("<strong>"+P.name+"</strong>");P.direction&&p.append(" ("+
P.direction+"\ubc29\uba74)");P.codenames.forEach(function(a,b){var c=jQuery((0<b?'<span class="column">|</span>':"")+'<span class="busCode"><span class="codename"></span></span>');c.find(".codename").text(a.trim());c.appendTo(k.$("busCodes"))});b=[P.region,P.region1,P.region2].filter(function(a){return a});v.text(b.join(" "));P.roadview&&(u=P.roadview,s.show());P.types.forEach(function(a){jQuery("<span class='bustype "+a+"'>"+X.STRING[a]+"</span>").appendTo(r)})}function c(){k.toggleClass("BusStopItem-ACTIVE",
!(!w&&!D));U.setVisible(w)}function d(a){var b={cpg:K.cpg+","+(E+1),tab:K.tab,in_map:K.in_map,sorttype:K.sorttype,mkey:K.mkey};b.analysis=K.analysis;K.srcid&&(b.srcid=K.srcid);void 0!=K.cidx&&(b.cidx=K.cidx);K.qatype&&(b.qatype=K.qatype);K.regionid&&(b.regionid=K.regionid);K.bustypeid&&(b.bustypeid=K.bustypeid);a?t.logSearchOutWithArgs(a,b):t.logSearchOutWithArgs("busstation",b)}this.onAction=new m;var e=this.onClick=new m,f=this.onOver=new m,h=this.onOut=new m,j=this.onFlagClick=new m,l=this.onFavorite=
new m,k=G("BusStopItemView"),g=k.$("para"),y=k.$("icon"),o=k.$("fav"),p=k.$("name"),s=k.$("roadview");k.$("codename");var v=k.$("region"),r=k.$("bustype"),u=null,w=!1,D=!1,P=null,K=null;o.click(function(){l.notify()});k.click(function(a){jQuery(a.target).hasClass("clickArea")&&(d(),e.notify(E))});p.click(function(){d();e.notify(E)});s.click(function(){u&&(q.click("roadview","by_mapsearch"),t.logRoadview("search_q_click_busstation_roadview",P.roadview.panoId,P.coords,Application.localInfoController.getHCodeForLog(),
{id:P.id}),Application.roadviewController.show(u))});var U=new Qa;g.prepend(U.getPane());U.onClick.add(function(a){j.notify(a);d("busstop_"+(a==I.ORIGIN_WHICH_?"start":"end"))});U.setVisible(!1);k.mouseenter(function(){w=!0;f.notify();c()});k.mouseleave(function(){w=!1;h.notify();c()});this.setData=function(a){b(a)};this.getPane=function(){return k};this.setActive=function(a){D=!!a;c()};this.setHover=function(a){w=!!a;c()};var E=null,Z=null;this.setIcon=function(a){E=a;y.removeClass(Z);var b="icon_"+
a;y.addClass(b);y.text(a);Z=b};this.setFavorite=function(a){o.toggleClass("fav-ON",a)};this.setDssBusStopObj=function(a){K=a};this.sendDssLog=function(a){d(a)}}function qd(a,b,c,d){var e=G("BusStopLineItemView").appendTo(a),f=this.onClick=new m;if(!b.arrival||"NOSUPPORT"==b.realtimeState)e.addClass("BusStopLineItemView-noStatus");else{for(var a="",a=[],h=0;h<b.arrival.stateArray.length;h++)if("\uc815\uc0c1\uc6b4\ud589"==b.arrival.stateArray[h].message){var j=Math.max(1,b.arrival.stateArray[h].time),
l="\ucd08",k="";60<=j&&(l="\ubd84",j=Math.floor(j/60));"DELAY"==b.arrival.stateArray[h].status&&(k=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>');a.push("<em><strong>"+j+"</strong>"+l+"</em>"+k)}else"\uace7\ub3c4\ucc29"==b.arrival.stateArray[h].message?a.push("<em><strong>"+b.arrival.stateArray[h].message+"</strong></em>"):a.push(b.arrival.stateArray[h].message);a=b.arrival.stateOnly?a[0]:a.join(' <span class="sep">|</span> ');e.$("status").html(a)}e.$("action").addClass("ICON-"+b.action).toggle(!!b.action);
d?d.createFavorite(e.$("fav"),B.createFromBusStopAndBusLine(c,b)):e.$("fav").hide();b.arrival&&(b.direction=b.arrival.direction2||b.arrival.direction||b.direction);c=b.name+(b.direction?" ("+b.direction+")":"");e.$("name").html("<span class=BUS-"+b.type+"></span><span class=busname>"+c+"</span>").attr("title",c);e.$("name").click(function(){f.notify(b.busStopId)});this.scrollup=function(){setTimeout(function(){e.css("backgroundColor","#ffe");e.parent().scrollTop(34*(e.index()-1))},500)}}function Hc(){Q(this,
g,"div");this.addClass("CarFunctionToolBar");var a=this.print_=new g("a");a.addClass("print");a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new g("a");b.addClass("favorite");b.onClick.add(this.clickFavorite_,this);var c=this.alook_=new g("a");c.addClass("alook");c.onClick.add(this.clickAlook_,this);this.addChild(a);this.addChild(b);this.addChild(c);this.onClick=new m}function Kd(a){function b(){var a=jQuery("#info\\.body").scrollTop(),b=a+(f.position().top-98),a=0.5*Math.abs(b-a);jQuery("#info\\.body").animate({scrollTop:b},
a,function(){})}function c(){w=!0;var b=r,c=0;a.checkpoints.forEach(function(d,f){var h=a.pointGroups[f];h&&(c=h.count,h=new Ld(h),r.append(h.getPane()),b=h);h=null;d.seq===M.START||d.seq===M.VIA||d.seq===M.END?(h=new (require("view/StartEndPointItemView"))(d),h.onRoadview.add(function(){Application.roadviewController.show(point.roadview);q.click("route","go_public_roadview")})):h=hc(d);h instanceof hc&&h.onAccClick.add(function(a){y.notify(a)});h.onClick.add(function(){k.notify(f);e()});h.onRoadview.add(function(){g.notify(f)});
b.addItem?(h.setInExpress(!0),b.addItem(h)):(h instanceof hc&&h.onMouseEnter.add(function(a){a.scrollTo()}),b.append(h.getPane()));0>=--c&&(b=r);u[f]=h})}function d(a){a&&!w&&c();h=a;f.toggleClass("CarRouteItem-DETAIL",h)}function e(){u.forEach(function(a){a.setActive&&a.setActive(!1)})}if(!(this instanceof Kd))return new arguments.callee(a);console.assert(a instanceof Da);var f=G("CarRouteItemView"),h=!1,j=this.onHover=new m,l=this.onDetail=new m,k=this.onCheckpoint=new m,g=this.onRoadview=new m,
y=this.onAccClick=new m,o=this.onRoadviewVideo=new m,p=f.$("summary"),s=new te,v=!1;s.onRoadviewVideo.add(function(){v?alert("\uc774\ubbf8 \uc2e4\ud589 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694."):(v=!0,o.notify())});p.append(s.getPanel());var p=f.$("detail"),r=jQuery('<ul class="list"></ul>');p.append(r);var u=this.checkpoints_=[];s.setData(a);s.onClick.add(function(){d(!h);l.notify(h);h&&q.click("route","go_car_"+a.source)});var w=!1;f.hover(function(){j.notify(!0)},
function(){j.notify(!1)});this.setDetail=function(a){d(a)};this.isDetailOpen=function(){return h};this.getPanel=function(){return f};this.setIndex=function(a){e();if((a=u[a])&&a.setActive)a instanceof hc&&a.getInExpress()&&a.expandExpress(),a.setActive(!0)};this.clickableRoadviewVideo=function(){v=!1};this.inActiveSeqView=function(){e()};this.setCarInfo=function(a,b,c){s&&s.setCarInfo(a,b,c)};this.setHover=function(a){f.toggleClass("CarRouteItem-HOVER",a)};this.animationScroll=function(){b()};this.getTollValue=
function(){return s?s.getTollValue():-1}}function te(a){function b(a){y=a;var b=a.time;f.html("");var e=90>b?1:Math.round(b/60),b=e/60|0,e=e%60;if(0<b){var j=new Va("bigNumber");j.setValue(b);j.addClass("hours");f.append(j.getPane());f.append(jQuery('<span class="text">\uc2dc\uac04</span>'))}0<=e&&(j=new Va("bigNumber"),j.setValue(e),0<b?j.addClass("minuteMargin"):j.addClass("minute"),f.append(j.getPane()),f.append(jQuery('<span class="text">\ubd84</span>')));b=a.distance;h.html("");b=(b/1E3).toFixed(1);
0<=b&&(e=new Va("bigNumber"),e.setValue(b),e.addClass("distanceImage"),h.append(e.getPane()),h.append(jQuery('<span class="text">km</span>')));b=String.formatNumber(a.taxiFare);l.html('<span class="label">\ud0dd\uc2dc\ube44</span>\uc57d '+b+" \uc6d0</span>");d.$("split").show();l.show();c();a.ferryNode?d.addClass("ferryNode"):d.removeClass("ferryNode")}function c(){if("Y"==require("options").rojaju_button){var a=d.$("roadviewVideoWrap").show();o=jQuery('<a href="#" class="roadviewVideo">\ub85c\ub4dc\ubdf0 \uc790\ub3d9 \uc8fc\ud589</a>');
a.append(o);o.on("click",function(){e.notify()});var b=jQuery('<span class="roadviewVideoInfo"></span>');d.append(b);var c=jQuery('<div class="roadviewPopupInfo"></div>');c.hide();a=jQuery('<a href="http://blog.daum.net/daummaps/627" target="_blank" class="link">\ub354\ubcf4\uae30</a>');c.append(a);c.appendTo("body");var f=0;b.on("mouseenter",function(){var a=b.offset();c.css({left:a.left-121,top:a.top+19});c.show()});b.on("mouseleave",function(){f=setTimeout(function(){c.hide()},100)});c.on("mouseenter",
function(){f&&clearTimeout(f);c.show();f=0});c.on("mouseleave",function(){c.hide()})}}var d=G("CarRouteSummaryView"),e=this.onRoadviewVideo=new m;this.onClick=new m;var f=d.$("time"),h=d.$("distance"),j=d.$("toll"),l=d.$("taxi"),k=d.$("oil"),g=-1,y=null;d.on("click",function(a){jQuery(a.target).hasClass("roadviewVideo")});a&&b(a);var o=null;this.setData=function(a){b(a)};this.getPanel=function(){return d};this.setCarInfo=function(a,b,c){b=((y.lenthOnRoad/1E3).toFixed(1)/+c*+b).toFixed(0);b=String.formatNumber(+b);
k.show();d.find(".info").addClass("addInfo");k.html('<span class="label">\uc8fc\uc720\ube44</span>\uc57d '+b+" \uc6d0</span>");a=y.tollFares[a-1];b=String.formatNumber(a);j.html('<span class="label">\ud1b5\ud589\ub8cc</span>\uc57d '+b+" \uc6d0</span>");j.show();g=+a};this.getTollValue=function(){return g}}function Ld(a){function b(a){y=a;c.toggleClass("CheckpointItemGroupView-ACTIVE",!!a)}if(!(this instanceof Ld))return new arguments.callee(a);var c=G("CheckpointItemGroupView"),d=c.$("icon"),e=c.$("name"),
f=c.$("time"),h=c.$("distance"),j=c.$("detailBtn"),l=c.$("overview"),k=c.$("checkpoints"),g=jQuery("#info\\.body"),y=!1;d.attr("src","http://t1.daumcdn.net/localimg/localimages/07/2011/icon/ico_exnaroad"+a.number+".gif");e.set(a.name);d="";(e=a.time/3600|0)&&(d+=e+"\uc2dc\uac04");d+=(a.time/60|0)%60+"\ubd84";f.set(d);h.set(String.formatDistance(a.distance));j.click(function(){b(!y);q.click("route","go_car_expressway_"+(y?"open":"close"))});a.item.forEach(function(a,b,c){if(!(0!=b&&c.length-1!=b&&
"through"!=a.type)){var d=jQuery("<span/>").addClass("sectionImg");if("through"==a.type)d.addClass("through");else{var e=a.seq,f=30*Math.floor((e-1)/10);0>f&&(f=0);d.css("backgroundPosition",-(30*((e-1)%10))+"px "+-f+"px");d.addClass("seqIcon")}0==b&&d.addClass("first");d.appendTo(l);d="";"through"!=a.type&&(d=a.name+" ");c.length-1!=b&&(d+="-");jQuery("<span/>").set(d).appendTo(l)}});b(!1);this.getPane=function(){return c};this.setActive=b;this.getActive=function(){return y};this.addItem=function(a){a.onExpand.add(function(){b(!0)});
a.onMouseEnter.add(function(a){if(y)a.scrollTo();else{var a=A.document.documentElement.clientTop,b=g.scrollTop(),a=c.offset().top-g.offset().top+b-a;g.scrollTop(a-g.outerHeight()/2)}});a.getPane().appendTo(k)}}function hc(a){function b(a){D=!!a;f();a&&c()}function c(){if(E){var a=g,b=E,c=A.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;E.scrollTop(a-E.outerHeight()/2)}}function d(){P=!0;f()}function e(){P=!1;Z||f()}function f(){var a=P||D;g.toggleClass("CheckpointItem-ACTIVE",
!!a);U&&(U.setZIndex(a?3:2),U.setHover(a),U.setActive(a))}if(!(this instanceof hc))return new arguments.callee(a);console.assert(a instanceof M);var h=this.onClick=new m,j=this.onRoadview=new m;this.onAccClick=new m;var l=this.onExpand=new m,k=this.onMouseEnter=new m,g=G("CheckpointItemView"),y=g.$("roadview"),o=g.$("traffic"),p=g.$("arrow"),s=g.$("state"),v=g.$("seq"),r=g.$("name"),u=g.$("desc"),w=g.$("accident"),D=!1,P=!1,K=!1,U=null,E=null,Z=!1;(function(){if(null==a.roadview)y.hide();else{var b=
new Ib(y);b.setThumnail(a.roadview.thumbnail);b.onClick.add(function(){t.logRoadview("route_car_rv",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog());j.notify(null)});b.onOver.add(function(){Z=!0});b.onLeave.add(function(){null!=b&&(b=null);Z=!1;f()})}})();null==a.rotation?o.hide():(a.roadview||o.addClass("only"),a.ferry&&o.addClass("ferry"),p.addClass("rotate_"+a.rotation),p.addClass("traffic_"+a.traffic),s.set(M.getTrafficText(a.traffic)||""));(function(){var b=a.seq,
c=Math.floor((b-1)/10)*30;c<0&&(c=0);v.css("backgroundPosition",-((b-1)%10*30)+"px "+-c+"px")})();(function(){var c=a.name;if(c=="")r.hide();else{r.addClass(a.tollgate?"tollgate":a.restArea?"restArea":"");r.set(c);r.click(function(){h.notify(null);b(true)})}})();(function(){var c=a.info;if(c=="")u.hide();else{a.name||u.addClass("noname");u.set(c.split(/\n/g).join("<br />"));u.click(function(){h.notify(null);b(true)})}})();(function(){var b=a.accList;b.length?b.forEach(function(a){var b=jQuery("<li class=accList />"),
c=jQuery("<p class=accText />");c.appendTo(b);c.set(a.text("title"));b.appendTo(w)}):w.hide()})();g.mouseenter(d);g.mouseleave(e);this.getPane=function(){return g};this.setActive=b;this.scrollTo=c;this.setMarker=function(a){U=a;a instanceof pa&&(a=a.getMarker());E=jQuery("#info\\.body");daum.maps.event.addListener(a,"mouseover",function(){d();k.notify(this)}.bind(this));daum.maps.event.addListener(a,"mouseout",e)};this.setInExpress=function(a){K=a};this.getInExpress=function(){return K};this.expandExpress=
function(){l.notify()}}function Md(a,b){var c=this.onClick=new m;this.onFlagClick=new m;var d=G("DupItemView");b&&d.addClass("odd");var e=d.$("name"),f=d.$("number"),h=d.$("flag"),j=a.confirmid;e.text(a.name);e.attr("title",a.name);f.text(a.number);var l=null,k=!1;this.setFlagInfoLayer=function(a){l=new Qa(Qa[a]);f.after(l.getPane());d.mouseenter(function(){k||l.setVisible(!0)});d.mouseleave(function(){k||l.setVisible(!1)});l.onClick.add(function(){c.notify(j)});h.addClass(a)};d.click(function(){c.notify(j)});
this.setActive=function(a){k=!!a;d.toggleClass("DupItemView-ACTIVE",a);l&&l.setVisible(!1)};this.getPane=function(){return d}}function ue(a,b){function c(){h.notify(b)}function d(){k.notify({fid:b.seq});q.click("fav","check")}function e(){g.notify({seq:b.seq,position:p.offset()})}function f(){s.removeClass("wrap-edit")}var h=this.onClick=new m,j=this.onModify=new m,l=this.onRemove=new m,k=this.onRegister=new m,g=this.onClickInvalid=new m,y=this.onRegistStatic=new m;B.updateViewDataFromFav(b);var o=
jQuery.extend({isStatic:-1!==jQuery.inArray(b.type,["point","place","address","busstop","subwaystation"])},b),p=G("FavoriteItemView",o).appendTo(a),s=p.$("wrap"),v=p.$("link"),r=p.$("more"),u=p.$("remove"),o=p.$("edit"),w=p.$("home"),D=p.$("toHome"),P=p.$("toCompany");r.click(function(a){a.preventDefault();p.addClass("open_layer");q.click("fav","more")});u.click(function(){q.click("fav","show_delete");l.notify({seq:b.seq})});w.click(d);"N"==b.validPlace?(s.addClass("wrap-invalid"),v.click(e)):v.click(c);
var K=p.$("icon"),s=p.$("wrap"),v=p.$("title"),r=p.$("subtitle"),u=p.$("check"),w=p.$("realtime"),U=p.$("cancel"),E=p.$("done"),Z=p.$("input");K.addClass(b.type.toString());K.text(B.typeText[b.type]);v.attr("title",b.display1);K=b.display1.split("||");2<=K.length?(v.prepend(K[0]),r.append(K.slice(1).join("||")).show()):v.append(String.cut(b.display1,43));s.toggleClass("wrap-register",!!b.isHome);u.click(d);!b.isRealtime&&w.detach();o.click(function(){q.click("fav","show_modify");j.notify(b)});U.click(f);
E.click(function(){var a=jQuery.trim(Z.val());b.display1==a?f():a?j.notify({seq:b.seq,name:Z.val()}):alert("\uc990\uaca8\ucc3e\uae30 \uc774\ub984\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.")});D.click(function(){y.notify({staticMode:"home",data:b})});P.click(function(){y.notify({staticMode:"company",data:b})})}function Sd(a,b){function c(){if(0!=l.length){var a=l.data(),b=a.lineids.toString().split(","),b=b.map(function(a){return a.split("#")[0]});Y.findTransitBusStop(a.stopid,b,d);var a=function(a){a=
parseInt(a);return 10>a?"0"+a:a},c=new Date,b=c.getHours(),e=c.getMinutes(),c=c.getSeconds(),f=12<b?"\uc624\ud6c4":"\uc624\uc804",b=a(12<b?b-12:b),e=a(e),c=a(c);g.text(f+" "+b+":"+e+":"+c+" \uae30\uc900")}}function d(a){a.lines&&a.lines.forEach(function(b){var c=e(b),d=h.find("#"+c.busStopLineId),c=G("FavoriteRegisterItemBusArrivalView",c);0<d.length?d.empty().html(c.html()):(c.on("click",function(){f.notify({type:"busstopline",key:a.id+"@"+b.id})}),c.appendTo(l));b.arrival&&"NOSUPPORT"!=b.realtimeState&&
k.show()})}function e(a){var c=a.arrival,d=jQuery.extend({},c),e=[d.busStopCount,d.busStopCount2],f=[];if(c&&"NOSUPPORT"!=a.realtimeState){for(var h=0;h<c.stateArray.length;h++)if("\uc815\uc0c1\uc6b4\ud589"==c.stateArray[h].message){var j=Math.max(1,c.stateArray[h].time),k="\ucd08",l="";60<=j&&(k="\ubd84",j=Math.floor(j/60));1<h&&(l='<span class="screen_out">\ub2e4\uc74c \ubc84\uc2a4</span>');l+='<span class="emph_arrival">'+j+k+"</span>";"DELAY"==c.stateArray[h].status?l+=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>':
e[h]&&(l+='<span class="screen_out">\ub3c4\ucc29\uc608\uc815 \uc815\ub958\uc7a5</span> '+e[h]+"\ubc88\uc9f8 \uc804");f.push(l)}else"\uace7\ub3c4\ucc29"==c.stateArray[h].message?f.push('<span class="soon">'+c.stateArray[h].message+"</span>"):f.push(c.stateArray[h].message);d.arrivalHtml=c.stateOnly?f[0]:f.join(' <span class="txt_vertical">|</span> ');c=c.direction2||c.direction;d.busName=a.name+(c?"("+c+")":"")}else d.busName=a.name;c=X.TYPE[a.type]||a.type;d.busStopLineId=b.key+a.id;d.lineid=a.id;
c&&(d.isBusIcon=!0,d.countryBusClass="rural"==c?"txt_countrybus":"",d.busIconClass="bus"+c,d.busIconName=X.STRING[c]);return d}var f=this.onClick=new m;jQuery.isEmptyObject(b)?b={isEmpty:!0}:B.updateViewDataFromFav(b);"HOME"===b.myplace_type?(b.typeClass="home added",b.typeName="\uc9d1",b.isBusStop=!1,b.isText=!1,b.isTextMyplace=!0):"COMPANY"===b.myplace_type&&(b.typeClass="myjob added",b.typeName="\ud68c\uc0ac",b.isBusStop=!1,b.isText=!1,b.isTextMyplace=!0);var h=G("FavoriteRegisterItemView",b).appendTo(a),
j=h.$("link"),l=h.$("arrival"),k=h.$("refresh"),g=h.$("refreshTime");c();j.click(function(){f.notify(b);q.click("left","fav_click")});k.click(c)}function Nd(a,b){var c=this.onRegistClick=new m,d=this.onRemoveClick=new m,e=this.onItemClick=new m;b.onRegistClick&&c.add(b.onRegistClick);b.onRemoveClick&&d.add(b.onRemoveClick);b.onItemClick&&e.add(b.onItemClick);"home"==b.staticMode&&(b.modeIsHome=!0);var f=G("FavoriteStaticItemView",b).appendTo(a),h=f.$("stateIcon"),j=f.$("name"),l=f.$("link"),k=f.$("more"),
g=f.$("regist"),y=f.$("remove"),o=null,p=b.staticMode;l.click(function(a){a.preventDefault();e.notify({staticMode:p,data:o})});k.click(function(a){a.preventDefault();f.addClass("open_layer")});g.click(function(a){a.preventDefault();c.notify({staticMode:p});f.removeClass("open_layer")});y.click(function(a){a.preventDefault();d.notify({staticMode:p});f.removeClass("open_layer")});this.hasData=function(){return!!o};this.setData=function(a){if(a=(o=a)&&a.display1?a.display1:""){j.text(a);h.addClass("added");
y.show()}else{j.text("\uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uc2dc\uba74 \uae38\ucc3e\uae30\uac00 \uc26c\uc6cc\uc9d1\ub2c8\ub2e4.");h.removeClass("added");y.hide()}}}function ve(a,b){function c(){b.empty();if(f.home||f.company){var a=G("FavoriteStaticLayerView",f).appendTo(b),c=a.$("home"),a=a.$("company");c.data(f.home);a.data(f.company);c.click(d);a.click(d)}}function d(a){a=jQuery(a.currentTarget).data();e.notify(a)}var e=this.onItemClick=new m;a.onChangeMyPlace.add(function(a){var b=a.data||{};
"home"==a.mode?f.home=b:"company"==a.mode&&(f.company=b);c()});var f=a.getMyPlaces()||{};c()}function Qa(a){function b(b){var d="mapsearch";if(a==Qa.Origin||a==Qa.Via||a==Qa.Dest)d="route";switch(b){case I.ORIGIN_WHICH_:q.click(d,"search_start");break;case I.DEST_WHICH_:q.click(d,"search_end");break;case I.VIA_WHICH_:q.click(d,"search_via")}c.toggle(!1);h.notify(b)}var c=G("FlagItemInfoLayer");a&&c.addClass(a);var d=c.$("origin"),e=c.$("dest"),f=c.$("via"),h=this.onClick=new m;d.click(ya(b,I.ORIGIN_WHICH_));
e.click(ya(b,I.DEST_WHICH_));f.click(ya(b,I.VIA_WHICH_));this.setClass=function(a){a&&c.addClass(a)};this.removeClass=function(a){a&&c.removeClass(a)};this.setVisible=function(a){c.toggle(a)};this.getPane=function(){return c}}function Pa(){Q(this,xc);(this.markerIndex_=new g("span")).addClass("markerIndex")}function H(){this.width=H.DEFAULT_WIDTH;this.height=H.DEFAULT_HEIGHT;this.onResize=new m;this.panel_=g.$("view.deco");this.frame_=g.$("view.deco.frame");this.verticalBtn=jQuery("#view\\.deco\\.vertical");
this.verticalBtn.click(this.changeMode.bind(this));this.horizontalBtn=jQuery("#view\\.deco\\.horizontal");this.horizontalBtn.uidraggable({dragstart:function(){this.desiredHeight=this.height}.bind(this),drag:function(a){this.mode_==H.HORIZON&&this.dragHorizonBtn(a)}.bind(this)});this.dragBtn=jQuery("#view\\.deco\\.drag");this.dragBtn.uidraggable({dragstart:function(){q.click("roadview","map_drag");this.desiredWidth=this.width;this.desiredHeight=this.height}.bind(this),drag:this.onFrameDrag_.bind(this)});
this.fragment=jQuery("#view\\.deco\\.fragment");this.toggleBtn=g.$("view.deco.toggle");this.toggleBtn.onClick.add(this.toggle,this)}function Yb(a,b,c,d){function e(b){if(!b)return!1;if(!p)return b.hide(),!1;v=a.getDisabled(a.VIEW_TYPE.LAYER);r=G("HistoryLayerView");b.replaceWith(r);u=r.$("wrap");u.on("mousedown",function(a){a.preventDefault()});r.$("clear").click(k);r.$("disabled").click(g);r.$("disabled").text(v?"\ud788\uc2a4\ud1a0\ub9ac\ucf1c\uae30":"\ud788\uc2a4\ud1a0\ub9ac\ub044\uae30");b.replaceWith(r);
f()}function f(){var b=a.getHistory(w);h(b)}function h(b){if(p&&b){v=a.getDisabled(a.VIEW_TYPE.LAYER);u.empty();var c,d=0,e=!0,f=!!K;0<b.length&&b.forEach(function(b){if(!(d>=P||b.type===a.TYPE_LIST.SUBWAY_STATION_NAME&&b.regionId!==D)){if(f&&(K=K.replace(/[-[\]{}()*+?.,\\^$|#]/gi,""),!RegExp(K,"gi").test(b.name)))return;c=G("HistoryLayerItemView",b);c.$("link");var e=c.$("remove"),h={type:b.type,idx:b.idx};c.data(b).click(j);e.data(h).click(l);u.append(c);d++}});0===d&&(e=!1);b=v||f&&!e;r.find(".tit_recent, .list_recent").toggle(!b);
r.toggleClass("empty",b);!f&&!e?r.find(".tit_recent").text("\ud788\uc2a4\ud1a0\ub9ac\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):r.find(".tit_recent").text("\ud788\uc2a4\ud1a0\ub9ac");b=!v&&f&&!e;r.find(".favorite_recent").toggleClass("HIDDEN",b);r.$("clear").toggleClass("HIDDEN",!e)}}function j(b){var c=jQuery(b.currentTarget).data();d||a.historyClick(b);y.notify(c)}function l(b){var c=jQuery(b.currentTarget).data();a.removeHistory(b);o.notify(c)}function k(){a.clearLayerHistory()}function g(b){b=jQuery(b.currentTarget);
v=!v;b.text(v?"\ud788\uc2a4\ud1a0\ub9ac\ucf1c\uae30":"\ud788\uc2a4\ud1a0\ub9ac\ub044\uae30");a.disableHistory(v,a.VIEW_TYPE.LAYER)}var y=this.onItemClick=new m,o=this.onRemove=new m,p;try{A.localStorage.setItem("test","1"),A.localStorage.removeItem("test"),p=!!A.localStorage&&!!A.JSON}catch(s){p=!1}var v=!0,d=!!d;a.onChange.add(f);var r=null,u=null,w=b||"search",D="01",P=5,b=c.getHistoryTarget(),c=c.getInputTarget(),K="";b&&e(b);if(c)c.on("keyup focus",function(a){(K=a.currentTarget.value)?("keyup"!=
a.type||!(38==a.keyCode||40==a.keyCode))&&f():8==a.keyCode&&f()});this.init=e;this.setSubwayAreacode=function(a){D=a;f()}}function fd(a,b,c,d){function e(){var c=a.getHistory(y);b.empty();!b||0==c.length?l.notify(!1):(l.notify(!0),c.splice(p),c.forEach(function(a){f(a)}),o=G("HistoryRouteView",{items:c}).appendTo(b),o.$("wrap").on("mousedown",function(a){a.preventDefault()}).on("click","li",h).on("click","li .btn_delete",j),o.toggle(!0))}function f(a){if(a.route_form&&!(2>a.route_form.length))switch(a.route_form.forEach(function(b,
c){0==c?(b.iconClass="depart",b.iconName="\ucd9c\ubc1c"):c==a.route_form.length-1?(b.isArrival=!0,b.iconClass="arrive",b.iconName="\ub3c4\ucc29"):(b.iconClass="stopby",b.iconName="\uacbd\uc720")}),a.type){case "route_car":a.typeIconClass="carroute";a.typeIconName="\uc790\ub3d9\ucc28 \uae38\ucc3e\uae30";break;case "route_pubtrans":a.typeIconClass="transportation";a.typeIconName="\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30";break;case "route_walk":a.typeIconClass="walkingroute";a.typeIconName="\ub3c4\ubcf4 \uae38\ucc3e\uae30";
break;case "route_subway":a.typeIconClass="transportation",a.typeIconName="\uc9c0\ud558\ucca0 \uae38\ucc3e\uae30"}}function h(b){b.preventDefault();a.historyClick(b);var b=jQuery(b.currentTarget).data(),c=a.getHistory(b.type);k.notify(c[b.idx]||b)}function j(b){var c=jQuery(b.currentTarget).data();a.removeHistory(b);g.notify(c)}var l=this.onReadyChange=new m,k=this.onItemClick=new m,g=this.onRemove=new m;a.onChange.add(e);"function"==typeof d&&l.add(d);var y=c?a.TYPE_LIST.SUBWAY:a.ROUTE_TYPE,o,b=
b||null,p=15;b&&e();this.init=e;this.show=function(){o&&o.toggle(!0)};this.hide=function(){o&&o.toggle(!1)};this.setSubwayAreacode=function(){e()}}function rc(a,b,c,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c,d);var e=b,f={walkListOn:50,walkMarker:25,walkMarkerOn:50},h=(""+c+"~"+(""+d)).split(""),j=jQuery("<div class=ImageNumberRangeView />").appendTo(a);j.addClass("ImageNumberRangeView-"+b);jQuery("<span class=left />").appendTo(j);var l=jQuery("<span class=letters />").appendTo(j);
l.css("backgroundPosition",7*(""+c).length-25+"px 0");jQuery("<span class=right />").appendTo(j);h.forEach(function(a){var c=f[b]||0,a="~"==a?-99:25*a;jQuery("<span/>").appendTo(l).css("backgroundPosition",-c+"px "+-a+"px")});this.setStyle=function(a){e!==a&&(j.removeClass("ImageNumberRangeView-"+e),j.addClass("ImageNumberRangeView-"+a),e=a,l.empty(),h.forEach(function(b){var c=f[a]||0,b="~"==b?-99:25*b;jQuery("<span/>").appendTo(l).css("backgroundPosition",-c+"px "+-b+"px")}))};this.dispose=function(){j.remove()}}
function Va(a){"bigNumber"==a?a="b":"smallNumber"==a&&(a="s");this.numType=a;Q(this,g,"span");this.addClass("ImageNumberView");this.setValue=function(a){this.numberString=a.toString();this.numberArr=this.numberString.split("");this.setPanel()};this.getPane=function(){return this.toPane()}}function Mb(){this.panel_=g.$("info.main.header");this.clear_=g.$("info.main.header.clear");this.options_=g.$("info.main.options");this.onOption=new m;this.onTextView=new m;this.onClear=new m;this.buttons_=[];this.optionRadioGroup_=
new fb;this.optionRadioGroup_.onChange.add(this.onOption.notify,this.onOption);this.clear_.onClick.add(function(){q.click("navi","menu_map_search_delete");this.onClear.notify()}.bind(this));this.text_=[]}function Zb(){Q(this,xc);var a=this.panel_=new g("li","IssuePlaceItem-icon_1");a.addClass("IssuePlaceItem");var b=this.name_=new g("a","name");b.onClick.add(function(){this.onAction.notify(this)},this);b=new g("h6","",b);a.addChild(b);var b=this.img_=new g("img"),c=this.desc_=new g("blockquote","desc"),
b=new g("p","para",[c,b]);a.addChild(b)}function xc(){Q(this,Cb);this.onAction=new m}function Ic(a){function b(){var a=P.height();!D&&710>a?(D=!0,w.addClass("legendMiniPosition")):D&&710<a&&(D=!1,w.removeClass("legendMiniPosition"))}function c(a){F.forEach(function(a){a.removeClass("SELECT")});r.$(a).addClass("SELECT");w.toggleClass("trafficLegend","traffic"==a);w.toggleClass("bikeLegend","bike"==a);w.toggleClass("airLegend","air"==a);w.toggleClass("usedistrictLegend","usedistrict"==a)}function d(a){c(a);
oa=oa.filter(function(b){if(b!=a)return b});oa.push(a);j(!0)}function e(a){oa=oa.filter(function(b){if(b!=a)return b});oa.length?(c(oa[oa.length-1]),j(!0)):(u.hide(),w.hide(),ea.text()||f(new Date),fa.text()||h())}function f(a){if(a instanceof Date)var b=""+(1E4*a.getFullYear()+100*a.getMonth()+100+a.getDate()),b=b.replace(/(....)(..)/,"$1.$2."),a=""+(1E4+100*a.getHours()+a.getMinutes()),a=a.substring(1).replace(/../,"$&:"),a=b+" "+a;ea.set(a)}function h(){fa.set("\ub9e4\uc2dc \uc815\uac01 \uc5c5\ub370\uc774\ud2b8(1\uc2dc\uac04 \ub2e8\uc704)")}
function j(a){a?(u.hide(),w.show()):(u.show(),w.hide());ea.text()||f(new Date);fa.text()||h()}function l(a){r.$("tooltip"+a).show()}function k(a){r.$("tooltip"+a).hide()}function g(a){J&&wa.removeClass(J);wa.addClass("bikecate"+a);J="bikecate"+a}function y(a){Ic.air["cate"+a]&&(sa&&ra.removeClass(sa),ra.addClass("aircate"+a),sa="aircate"+a);2==a?(ra.addClass("kma"),t.text("\uae30\uc0c1\uccad").attr("href","http://www.kma.go.kr"),["\ubcf4\ud1b5","\ub098\uc068","\ub9e4\uc6b0\ub098\uc068","\uc704\ud5d8"].forEach(function(a,
b){z[b].find("a").text(a)})):(ra.removeClass("kma"),t.text("\ud658\uacbd\ubd80 \ud55c\uad6d\ud658\uacbd\uacf5\ub2e8").attr("href","http://www.airkorea.or.kr/index"),["\uc88b\uc74c","\ubcf4\ud1b5","\ub098\uc068","\ub9e4\uc6b0\ub098\uc068"].forEach(function(a,b){z[b].find("a").text(a)}));var a=Ic.air["cate"+a],b=a.unit;a.list.forEach(function(a,c){r.$("airtooltip"+(c+1)).html("<strong>"+a+"</strong>"+b)})}function o(a){r.$("airtooltip"+a).show()}function p(a){r.$("airtooltip"+a).hide()}function s(a){V&&
na.removeClass(V);na.addClass("usedistrictcate"+a);V="usedistrictcate"+a}var v=new m;this.onRefresh=v;var r=G("LayerLegend"),u=r.find(".legendBtn"),w=r.find(".legendWrap");u.on("click",function(){j(!0)});var D=!1,P=jQuery(A);P.on("resize",b);b();var K=r.$("traffic"),U=r.$("bike"),E=r.$("air"),Z=r.$("usedistrict"),F=[K,U,E,Z],ea=r.$("date"),fa=r.$("airdate");K.on("click",function(){c("traffic")});U.on("click",function(){c("bike")});E.on("click",function(){c("air")});Z.on("click",function(){c("usedistrict")});
var oa=[];r.$("close").click(function(){j(!1)});r.$("refresh").click(function(){a&&(v.notify(null),f(new Date),q.click("realtraffic","reload"))});this.setDate=f;this.setairdate=function(){h()};this.setLegend=function(a,b){b?d(a):e(a)};this.getLegend=function(a){var b=!1;-1!=oa.indexOf(a)&&(b=!0);return b};this.setClickableLabel=function(a){r.toggleClass("TrafficLegend-NOCLICK",!!a)};r.$("density1").mouseenter(ya(l,1));r.$("density2").mouseenter(ya(l,2));r.$("density3").mouseenter(ya(l,3));r.$("density4").mouseenter(ya(l,
4));r.$("density1").mouseleave(ya(k,1));r.$("density2").mouseleave(ya(k,2));r.$("density3").mouseleave(ya(k,3));r.$("density4").mouseleave(ya(k,4));var wa=r.$("BikeLegend"),J="bikecate1";r.$("bikecate1").on("click",function(){g(1)});r.$("bikecate2").on("click",function(){g(2)});r.$("bikecate3").on("click",function(){g(3)});var ra=r.$("AirLegend"),t=r.$("airsupply"),z=[r.$("airdensity1"),r.$("airdensity2"),r.$("airdensity3"),r.$("airdensity4")],sa="aircate1";r.$("aircate1").on("click",function(){y(1)});
r.$("aircate2").on("click",function(){y(2)});r.$("aircate3").on("click",function(){y(3)});r.$("aircate4").on("click",function(){y(4)});r.$("aircate5").on("click",function(){y(5)});r.$("aircate6").on("click",function(){y(6)});r.$("aircate7").on("click",function(){y(7)});this.setAirCate=function(a){y(a)};r.$("airdensity1").mouseenter(ya(o,1));r.$("airdensity2").mouseenter(ya(o,2));r.$("airdensity3").mouseenter(ya(o,3));r.$("airdensity4").mouseenter(ya(o,4));r.$("airdensity1").mouseleave(ya(p,1));r.$("airdensity2").mouseleave(ya(p,
2));r.$("airdensity3").mouseleave(ya(p,3));r.$("airdensity4").mouseleave(ya(p,4));var na=r.$("UsedistrictLegend"),V="usedistrictcate1";r.$("usedistrictcate1").on("click",function(){s(1)});r.$("usedistrictcate2").on("click",function(){s(2)});r.$("usedistrictcate3").on("click",function(){s(3)});r.$("usedistrictcate4").on("click",function(){s(4)});r.$("usedistrictcate5").on("click",function(){s(5)});a.addControl(r.getElement(),daum.maps.ControlPosition.BOTTOMRIGHT)}function Bb(){if(!(this instanceof
Bb))return new arguments.callee;Bb.disposeAll();var a=G("LoadingView");a.appendTo("body");Application.isLoadingViewShow=!0;this.dispose=function(){a.remove();Application.isLoadingViewShow=!1}}function qa(a,b){function c(){var a=Q.height();S&&525>a?(S=!1,Z.addClass("hideZoombar")):!S&&525<a&&(S=!0,Z.removeClass("hideZoombar"))}function d(b){M=b=a.isRoadmap(b)?R:N;I=Math.max(I,b);b=0<M;Z.toggleClass("changedzoombar",b);F.toggleClass("changedzoomedbar",b);ea.toggleClass("changedzoomtext",b);e(I)}function e(a){I=
a;U.toggleClass("zoomin-ACTIVE",M<a);E.toggleClass("zoomout-ACTIVE",a<qa.MAX_LEVEL);a=qa.DEFAULT_TOP+Math.round(126/(qa.MAX_LEVEL-M)*(a-M));fa.css("marginTop",a+"px");F.height(a)}function f(){var a=!za;za=a;p.notify(a);b(ma[1]).toggleClass("checked",a)}function h(){var c=!Ia;c&&a.getLevel()>nc.MAX_LEVEL&&a.setLevel(nc.MAX_LEVEL);Ia=c;v.notify(c);b(ma[0]).toggleClass("checked",c)}function j(){var a=!L;L=a;s.notify(a);b(ma[2]).toggleClass("checked",a)}function l(){r.notify(qa.DISTANCE)}function k(){r.notify(qa.AREA)}
function g(){r.notify(qa.RADIUS)}function y(){q.click("control","reset");r.notify(qa.CLEAR)}if(!(this instanceof qa))return new arguments.callee(a);var o=this.onRoadview=new m,p=this.onTraffic=new m,s=this.onAccident=new m,v=this.onCctv=new m;this.onZoomTo=new m;var r=this.onTool=new m,u=this.onExtension=new m,w=G("MapControlView"),D=w.$("roadview"),P=w.$("traffic"),K=w.$("zoomcontrol"),U=w.$("zoomin"),E=w.$("zoomout"),Z=w.$("zoombar"),F=w.$("zoomedbar"),ea=w.$("zoomtext"),fa=w.$("slider"),oa=w.$("tools"),
wa=w.$("distance"),J=w.$("area"),ra=w.$("radius"),t=w.$("clear"),z=w.$("newplace"),sa=w.$("tooltext"),na=w.$("tooltextDistance"),V=w.$("tooltextArea"),B=w.$("tooltextRadius"),x=w.$("tooltextClear"),C=w.$("tileTool"),ia=w.$("extension"),ga=w.$("extensionText");w.$("textcloser");var ma=w.$("trafficMenu").find("li"),ha=w.$("newPlaceInfoClose"),ka=!1,za=!1,L=!1,Ia=!1,Ha=!0,I,M,H,R=1,N=0;A.devicePixelRatio&&2==A.devicePixelRatio&&(N=1);D.click(function(){var a=!ka;a&&q.click("control","roadview");D.toggleClass("rv-ACTIVE",
a);o.notify(a);ka=a});P.click(function(){var a=!(za||L||Ia);a?(za=!1,f(),L=!1,j(),require("log/Tiara").log("/fake/realtraffic"),q.click("control","realtraffic")):(za=!0,f(),L=!0,j(),Ia=!0,h());P.toggleClass("tv-ACTIVE",a);P.toggleClass("tv-OVER",a)});P.hover(function(){P.addClass("tv-OVER")},function(){P.removeClass("tv-OVER")});ma.on("click",function(a){var c=b(this).data("index");[h,f,j][c]();P.toggleClass("tv-ACTIVE",!(!Ia&&!za&&!L));a.stopPropagation()});var X=new daum.maps.ZoomControl({fold:{maxHeight:500}});
X.setMap(a);var X=X.getElement(),T=jQuery("<div></div>").css("clear","both");K.empty().append(X).append(T);fa.uidraggable({dragstart:function(){H=parseInt(fa.css("marginTop"))},drag:function(a){H+=a.dy;I=Math.max(M,Math.min(qa.MAX_LEVEL,M+Math.floor((H-qa.DEFAULT_TOP)*(qa.MAX_LEVEL-M)/126)));e(I)}});oa.mouseenter(function(){sa.show()});oa.mouseleave(function(){sa.hide()});wa.click(l);na.click(l);J.click(k);V.click(k);ra.click(g);B.click(g);t.click(y);x.click(y);z.click(function(){r.notify(qa.NEWPLACE)});
ha.click(function(){r.notify(qa.NEWPLACE_INFO_CLOSE)});I=a.getLevel();d(a.getMapTypeId());var S=!0,Q=jQuery(A);Q.on("resize",c);c();var O="keyword";this.setKeywordTile=function(a){O=a;ia.removeClass("keyword-ACTIVE");ia.removeClass("theme-ACTIVE");Ha&&ia.addClass(O+"-ACTIVE")};this.setExtensionVisible=function(a){a?(C.show(),r.notify(qa.NEWPLACE_INFO_CLOSE)):C.hide()};ia.click(function(){(Ha=Ha?!1:!0)?(ia.addClass(O+"-ACTIVE"),q.click("control","dotsearch_on")):(ia.removeClass("keyword-ACTIVE"),ia.removeClass("theme-ACTIVE"),
q.click("control","dotsearch_off"));u.notify(Ha)});ia.hover(function(){ga.show()},function(){ga.hide()});this.getPane=function(){return w};this.setZoomControlFor=d;this.updateZoomControl=e;this.setRoadviewActive=function(a){D.toggleClass("rv-ACTIVE",!!a);ka=a};this.setTrafficActive=function(a){(a=!!a)?$(La.CCTV+La.TRAFFIC+La.ACCIDENT):($(1),P.toggleClass("tv-ACTIVE",!1),P.toggleClass("tv-OVER",!1));za=a};this.isTrafficActive=function(){return za};this.setToolActive=function(a,b){a===qa.DISTANCE?wa.toggleClass("distance-ACTIVE",
!!b):a===qa.AREA?J.toggleClass("area-ACTIVE",!!b):a===qa.RADIUS&&ra.toggleClass("radius-ACTIVE",!!b)};this.deactivateAll=function(){wa.removeClass("distance-ACTIVE");J.removeClass("area-ACTIVE");ra.removeClass("radius-ACTIVE")};this.showCctv=function(){Ia=!1;h();P.addClass("tv-ACTIVE");P.addClass("tv-OVER")};this.showTraffic=function(){za=!1;f();P.addClass("tv-ACTIVE");P.addClass("tv-OVER")};var $=this.setTrafficActiveForState=function(a){var b=La;a&&(za=a&b.TRAFFIC?!1:!0,f(),Ia=a&b.CCTV?!1:!0,h(),
L=a&b.ACCIDENT?!1:!0,j(),P.addClass("tv-ACTIVE"),P.addClass("tv-OVER"),require("log/Tiara").log("/fake/realtraffic"))};this.deactivateTraffic=function(){za=!0;f();Ia=!0;h();L=!0;j();P.removeClass("tv-ACTIVE");P.removeClass("tv-OVER")}}function Mc(a,b,c,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c,d);var e=new m,f=new m,h=new m,j=!1,l=this.enter=new m,k=this.leave=new m,g=jQuery('<a title="\ub4dc\ub798\uadf8\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ub193\uc73c\uc138\uc694"><i></i></a>');
g.addClass(b);a.addChild(g);g.mouseenter(function(){l.notify()});g.mouseleave(function(){k.notify()});g.uidraggable({dragstart:function(){j?alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4."):(c.setMap(null),c.setMap(d),g.hide(),e.notify())},drag:function(a){j||c.moveBy(a.dx,a.dy)},dragend:function(){j||(c.setMap(null),c.takeDown(),g.show(),f.notify())},dragcancel:function(){c.setMap(null);g.show();h.notify()}});this.setEnabled=
function(a){j=!a;g.toggleClass("disabled",j);g.attr("title",j?"\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4":"\ub4dc\ub798\uadf8\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ub193\uc73c\uc138\uc694")};this.setClass=function(a){g.removeClass(b);b=a;g.addClass(b)};this.onStart=e;this.onEnd=f;this.dragCancel=h}function ed(){function a(a,b,c,d){var l=(new ca("ul")).hide();l.addClass("suggest");var o=!1;l.noClosePane(a);l.onClose.add(function(){o=
!1});j=jQuery(l.getElement());l.onHide.add(function(){a.removeClass("expand")});l.onShow.add(function(){a.addClass("expand")});var D=b.length;f.forEach(function(b){if(""!=b){var f=b+(h?" "+h:"")+(g.keyword?" "+g.keyword:""),k=c&&h&&h.trim()?b+" "+h:b,l=(new jQuery("<li/>")).set(k);D=D<k.length?k.length:D;l.appendTo(j);l.mouseenter(function(){l.addClass("on")});l.mouseleave(function(){l.removeClass("on")});l.click(function(){"snselect"==d?jQuery(a).find(".label").text(k):e.notify({keyword:f})})}});
var y=Math.min(14*D+10,k);20<D&&(D=19,b=b.substr(0,D)+"..",jQuery(a).find(".label").text(b));a.width(y);l.setSize(y,null);a.click(function(){if(o){l.hide();o=false}else{l.show();o=true}});j.appendTo(a)}function b(a){return String.format("%h",a)}function c(){var c=g.type,e=g.region||"";e&&g.bunji&&(e+=" "+g.bunji);if(f[0]&&("user_location"!=c||e)){var h='<span class="inline block">\uac80\uc0c9\uacb0\uacfc</span>',j="";switch(c){case "global":case "user_location":case "location_only":h='<span class="inline block">\uac80\uc0c9\uacb0\uacfc</span>';
break;case "located_query":case "near_by_query":case "located_branch":h="<span class='inline'>\uc8fc\ubcc0  </span> '<strong class='inline'>"+b(g.keyword)+"</strong>'<span class='inline block'>\uac80\uc0c9\uacb0\uacfc</span>"}j=e;l.$("upperlabel").show();l.$("upperlabel").set(j);l.$("upperbtn").addClass("btn");a(l.$("upperwrap").addClass("wrap"),j,!!g.bunji)}else switch(h="'<strong>"+b(e||g.keyword)+"</strong>' \uac80\uc0c9\uacb0\uacfc",c){case "global":case "user_location":h="'<strong>"+b(g.keyword)+
"</strong>' \uac80\uc0c9\uacb0\uacfc";break;case "location_only":h="'<strong class='region'>"+b(e)+"</strong>' \uac80\uc0c9\uacb0\uacfc";break;case "located_query":case "near_by_query":case "located_branch":h="'<strong class='region'>"+b(e)+"</strong>' \uc8fc\ubcc0  '<strong>"+b(g.keyword)+"</strong>' \uac80\uc0c9\uacb0\uacfc"}l.$("uppertext").html(h);var h=y.type,k=j="",w=y.region||"";w&&y.bunji&&(w+=" "+y.bunji);switch(h){case "global":j="'"+b(y.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";
k=y.keyword;break;case "user_location":j="'"+b(y.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";k=y.keyword;break;case "location_only":j="\uc8fc\uc18c '"+b(w)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";k=w;break;case "located_query":case "near_by_query":case "located_branch":j="'"+b(w)+"' \uc8fc\ubcc0 '"+b(y.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023",k=w+" "+y.keyword}"user_location"==c&&!e&&f[0]?1==f.length?(l.$("lower").show(),l.$("lowertext").html("'"+b(f[0])+"' \uc8fc\ubcc0 '"+
b(o)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023"),l.$("lowertext").click(function(){d.notify({keyword:g.keyword,snSelected:!0})})):(l.$("lowerlabel").show(),l.$("lowerlabel").set(f[0]),l.$("lowerbtn").addClass("btn"),a(l.$("lowerwrap").addClass("wrap"),f[0],!1,"snselect"),l.$("lowertext").html("<span class='inline'>\uc8fc\ubcc0 '"+b(o)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023</span>"),l.$("lowertext").click(function(){d.notify({keyword:l.$("lowerlabel").text()+" "+o,snSelected:!0})})):j?(l.$("lower").show(),
l.$("lowertext").html(j),l.$("lowertext").click(function(){d.notify({keyword:k})})):l.$("lower").hide()}if(!(this instanceof arguments.callee))return new arguments.callee;var d=this.onClick=new m,e=this.onSelect=new m,f=[],h="",j=null,l=G("MessageView"),k=291;this.getPane=function(){return l};this.setBound=function(){};this.setKeyword=function(){};this.setSubNumber=function(a){h=a?a.trim():a};this.hideTitle=function(){l.$("upper").hide()};this.setVisible=function(a){l.toggle(a)};var g=null,y=null,
o=null;this.setGuideData=function(a,b,d,e){l.show();g=a[0]||{};y=a[1]||{};o=e||"";f=b;l.$("upper").show();l.$("upperwrap").removeClass("wrap");l.$("upperlabel").empty().removeClass("homonyms").hide();l.$("upperbtn").removeClass("btn");l.$("uppertext").empty();l.$("lower").show();l.$("lowerwrap").removeClass("wrap");l.$("lowerlabel").empty().removeClass("homonyms").hide();l.$("lowerbtn").removeClass("btn");l.$("lowertext").empty().off("click");j&&j.remove&&(j.remove(),j=null);c()}}function Xb(a){var b=
G("NoBusView",{target:"BUSSTOP"==a?"\uc815\ub958\uc7a5":"\ubc88\ud638"});this.getPane=function(){return b}}function Wa(a){Q(this,g,"div","NoRouteView");var b=G("NoRouteContentView");this.onSearchBtnClick=new m;var c=null;b.$("fiyBtn").click(function(){c.channel="ROUTE_NORESULT";Application.fiyFrameController.open(c);q.click("route","go_noresult_"+c.rawInfo.routeType+"_fiy")});this.addClass("NoRouteView-"+a);this.addChild(b);this.setTitle=function(a){b.$("titleInfo").html(a)};this.setFiyData=function(a){c=
a};this.setWalkFiyData=function(a){a.routeType="walk";a.noResult=!0;a.searchInfo={mode:"walk",searchMode:a.method,option:a.option};jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.noResultData={start:{name:a.waypoints[0].name,x:a.waypoints[0].x,y:a.waypoints[0].y},end:{name:a.waypoints[a.waypoints.length-1].name,x:a.waypoints[a.waypoints.length-1].x,y:a.waypoints[a.waypoints.length-1].y}};c={type:"route",rawInfo:a}};this.setDesc=function(a){b.$("noRouteDesc").css("display",
"block");b.$("noRouteDesc").html(a)};this.setIntercityBox=function(a){b.$("intercityBox").show().html(a)};this.hideDesc=function(){b.$("noRouteDesc").hide()}}function Sa(a){Q(this,Cb);this.onPage=new m;this.panel_=g.$(a);this.prev_=g.$(a+".prev");this.next_=g.$(a+".next");this.btn1_=g.$(a+".no1");this.btn2_=g.$(a+".no2");this.btn3_=g.$(a+".no3");this.btn4_=g.$(a+".no4");this.btn5_=g.$(a+".no5");this.prev_.onClick.add(this.showPrev5_,this);this.next_.onClick.add(this.showNext5_,this);this.btn1_.onClick.add(this.showPage1_,
this);this.btn2_.onClick.add(this.showPage2_,this);this.btn3_.onClick.add(this.showPage3_,this);this.btn4_.onClick.add(this.showPage4_,this);this.btn5_.onClick.add(this.showPage5_,this)}function Ja(a,b){Q(this,Pa);this.flagType_=a;this.typeImgUrl_=(a===I.ORIGIN_WHICH_?Pa.ORIGIN:a==I.VIA_WHICH_?Pa.VIA:Pa.DEST)||Pa.ORIGIN;this.placeModel=b;this.dssPlaceObj=null;var c=this.panel_=new g("li");c.addClass("PlaceFlagItem");c.addClass("clickArea");b.pointExtension&&c.addClass("aoi");c.onClick.add(function(a){jQuery(a.target).hasClass("clickArea")&&
this.clickHandler_()},this);c.addChild(this.markerIndex_);c.onEnter.add(this.panelEnter_,this);c.onLeave.add(this.panelLeave_,this);var d=this.infoPanel_=new g("div","infopanel");d.addClass("clickArea");var e=this.flagInfoLayer_=new Qa(Qa[a]);d.addChild(e.getPane());e.onClick.add(function(){this.clickHandler_()},this);e.setVisible(!1);e=this.selectedFlag_=new g("span","flag");e.addClass(a);d.addChild(e);e=this.name_=new g("a");e.addClass("INACTIVE");e.onClick.add(function(){this.clickHandler_()},
this);var f=this.roadview_=new g("span");f.addClass("roadview");f.onClick.add(this.clickRoadview_,this);var h=this.intercity_=new g("a");h.addClass("intercity");h.addClass("HIDDEN");e=new g("h6","clickArea",[e,f,h]);d.addChild(e);e=this.phone_=new g("span","phone");d.addChild(e);e=this.category_=new g("span","subcategory");d.addChild(e);d.addChild(new g("br"));e=this.address_=new g("span");d.addChild(e);this.subAddress_=null;c.addChild(d);this.active_=this.hover_=!1;this.onOver=new m;this.onOut=new m;
this.onDupDataClick=new m}function jd(a){function b(a,b){var c={};b&&(c=jQuery.extend({},c,b));var d=Y.cpg+","+(H+1);c.name=Ia;c.confirmid=Ha;c.cpg=d;c.tab=Y.tab;c.in_map=Y.in_map;c.sorttype=Y.sorttype;c.mkey=Y.mkey;c.analysis=Y.analysis;Y.srcid&&(c.srcid=Y.srcid);void 0!=Y.cidx&&(c.cidx=Y.cidx);a?t.log("search_q_click_"+a,$,c):t.log("search_q_click",$,c)}function c(){ma=!0;l.notify();e()}function d(){ma=!1;k.notify();e()}function e(){var a=!(!ma&&!ha);ka&&P.toggle(!ma);ca.setVisible(ma);s.toggleClass("PlaceItem-ACTIVE",
a)}if(!(this instanceof jd))return new arguments.callee;var f=this.onAction=new m,h=this.onCategory=new m,j=this.onRoadViewWithCourse=new m,l=this.onOver=new m,k=this.onOut=new m,g=this.onRoadview=new m,y=this.onFlagClick=new m,o=this.onFavorite=new m,p=this.onDupDataClick=new m,s=G("PlaceItemView"),v=s.$("para"),r=s.$("fav"),u=s.$("name"),w=s.$("roadview"),D=s.$("storeview"),P=s.$("image"),K=s.$("phone"),U=s.$("freecall"),E=s.$("subcategory"),Z=s.$("wrapAddress"),F=s.$("address"),ea=s.$("rating");
s.$("scoreback");var fa=s.$("star"),oa=s.$("numberofscore"),wa=s.$("review"),J=s.$("numberofreview"),ra=s.$("gasinfo"),z=s.$("card"),x=s.$("cardinfo"),sa=s.$("icon"),na=s.$("moreview"),V=s.$("intercity"),A=s.$("wrapCourseInfo"),C=s.$("website"),L=s.$("openhour"),ia=s.$("tvshowInfo"),ga=s.$("realEstates"),ma=!1,ha=!1,ka=!0,za,M,Ia,Ha,H,R,X,N=null,T=null,S=null,Q=!1,O="NOTHING",$="",Y=null,ca=new Qa;v.prepend(ca.getPane());ca.onClick.add(function(a){y.notify(a);b(a==I.ORIGIN_WHICH_?"start":"end")});
ca.setVisible(!1);s.mouseenter(c);s.mouseleave(d);var ba=function(){Application.roadviewController.getActive()&&Application.roadviewController.close();f.notify(this);0<za&&3!=za?b("ad"):b()}.bind(this);s.click(function(a){jQuery(a.target).hasClass("clickArea")&&ba()});r.click(function(){o.notify()});u.click(ba);w.click(function(){var a=Application.roadviewController,c="ico_mn_b"+M+".png";switch(za){case 0:c="ico_mn_b"+M+".png";break;case 1:c="ico_ms_"+M+".png";break;case 2:c="ico_mp_"+M+".png"}a.setViewpointWithMarker(T,
"http://t1.daumcdn.net/localimg/localimages/07/2009/map/icon/"+c,T.pan,T.tilt,H+1,Application.keywordSearchController.model_.places[H],Application.keywordSearchController.model_.isThemeMode());Application.infoWindowManager.close();require("log/Tiara").log("/fake/search_roadview");g.notify();j.notify(Ha);q.click("roadview","by_mapsearch");a=N.getX().toFixed(0);c=N.getY().toFixed(0);a={panoid:T.panoId,wx:a,wy:c,region:Application.localInfoController.getHCodeForLog()};b("roadview",a)});D.click(function(){Application.roadviewController.showStoreView(S,
0,null,Application.keywordSearchController.model_.isThemeMode());q.click("storeview","enter_by_result");b("storeview",{storeid:S});g.notify()});P.click(function(){Application.roadviewController.getActive()&&Application.roadviewController.close();f.notify(this)}.bind(this));E.click(function(){d();h.notify()});wa.click(function(){b("review")});oa.click(function(){b("star")});U.click(function(){b("freecall")});x.click(function(){b("card")});na.click(function(){b("detail")});this.getId=function(){return Ha};
this.getPane=function(){return s};this.setHover=function(a){ma=!!a;e()};this.setActive=function(a){ha=!!a;e()};this.getActive=function(){return ha};this.setSeq=function(a){H=a};this.setIcon=function(a,b){za=a;M=b;sa.removeClass(O);var c="icon"+a+"_"+b;sa.addClass(c);sa.text(String.fromCharCode(96+b));O=c};this.setAoiIcon=function(a,b){za=a;M=b;sa.removeClass(O);var c="aoi icon"+a+"_"+b;sa.addClass(c);O=c};this.setCoords=function(a){N=a};this.setOutLink=function(a){Ha=a.id;R=a.getLandingUrl();var b=
a.getDaumPlaceUrl();oa.attr("href",b);wa.attr("href",a.getDaumPlaceReviewUrl());x.attr("href",b);b="";switch(a.outsrcId){case "agency":b="\uc911\uac1c\uc5c5\uc18c";break;case "land":case "land_hotissue":case "bunyang":b="\ubd80\ub3d9\uc0b0";break;default:b="\uc0c1\uc138\ubcf4\uae30"}s.$("moreText").text(b);na.attr("href",R);a.subway&&ea.find(">span, >a").filter(":not(.moreview)").remove()};this.setImage=function(a,b){3==a?ka=!1:(!a||!b?(ka=!1,P.hide()):b&&(ka=!0,P.attr("src",b).show()),s.toggleClass("imgVisible",
ka))};this.setName=function(a,b){Ia=a;var c=22;T&&(c-=6);S&&(c-=6);Q&&(c-=3);var d="",c=c||2147483647;u.attr("title",a);a.length>c&&(--c,d="..");if(b){var e=a.toLowerCase().indexOf(b.toLowerCase());if(0<=e){c=[e,e+b.length,a.length,c,c,c];c.sort(function(a,b){return a-b});u.html(a.substring(0,c[0])+"<strong>"+a.substring(c[0],c[1])+"</strong>"+a.substring(c[1],c[2])+d);return}var f=b.replace(/\s/g,""),e=a.toLowerCase().indexOf(f.toLowerCase());if(0<=e){c=[e,e+f.length,a.length,c,c,c];c.sort(function(a,
b){return a-b});u.html(a.substring(0,c[0])+"<strong>"+a.substring(c[0],c[1])+"</strong>"+a.substring(c[1],c[2])+d);return}}u.set(a.substring(0,c)+d)};this.setRoadview=function(a){a&&(T=a,w.show())};this.setStoreview=function(a){a&&(S=a,D.show())};this.setIntercity=function(a,b,c){a&&(Q=!0,V.show(),V.click(function(){q.click("intercity","intercity_by_mapsearch");var d=c.replace(/\s/g,"");require("server")[a]({id:b,name:d})}))};this.setExactData=function(a){a&&(C.attr("href",a).show(),C.click(function(){t.log("search_q_click_homepage",
$,{name:Ia,confirmid:Ha})}))};this.setPhone=function(a){a&&(K.set(a),K.show())};this.setCategory=function(a){if(a){X=a.id||null;E.toggleClass("clickable",!!a.id);var b=String.stripTags(a.name),c=ka?8:15,b=b.split(" > ").filter(Boolean).pop(),b=String.cut(b,c);E.set(b);E.show();a.id||E.off("click")}else E.hide()};this.setCourseinfo=function(a){a&&a.dest&&(A.show(),G("PlaceItemCourseInfo",a).appendTo(A))};this.setAddress=function(a,b){if(!a&&!b)Z.hide();else if(Z.show(),b){var c=s.$("newaddr").show();
c.attr("title",b);c.text(b);a?(s.$("addressWrap").show(),F.addClass("subAddress"),F.attr("title",a),F.set(a)):s.$("addressWrap").hide()}else a&&(s.$("addressWrap").show(),F.attr("title",a),F.set(a))};this.setScoreReviewCheckin=function(a,b,c){a=a.toFixed(1);fa.width(10.8*a);fa.attr("title",a+"\uc810");fa.text("\ubcc4\uc810"+a+"\uc810");b=String.formatNumber(b)+"\uac74";oa.set(b);J.set(String.formatNumber(c))};this.setGas=function(a){if(a){P.hide();ea.hide();ra.show();ra.empty();var b={"\ud718\ubc1c\uc720":a.gasPrice,
"\uace0\uae09":a.premiumGasPrice,"\uacbd\uc720":a.dieselPrice,LPG:a.lpgPrice};23==Application.keywordSearchController.placeSortOptions_.getOption()&&a.lpgPrice&&(b["\uace0\uae09"]=null);var a=!0,c=0,d="",e;for(e in b)b[e]&&3>c&&(a||(d+='<span class="groove"></span>'),d+=e+'<em class="gasprice">'+String.formatNumber(b[e])+"</em>\uc6d0",ra.html(d),c++,a=!1)}};this.setCards=function(a){if(a=a[0])z.show(),x.show().html('<span class="card"></span>'+a.benefit)};this.setFavorite=function(b){a.createFavorite(r,
B.createFromPlace(b))};this.setDupData=function(a){if(a){s.addClass("PlaceItem-DUP");var b=G("DupListView");b.show();b.$("dup_cnt").text(a.length);b.$("dupToggle").click(function(){b.$("duplist").toggle();jQuery(this).toggleClass("on")});var e=b.$("duplist");e.mouseenter(d);e.mouseleave(c);a.forEach(function(a,c){if(a.name){var d=new Md(a,1==c%2);d.getPane().appendTo(b.$("duplist"));d.onClick.add(function(a){ha=!1;p.notify(a)})}});b.appendTo(s)}};this.setKeyword=function(a){$=a};this.setOpenhour=
function(a){if(a){var b=a.object("realtime"),c="Y"==b.text("holiday"),d="853"==X||"681"==X,e="",f="";mergeStrFunc=function(a,b){return a.join(b||" ").replace(/(\s)+/g," ").trim()};if(!c&&"Y"!=b.text("onlyDisplay")){var h=b.object("currentPeriod"),j=h.find("timeList");"Y"==b.text("breaktime")&&(j=[h.object("matchedTime")]);j.forEach(function(a){a instanceof Ga&&(e&&(e+=" &middot; "),e+=mergeStrFunc([a.text("timeName"),a.text("dayOfWeek"),a.text("timeSE")]," "))})}if(c||d)a=a.find("offdayList"),c&&
(a=[b.object("matchedHoliday")]),a.forEach(function(a){if(a instanceof Ga){var b=a.find("dateList"),c=a.text("weekAndDay"),e="";b.forEach(function(a){e&&(e+=", ");e+=a.text("value")});f&&(f+=", ");a=d&&e&&c?[a.text("holidayName"),e,"("+c+")"]:[a.text("holidayName"),c||e];f+=mergeStrFunc(a," ")}});e=e.replace(/^\uc601\uc5c5\uc2dc\uac04\s/,"&nbsp;");f=f.replace(/^\ud734\ubb34\uc77c\s/,"&nbsp;");if(e||f)L.show(),e&&(L.$("periodWarp").show(),L.$("periodTxt").html(e)),f&&(L.$("holidayWarp").show(),L.$("holidayTxt").html(f)),
L.$("openhourMore").attr("href",R+"?openhour=1")}};this.setTVShowInfo=function(a){if(a){ia.show();var b=a[0]+" "+a[1]+" "+a[2];ia.$("tvtxt").attr("title",b);14<a[0].length?ia.$("tvtxt").text(a[0]+" "+a[1]+"..."):ia.$("tvtxt").text(b)}};this.setDssPlaceObj=function(a){Y=a};this.dssClickHandler=function(a){b(a)};this.setRealEstates=function(a){if(a){var b=a.split("|");["\ub9e4\ub9e4","\uc804\uc138","\uc6d4\uc138"].forEach(function(a,c){ga.append(a+" "+(b[c]||0));2>c&&ga.append(jQuery('<span class="split"> | </span>'))});
ga.show();ga.append(jQuery("<br/>"))}};this.noAdReview=function(){s.$("score").hide();s.$("scoreGroove").hide();wa.hide();s.$("reviewGroove").hide();ia.hide()};this.setEvent=function(a){var b="\ud0a4\uc988\ub178\ud2b8",c=a,d="",a=a.split("^");2<=a.length&&(a[0]&&a[1])&&(b=a[0],c=a[1],d=a[2]);ia.hide();s.$("eventInfo").show();s.$("eventtype").text(b);d?s.$("eventtxt").html('<a href="'+d+'" target="_blank">'+c+"</a>"):s.$("eventtxt").text(c)}}function Ud(a,b){function c(a){if(a!=k){var b=0;f.find(".recom").each(function(c){jQuery(this).animate({top:b},
{duration:150});c==a?(b+=0==a?139:140,jQuery(this).find(".title").slideUp(150)):(b+=a==c+1?35:36,jQuery(this).find(".title").slideDown(150))})}k=a}var d=this.onClick=new m,e=this.onThemeClick=new m;this.onAirClick=new m;var f=G("RecommendThemeListView").appendTo(a),h=b[0].id,j=b[0].banner;f.$("thememap").css("background",'url("'+j+'") 0px -36px no-repeat');f.$("themetitle").css("background",'url("'+j+'") 0px 0px no-repeat');var l={id:0};b[1]&&0===l.id&&(l=b[1]);f.$("thememap2").css("background",'url("'+
l.banner+'") 0px -35px no-repeat');f.$("themetitle2").css("background",'url("'+l.banner+'") 0px 0px no-repeat');f.find(".thememore").on("click",function(a){a.stopPropagation();a.preventDefault();e.notify()});f.find(".thememore2").on("click",function(a){a.stopPropagation();a.preventDefault();e.notify()});var k=-1;c(Math.random()*f.find(".recom").size()|0);f.find(".recom").each(function(a,b){jQuery(b).click(function(){0==a?e.notify(h):1==a?e.notify(l.id):d.notify(a);q.click("left","theme_banner"+(a+
1))});var f=new bb(150,function(){c(a)});jQuery(b).mouseenter(function(){f.start()});jQuery(b).mouseleave(function(){f.stop()})});this.selectItem=function(a){c(a)};this.show=function(){a.show()};this.hide=function(){a.hide()}}function Yc(a){Q(this,g,"a","RoadviewPreview");this.onEmpty=new m;this.thumnail_=a;a=this.imagePanel_=new g("img");a.toPane().attr({width:120,height:100});a.setSrc(this.thumnail_);a.addClass("roadviewImage");this.addChild(a);a=new g("div");a.addClass("roadViewOutPanel");a.onEnter.add(this.overRoadViewEmptyPanel,
this);this.addChild(a)}function Td(a){function b(a){Application.isLoadingViewShow||(d&&(e=a,q.click("route","go_"+a)),c.notify(d))}if(!(this instanceof arguments.callee))return new arguments.callee(a);var c=new m;this.onChange=c;var d=!1,e="",f=G("RouteMethodTabView").appendTo(a);f.$("car").click(ya(b,"car"));f.$("transit").click(ya(b,"transit"));f.$("walk").click(ya(b,"walk"));this.getActive=function(){return d};this.setActive=function(a){a!=d&&(d=a,f.toggleClass("RouteMethodTabView-active",!!a),
this.clearEstimateTime());return this};this.clearEstimateTime=function(){f.removeClass("RouteMethodTabView-time");return this};this.setEstimateTime=function(){if(d)return f.addClass("RouteMethodTabView-time"),this};this.setIndex=function(a){e=a;f.$("car").toggleClass("car-active","car"==a);f.$("transit").toggleClass("transit-active","transit"==a);f.$("walk").toggleClass("walk-active","walk"==a);return this};this.getIndex=function(){return e}}function Aa(){Q(this,g,"div","RoutePoiControlView");this.onChange=
new m;var a=this.cctvBtn_=new g("div","cctvBtn"),b=new g("span","cctvImg");a.addChild(b);this.addChild(a);a=this.accidentBtn_=new g("div","accidentBtn");b=new g("span","accidentImg");a.addChild(b);this.addChild(a);a=this.gasBtn_=new g("div","gasBtn");b=new g("span","gasImg");a.addChild(b);this.addChild(a);a=this.serviceBtn_=new g("div","serviceBtn");b=new g("span","serviceImg");a.addChild(b);this.addChild(a);a=this.trafficBtn_=new g("div","trafficBtn");b=new g("span","trafficImg");a.addChild(b);a.onClick.add(this.clickTraffic_,
this);this.trafficClickable(!0);a.addClass("clickable");this.addChild(a)}function Ta(a,b,c){function d(a){return jQuery("#"+a.replace(/\./g,"\\."))}Q(this,Cb);a&&(this.panel_=d(a),this.list_=d(a+".list"),this.more_=d(a+".more"),console.assert("function"==typeof b),this.factory_=b,this.onAction=new m,this.onMore=new m,this.more_.click(this.clickMore_.bind(this)),this.itemView_=[],this.buttonFactory_=c)}function lc(a){Q(this,Cb);this.onOption=new m;(this.panel_=g.$(a)).addClass("Sort")}function Jc(a,
b){console.assert(b&&b.length);Q(this,Cb);this.onClose=new m;this.onSwitch=new m;var c=this.panel_=new g("div");c.addClass("SkyviewHistoryLegend");var d=new g("a");d.addClass("closerBtn");d.onClick.add(this.clickCloser_,this);c.addChild(d);var d=new g("h5"),e=new g("em");e.addText(a+"\ub144");d.addChild(e);d.addText(" \ucd2c\uc601\uc9c0\uc5ed");c.addChild(d);d=new g("a");d.addClass("switch");d.onClick.add(this.clickSwitch_,this);c.addChild(d);d=new g("img");d.setSrc("http://t1.daumcdn.net/localimg/localimages/07/2016/pc/sky/sky_"+
a+".png");c.addChild(d);var f=new g("ul");c.addChild(f);b.forEach(function(a){var b=new g("li");b.addText(a);f.addChild(b)})}function Od(a){Q(this,Cb);this.onKeyword=new m;this.panel_=g.$(a);this.list_=g.$(a+".list")}function kc(a){Q(this,Cb);this.id_=a;this.panel_=g.$(a);this.candidate_=g.$(a+".candidate");this.candidate_.onClick.add(this.clickCandidate_,this);this.onClick=new m}function zc(){Q(this,g,"div","SubwayFunctionToolBar");var a=this.print_=new g("a");a.addClass("print");a.onClick.add(this.clickPrint_,
this);var b=this.favorite_=new g("a");b.addClass("favorite");b.onClick.add(this.clickFavorite_,this);var c=this.showMap_=new g("a");c.addClass("showFiy");c.onClick.add(this.clickshowMap_,this);this.addChild(a);this.addChild(b);this.addChild(c);this.onClick=new m}function we(a){function b(){var b=a.firstNode,c=jQuery('<p class="detailStartEndNode"></p>'),d=N.subwayCode[b.subwayId]||[],d=b.name+"("+d[1]+")",e=b.time.substring(0,5);c.append(jQuery('<span class="startIcon"></span>'));c.append(jQuery('<span class="time">'+
e+"</span>"));c.append(jQuery('<span class="name">'+d+"</span>"));p.append(c);var f=jQuery('<ul class="detailSectionsView"></ul');g.forEach(function(a){a=new xe(a);f.append(a.getPanel())});var h=jQuery('<li class="SubwayRouteSectionItem"></li>'),c=jQuery('<div class="SubwayRouteSectionItemWrap"></div>'),b=jQuery('<div class="infoWrap"></div>'),d=N.subwayCode[y.subwayId]||[];c.addClass(d[0]);e=y.arrTime.substring(0,5);b.append(jQuery('<span class="time">'+e+"</span>"));d=jQuery('<span class="name"></span>');
e=jQuery('<a href="#">'+y.name+"</a>");e.on("click",function(){y.id&&open(require("url").DAUM_PLACE+y.id)});d.append(e).append(" \ud558\ucc28");b.append(d);c.append(b);h.hover(function(){h.addClass("SubwayRouteSectionItem-HOVER")},function(){h.removeClass("SubwayRouteSectionItem-HOVER")});h.append(c);f.append(h);p.append(f);b=a.lastNode;c=jQuery('<p class="detailStartEndNode boldBottom"></p>');d=N.subwayCode[b.subwayId]||[];d=b.name+"("+d[1]+")";e=b.arrTime.substring(0,5);c.append(jQuery('<span class="endIcon"></span>'));
c.append(jQuery('<span class="time">'+e+"</span>"));c.append(jQuery('<span class="name">'+d+"</span>"));p.append(c);o=!0}var c=this.onSelected=new m,d=G("SubwayRouteResultItemView"),e=!1,f=d.$("time"),h=a.totalTimeMinutes||0,j=a.totalTimeHours||0;if(j){var l=new Va("bigNumber");l.setValue(j);l.appendTo(f);f.append(jQuery('<span class="hourTxt screen_visible">\uc2dc\uac04</span>'))}h%60&&(j=new Va("bigNumber"),j.setValue((h%60).toString()),j.addClass("minute"),j.appendTo(f),f.append(jQuery('<span class="minitueTxt screen_visible">\ubd84</span>')));
h=jQuery('<span class="routeInfo"></span>');h.append(jQuery('<span class="parenthesesleft"></span>'));j=new Va("transitmini");j.setValue(a.stationCount);j.appendTo(h);h.append(jQuery('<span class="countFstTxt">\uac1c</span>'));h.append(jQuery('<span class="countLstTxt">\uc5ed</span>'));h.append(jQuery('<span class="comma">,</span>'));a.transferCount?(j=new Va("transitmini"),j.setValue(a.transferCount),h.append(jQuery('<span class="transfer">\ud658\uc2b9</span>')),j.appendTo(h),h.append(jQuery('<span class="cntTxt">\ud68c</span>'))):
(h.append(jQuery('<span class="transfer">\ud658\uc2b9</span>')),h.append(jQuery('<span class="noTransfer">\uc5c6\uc74c</span>')));h.append(jQuery('<span class="parenthesesright"></span>'));j=0;a.isFastest&&2>j&&(h.append(jQuery('<span class="isFastest"></span>')),j++);a.isMinTransfer&&2>j&&(h.append(jQuery('<span class="isMinTransfer"></span>')),j++);a.fastestArrival&&2>j&&(h.append(jQuery('<span class="fastestArrival"></span>')),j++);a.optimisticDeparture&&2>j&&(h.append(jQuery('<span class="optimisticDeparture"></span>')),
j++);f.append(h);f=d.$("fare");h="\uc694\uae08\uc815\ubcf4\uc5c6\uc74c";a.cardFare&&(h="\uce74\ub4dc "+String.formatNumber(a.cardFare)+"\uc6d0");a.cashFare&&(a.cardFare&&(h+="<span> | </span>"),h+="\ud604\uae08 "+String.formatNumber(a.cashFare)+"\uc6d0");f.html(h);var k=d.$("outLineView"),g=a.sectionRoutes,f=g[g.length-1],y=f.nodes[f.nodes.length-1];g.forEach(function(a){if(a.id&&a.type!="TRANSFER"){var b=N.subwayCode[a.id]||[],c=jQuery('<p class="outLineNode '+b[0]+'"><span class="icon"></span><span class="line"></span><span class="endIcon"></span></p>'),
d=a.nodes[0],b=d.name+"("+b[1]+")",d=d.time.substring(0,5);c.append(jQuery('<span class="time">'+d+"</span>"));b=jQuery('<span class="name">'+b+"</span>");a.hasExpressTrain&&a.expressTrainType&&b.append(jQuery('<span class="trainType trainType_'+a.expressTrainType+'">\uc5f4\ucc28\uc885\ub958</span>'));c.append(b);if(d=="--"){c.addClass("noTime");c.append(jQuery('<span class="redInfo">\uc5f4\ucc28 \uc6b4\ud589 \uc885\ub8cc</span>'))}else if(a.noTimeText){c.addClass("noTime");c.append(jQuery('<span class="redInfo">'+
a.noTimeText+"</span>"))}k.append(c)}});f=jQuery('<p class="outLineNode"></p>');h=y.name+"("+(N.subwayCode[y.subwayId]||[])[1]+")";j=y.arrTime.substring(0,5);f.append(jQuery('<span class="time">'+j+"</span>"));f.append(jQuery('<span class="name">'+h+"</span>"));k.append(f);d.hover(function(){e||d.addClass("SubwayRouteResultItem-HOVER")},function(){e||d.removeClass("SubwayRouteResultItem-HOVER")});var o=!1;d.find(".clickArea").on("click",function(){e=!e;d.toggleClass("SubwayRouteResultItem-DETAIL",
e);d.toggleClass("SubwayRouteResultItem-HOVER",!e);if(e){c.notify();o||b()}});var p=d.$("detailView");this.getPanel=function(){return d};this.setActive=function(a){d.toggleClass("SubwayRouteResultItem-ACTIVE",a)};this.setDetail=function(a){e=a;d.toggleClass("SubwayRouteResultItem-DETAIL",e);d.removeClass("SubwayRouteResultItem-HOVER");e&&!o&&b()}}function xe(a){var b="TRANSFER"==a.type,c=N.subwayCode[a.id]||[],d=G("SubwayRouteSectionItemView");d.addClass(c[0]);var e=d.$("line");b&&(e.removeClass("line").addClass("transfer"),
d.$("endIcon").hide());var f=d.$("infoWrap");a.time&&d.$("time").text(a.time);a.name&&(e=jQuery('<a href="#">'+a.name+"</a>"),e.on("click",function(){a.nodes[0]&&a.nodes[0].id&&open(require("url").DAUM_PLACE+a.nodes[0].id)}),d.$("name").append(e),d.$("name").append(b?" \ud558\ucc28":" \uc2b9\ucc28"),b||a.hasExpressTrain&&a.expressTrainType&&d.$("name").append(jQuery('<span class="trainType trainType_'+a.expressTrainType+'">\uc5f4\ucc28\uc885\ub958</span>')));b||("--"==a.time?d.$("name").after(jQuery('<p class="redInfo">\uc5f4\ucc28 \uc6b4\ud589 \uc885\ub8cc</p>')):
a.noTimeText&&d.$("name").after(jQuery('<p class="redInfo">'+a.noTimeText+"</p>")));!b&&a.direction?d.$("direction").text(c[1]+" "+a.direction):b&&a.walkTime&&d.$("direction").text("\ub3c4\ubcf4\ub85c \uc774\ub3d9 ("+(parseInt(a.walkTime/60)||1)+"\ubd84)");a.fastTransferInfo&&d.$("fastTransfer").text("\ube60\ub978 \ud658\uc2b9 "+a.fastTransferInfo);var h=!1,e=d.$("stationCount"),j=a.nodes,g=j.length;if(0<g-1&&!b){e.text(g-1+"\uac1c\uc5ed \uc774\ub3d9");if(1==g-1)e.addClass("noStationCount");else e.on("click",
function(){h=!h;f.toggleClass("nodeDetail",h);d.toggleClass("SubwayRouteSectionItem-DETAIL",h)});var k=d.$("nodes");k.addClass("detail_"+c[0]);j.forEach(function(a,b){if(!(b==0||b>=g-1)){var c=jQuery('<li class="node"><span class="dot"></span><span class="time">'+a.time+'</span><span class="name">'+a.name+"</span></li>");k.append(c)}})}else e.hide();d.hover(function(){d.addClass("SubwayRouteSectionItem-HOVER")},function(){d.removeClass("SubwayRouteSectionItem-HOVER")});this.getPanel=function(){return d}}
function Zc(a){this.item=a;this.name_=a.name;a=this.panel_=new g("strong");a.setText(this.name_);a.onClick.add(this.showStationInfo_,this)}function yb(a,b,c,d){function e(a){w&&w!=a&&w.removeClass("showSubList");D=w=null;b.hide()}function f(a){r&&(a&&r[0]==a[0])&&(r=a);r&&r!=a&&r.removeClass("poi_active");u=r=null;e(a)}function h(a){s.notify(a);q.click("dotsearch",a.type)}function j(a){o();r=F.find(".poi_item:has(."+a.type+")").addClass("poi_active");var b;yb.THEME_POIS.some(function(c,d){c.items.forEach(function(c){c.type==
a.type&&(b=c,E=U[d],K.removeClass().addClass(E))});return b});u=b.id||yb.THEME_SUB[b.name][a.sub||0].id;h({id:u,type:a.type})}function g(a){o();var b=null;yb.THEME_POIS.some(function(c){c.items.some(function(c){if(a==c.id)b={id:a,type:c.type};else if(""==c.id){var d=yb.THEME_SUB[c.name];d&&d.forEach(function(d){d.id==a&&(b={id:a,type:c.type})})}return b});return b});b&&(r=F.find(".poi_item:has(."+b.type+")").addClass("poi_active"),u=b.id,h(b))}function k(){fa&&clearTimeout(fa);oa&&clearTimeout(oa);
oa=fa=null}function n(){F.addClass("animating");p.hasClass("ThemePoiControlView_route")&&F.animate({left:44},wa);F.find(".mid").animate({left:P},wa);F.find(".lst").animate({left:2*P},wa,function(){F.removeClass("animating")});ea.animate({width:117},wa);jQuery(document.body).on("click",y)}function y(){b.hide();jQuery(".poi_item",p).removeClass("showSubList");F.addClass("animating");F.animate({left:0},wa);F.find(".fst").animate({left:0},wa);F.find(".mid").animate({left:0},wa);F.find(".lst").animate({left:0},
wa,function(){p.removeClass("ThemePoiControlView_active");p.removeClass("ThemePoiControlView_routeActive");F.removeClass("animating");K.removeClass().addClass(E)});k();ea.animate({width:41},wa);jQuery(document.body).off("click",y)}function o(){f();p.removeClass("ThemePoiControlView_active");jQuery(".poi_item",p).removeClass("poi_active");jQuery(".poi_item",p).removeClass("poi_hover");jQuery(".poi_item",p).removeClass("showSubList");v.notify();E=U[0];K.removeClass().addClass(E)}var p=jQuery("<div>").addClass("ThemePoiControlView"),
s=this.onPoiActive=new m,v=this.onPoiClear=new m;this.onThemeToIndex=new m;p.append(a.getElement());p.append(b.getElement());b.hide();var r=null,u=null,w=null,D=null,P=38,K=jQuery("<div/>").appendTo(p),U=["fstLabel","midLabel","lstLabel"],E=U[0],Z="",F=jQuery("<ul>").addClass("Wrap").appendTo(K);K.addClass(E);yb.THEME_POIS.forEach(function(a,c){var j=0==c?"fst":1==c?"mid":"lst";a.items.forEach(function(a,k){var g=jQuery("<li><span class='"+a.type+"'></span></li>").addClass("poi_item");g.addClass(j);
g.css({top:46*k,left:0});g.click(function(j){j.stopPropagation();Z=U[c];yb.THEME_SUB[a.name]?(e(g),g.toggleClass("showSubList").hasClass("showSubList")&&(w=g,D=a.type,j=g.position(),j.left+=F.position().left,b.setPosition(j),j=yb.THEME_SUB[a.name],0<j.length&&(b.setData(j),b.setActive(u)))):(f(g),g.toggleClass("poi_active").hasClass("poi_active")?(r=g,u=a.id,h(a),d.log("/fake/theme"),E=Z):(E=U[0],v.notify()))});F.append(g)})});c.onShow.add(function(){p.addClass("ThemePoiControlView-OFF")});c.onCloseRoadview.add(function(){p.removeClass("ThemePoiControlView-OFF")});
var ea=jQuery('<li class="bottom"></li>').appendTo(F);b.onClick.add(function(a){var b={type:D,id:a.id},c=w;f();r=c;u=a.id;r.addClass("poi_active");h(b);d.log("/fake/theme");E=Z});b.onClear.add(function(){E=U[0];v.notify();f()});var fa=null,oa=null;p.hover(function(){k();p.hasClass("ThemePoiControlView_active")||(fa=setTimeout(function(){p.addClass("ThemePoiControlView_active");n();K.removeClass();k()},30))},function(){k();p.hasClass("ThemePoiControlView_active")&&!b.getVisible()&&(oa=setTimeout(y,
30))});var wa=50;this.setRouteControlView=function(a){a?p.addClass("ThemePoiControlView_route"):p.removeClass("ThemePoiControlView_route")};this.getRouteView=function(){return a};this.getElement=function(){return p[0]};this.getActive=function(){return r?!0:!1};this.getAcitveId=function(){return u};this.setThemeToObject=function(a){j(a)};this.setThemeToId=function(a){g(a)};this.clearAll=function(){o()}}function Kc(){Q(this,g,"div");this.addClass("TransitFunctionToolBar");var a=this.print_=new g("a");
a.addClass("print");a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new g("a");b.addClass("favorite");b.onClick.add(this.clickFavorite_,this);var c=this.alook_=new g("a");c.addClass("alook");c.onClick.add(this.clickAlook_,this);this.addChild(a);this.addChild(b);this.addChild(c);this.onClick=new m}function ye(a){function b(a){var b="";"KTX"==a?b="KTX":"ITX"==a?b="ITX":"SRT"==a?b="SRT":"\uc0c8\ub9c8\uc744"==a?b="SAEMAEUL":"\ubb34\uad81\ud654"==a?b="MUGUNGHWA":"\ub204\ub9ac\ub85c"==a?b="NURIRO":
"\ud1b5\uadfc"==a?b="TONGGEUN":"ITX\uc0c8\ub9c8\uc744"==a?b="ITXSAEMAEUL":"DMZtrain"==a&&(b="DMZT");return b}function c(){var b=a.start,c=a.end,d=b.text("type"),e=c.text("type");d&&(d=d.toLowerCase(),w.addClass(d));D.text(b.text("name"));e&&(e=e.toLowerCase(),P.addClass(e));K.text(c.text("name"));if(a.reservation||k)(a.vehicleType==C.TRAIN||k)&&U.addClass("not_realtime"),U.click(function(){var b=Application.transitRouteSearchController.panel_.dssObject_;b&&t.log("path_transit_click_timetable",b.q,
{tab:b.tab,mkey:b.mkey,cpg:b.cpg,qidx:b.qidx});if(a.vehicleType==C.TRAIN)if(a.subType=="SRT"){q.click("route","go_public_intercityinfo_train_srt");A.open("http://www.srail.co.kr")}else{q.click("route","go_public_intercityinfo_train");A.open("http://www.letskorail.com")}else{b={};if(a.start){b.s_id=a.start.text("id");b.s_name=a.start.text("name")}if(a.end){b.e_id=a.end.text("id");b.e_name=a.end.text("name")}a.vehicleType==C.FERRY?q.click("route","go_public_intercityreservation_ship"):q.click("route",
"go_public_intercityreservation_bus");require("server").interCityTimetable(b)}})}function d(){var b=a.end;b.text("type");j==C.TRANSFER_CAR?(w.addClass("taxi"),D.text(b.text("name")+"\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9")):j==C.TRANSFER_WALK?(w.removeClass("INTERCITY").addClass("walk"),D.text(b.text("name")+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9")):r.hide()}function e(){ea=new g("ol","public_detail");fa=[];a.publicSteps.forEach(function(b,c){var d=null;b.walk&&b.type!=N.OTHER?(b.walkGroup.walkGuide=
!1,d=new ic(b.walkGroup)):d=new Pd(b);ea.addChild(d.getPane());c==a.publicSteps.length-1&&d.setLast();0==c&&d.setFirst();d.onClick.add(function(){v.notify(c)},this);fa.push(d)},this);ea.appendTo(n);ea.hide()}function f(a){E&&(!0===a?h(!0):!1===a?h(!1):Z?h(!1):h(!0))}function h(a){a?(E.addClass("detailOn"),ea.show(),F.getPane().hide(),Z=!0,q.click("route","go_public_innerdetail")):(E.removeClass("detailOn"),Z=!1,ea.hide(),F.getPane().show())}console.assert(a instanceof C);var j=this.vehicleType=a.vehicleType,
l=a.routeType,k=!1;j==C.TRAIN&&(k=!0);var n=G("TransitInterPointItemView",{isInterTraffic:l==C.INTERCITY?!0:!1,isCustomType:j==C.TRANSFER_CUSTOM?!0:!1,isOneLineSummary:j==C.TRANSFER_WALK||j==C.TRANSFER_CAR?!0:!1,longInterval:a.longInterval,hasReservation:a.reservation||k,destination:a.end.text("name")}),y=this.onClick=new m,o=this.onOver=new m,p=this.onOut=new m;this.onPointClick=new m;this.onPointOver=new m;this.onPointOut=new m;var s=this.onDetailBtnForLog=new m,v=this.onChildPointClick=new m,r=
n.$("trans_type_header"),u=n.$("trans_inter_time"),w=n.$("startSummaryIcon"),D=n.$("startName"),P=n.$("endSummaryIcon"),K=n.$("endName"),U=n.$("reservationBtn"),E=n.$("detailBtn"),Z=!1,F=null,ea=null,fa=[],oa=!1;n.click(function(a){a=jQuery(a.target);if(!a.hasClass("reservation_btn")&&!(a.hasClass("detailBtn")||0<a.closest(".public_detail").length))Z?f(!1):y.notify()});n.hover(function(){o.notify()},function(){p.notify()});"TRAIN"==j?r.addClass(b(a.subType)):r.addClass(j);(function(){var b=a.time.replace("\uc2dc\uac04",
"\uc2dc\uac04 "),c="",d="";if(j!=C.TRANSFER_WALK&&j!=C.TRANSFER_CUSTOM){b+=" (";if(a.fare||a.taxiFare)c="\uc57d "+(a.fare||a.taxiFare);a.distance&&(d="\uac70\ub9ac "+a.distance);c||d?(b+=c,c&&d&&(b+='<span class="bar">|</span>'),b+=d):b+="\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c";b+=")"}u.html(b)})();j==C.TRANSFER_PUBLICTRAFFIC?(F=new $c(a.publicSummaries),n.append(F.getPane().removeClass("clickArea").addClass("detail_summary")),e(),E.show(),E.click(function(a){Z||s.notify();f(a)})):(l==C.PUBLICTRAFFIC?
d():c(),E.hide(),E=null);this.setItemActive=function(a){oa=a;n.toggleClass("TransitPointItem-ACTIVE",oa);f(a);if(a)switch(this.vehicleType){case C.EXPRESS_BUS:case C.INTERCITY_BUS:q.click("route","go_public_expressbuscell");break;case C.TRAIN:q.click("route","go_public_traincell");break;case C.AIRPLANE:q.click("route","go_public_flightcell");break;case C.FERRY:q.click("route","go_public_shipcell");break;case C.TRANSFER_CAR:q.click("route","go_public_taxicell");break;case C.TRANSFER_WALK:q.click("route",
"go_public_walkcell");break;case C.TRANSFER_CUSTOM:q.click("route","go_public_noticell")}};this.setItemHighlight=function(a){oa||n.toggleClass("TransitPointItem-ACTIVE",a)};this.getPane=function(){return n};this.deActiveDetailRoute=function(){n.$("moreRouteWrap").removeClass("open")};this.setLast=function(){}}function lb(a){Q(this,g,"li","TransitRouteItem");this.addClass("InterTransitRouteItem");this.busLineBtnClick=new m;this.onPointClick=new m;this.onDestination=new m;this.onWalkDetail=new m;this.onDetail=
new m;this.onOver=new m;this.onOut=new m;this.onWalkRoadview=new m;this.route_=a;this.onChildPointClick=new m;this.addChild(new g("div","top_line"));var b=(new g("div","title")).addClass("clickArea");this.addChild(b);var c=(new g("div","time_wrap")).addClass("clickArea"),d=a.totalTime,e=(d-d%60)/60,f=new g("span","time");if(e){var h=new Va("bigNumber");h.setValue(e);f.addChild(h);f.addChild((new g("span","hourTxt","\uc2dc\uac04")).addClass("screen_visible"))}"0"!=(d%60).toString()&&(e=new Va("bigNumber"),
e.setValue((d%60).toString()),e.addClass("minute"),f.addChild(e),f.addChild((new g("span","minitueTxt","\ubd84")).addClass("screen_visible")));c.addChild(f);b.addChild(c);d=this.detailButton_=new g("span","right_detail",new g("a","detail"));d.onClick.add(this.clickDetail_,this);c.addChild(d);c=new g("div","transTypeInfo");d=new g("span","trans_type_icon");f=a.subType||a.type;0<a.transfers&&!a.transferOneType&&(f="TRANSFER");d.addClass(f);c.addChild(d);c.addChild(new g("span","inter_time",a.timeText.replace("\uc2dc\uac04",
"\uc2dc\uac04 ")+" ("+(a.fare?"\uc57d "+a.fare:"\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c")+")"));c.addClass("clickArea");b.addChild(c);this.addChild((new $c(a.summaries)).getPane());b=this.transitlist_=new g("ol","");this.pointItemViews_=[];this.addChild(b);this.onClick.add(this.clickSelf_,this);this.bounds_=a.bounds;this.onEnter.add(function(){this.getActive()||this.addClass("TransitRouteItem-OVER");this.onWrapOver.notify()},this);this.onLeave.add(function(){this.getActive()||this.removeClass("TransitRouteItem-OVER");
this.onWrapOut.notify()},this);this.addChild(new g("div","bottom_line"));this.onWrapOver=new m;this.onWrapOut=new m;this.onDetailBtnForLog=new m}function Pd(a){function b(){if(null==a.roadview)j.hide();else{var b=new Ib(j);b.setThumnail(a.roadview.thumbnail);b.onClick.add(function(){e.notify(null)});b.onOver.add(function(){w=!0});b.onLeave.add(function(){null!=b&&(b=null);w=!1;h.notify()})}}console.assert(a instanceof N);var c=G("TransitPointItemView",{isNodes:0!=a.nodes.length&&!a.isInterPublic?
!0:!1,nodes:a.nodes,nodeCode:a.subwayCode?a.subwayCode:"buscode",isPublicPoint:a.isInterPublic?!1:!0,isInterPublic:a.isInterPublic?!0:!1,isOther:a.type==N.OTHER?!0:!1}),d=this.onClick=new m,e=this.onRoadview=new m,f=this.onOver=new m,h=this.onOut=new m,j=c.$("roadview");c.$("busArrivalBtn");var g=c.$("subwayLineBtn"),k=c.$("name"),n=c.$("summaryIcon"),y=c.$("tp_line"),o=c.$("desc");c.$("tip");var p=c.$("moreRoute"),s=c.$("detailRoute"),v=c.$("vehicles"),r=!1,u=!1,w=!1;c.click(function(b){b=jQuery(b.target);
!b.hasClass("vehicle")&&(!b.hasClass("subwaylineBtn")&&!b.hasClass("nodeName"))&&(a.subway?q.click("route","go_public_subwaystation"):a.busStop&&q.click("route","go_public_busstop"),d.notify())});c.hover(function(){f.notify();c.addClass("hover_item")},function(){c.removeClass("hover_item");w||h.notify()});a.action!=N.GETOFF&&(c.$("moreRouteTxt").text(a.nodes.length+1+"\uac1c "+(a.subway?"\uc5ed ":"\uc815\ub958\uc7a5 ")+"\uc774\ub3d9("+a.time+")"),0!=a.nodes.length&&!a.isInterPublic&&p.click(function(){r?
(c.$("moreRouteWrap").removeClass("open"),s.hide(),r=!1):(c.$("moreRouteWrap").addClass("open"),s.show(),r=!0);q.click("route",a.bus?"go_public_bus_routeopen":"go_public_subway_routeopen")}));a.action==N.GETOFF&&c.$("detailIcoWrap").addClass("getoff");n.addClass(a.subway?"SUBWAYSTATION":"BUSSTOP");a.subway&&(n.addClass(a.subwayCode),y.addClass(a.subwayCode+"_line"));k.text("BUS"==a.type?a.name+"\uc815\ub958\uc7a5 "+a.actionName:a.name+" "+a.actionName);(function(){if(a.vehicles.length!=0){v.show();
var b=a.vehicles.filter(function(a){return a.id!="SES27"||a.subType!="EXPRESS"?a.visible:false});if(a.type=="BUS"){var c="";b.forEach(function(b,d){var e=b.lineType;c==e?e="no":c=e;e=jQuery('<a href="#" class="'+b.lineType+' vehicle"><span class="'+e+'_icon"></span>'+(b.parentName?b.parentName:b.name)+"</a>");d!=0&&v.append('<span class="comma">,</span>');e.click(function(){q.click("route","go_public_bus_busroute");a.busStop&&a.busStop.id&&Application.busLineController.setBusStop(a.busStop.id,"",
b.startOrder);Application.busLineController.setData(b.id,true)});v.append(e)});o.hide()}else if(b.length==1&&b[0].subType=="GENERAL")v.hide();else{v.show();b.forEach(function(a){jQuery("<span></span>").addClass(a).appendTo(v)})}}})();a.isInterPublic||b();(function(){if(!a.subway||a.action==N.GETOFF)g.hide();else{var b=a.subwayStation.id;b&&g.toggleClass("noRoadview",!a.roadview).click(function(a){a.preventDefault();open(require("url").DAUM_PLACE+b+"#timeTableSection");q.click("route","go_public_timetable");
(a=Application.transitRouteSearchController.panel_.dssObject_)&&t.log("path_transit_click_timetable",a.q,{tab:a.tab,mkey:a.mkey,cpg:a.cpg,qidx:a.qidx})})}})();(function(){if(a.subway){if(a.desc){c.find(".descWrap").show();o.show().text(a.desc)}if(a.vehicles){var b=a.vehicles.filter(function(a){return a.id!="SES27"||a.subType!="EXPRESS"?a.visible:false}),d=c.$("subwayTypes");if(b.length==1&&b[0].subType=="GENERAL")d.hide();else{d.show();b.forEach(function(a){jQuery('<li class="'+a.subType.toLowerCase()+
'"/>').appendTo(d)})}}if(a.tip){b=jQuery('<span class="tip" data-id="tip">'+a.tip+"</span>");c.find(".descWrap").append("<br/>").append(b)}}})();a.nextOther&&y.hide();a.type==N.OTHER&&(c.$("pointItemWrap").hide(),k=c.$("otherTime"),n=c.$("otherTitle"),k.text(a.time),n.text(a.endLocation.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"));this.setItemActive=function(a){u=a;c.toggleClass("TransitPointItem-ACTIVE",u)};this.setItemHighlight=function(a){u||c.toggleClass("TransitPointItem-ACTIVE",a)};this.getPane=
function(){return c};this.deActiveDetailRoute=function(){c.$("moreRouteWrap").removeClass("open");s.hide();r=false};this.setLast=function(){c.addClass("TransitPointItemView-LAST")};this.setFirst=function(){c.addClass("TransitPointItemView-FIRST")}}function eb(a){Q(this,g,"li","TransitRouteItem");this.busLineBtnClick=new m;this.onPointClick=new m;this.onDestination=new m;this.onWalkDetail=new m;this.onDetail=new m;this.onOver=new m;this.onOut=new m;this.onWalkRoadview=new m;this.route_=a;this.addChild(new g("div",
"top_line"));var b=(new g("div","title")).addClass("clickArea");this.addChild(b);var c=a.time,d=90>c?1:Math.round(c/60),e=(d-d%60)/60,c=new g("span","time");if(e){var f=new Va("bigNumber");f.setValue(e);c.addChild(f);c.addChild((new g("span","hourTxt","\uc2dc\uac04")).addClass("screen_visible"))}"0"!=(d%60).toString()&&(e=new Va("bigNumber"),e.setValue((d%60).toString()),e.addClass("minute"),c.addChild(e),c.addChild((new g("span","minitueTxt","\ubd84")).addClass("screen_visible")));d=[new g("span",
"parenthesesleft")];a.walkingTime&&(e=new Va("transitmini"),f=a.walkingTime,e.setValue(90>f?1:Math.round(f/60)),d.push(new g("span","walkTitleTxt","\ub3c4\ubcf4")),d.push(e),d.push(new g("span","minitueTxt","\ubd84")));a.transfers?(e=new Va("transitmini"),e.setValue(a.transfers),a.walkingTime&&d.push(new g("span","comma",",")),d.push(new g("span","transfer","\ud658\uc2b9")),d.push(e.addClass("transferCnt")),d.push(new g("span","cntTxt","\ud68c"))):(a.walkingTime&&d.push(new g("span","comma",",")),
d.push(new g("span","transfer","\ud658\uc2b9")),d.push(new g("span","noTransfer","\uc5c6\uc74c")));d.push(new g("span","parenthesesright"));d=new g("span","walkTime",d);c.addChild(d);b.addChild(c);c=this.detailButton_=new g("span","right_detail",new g("a","detail"));c.onClick.add(this.clickDetail_,this);b.addChild(c);b=(new g("div","fareWrap")).addClass("clickArea");c=new g("span","",a.fare?"\uc694\uae08 "+a.fare:"\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c");b.addChild(c);c=new g("span","bar","|");b.addChild(c);
c=new g("span","","\ucd1d "+(a.distance/1E3).toFixed(1)+"km");b.addChild(c);this.addChild(b);this.addChild((new $c(a.summaries)).getPane());b=this.transitlist_=new g("ol","");this.pointItemViews_=[];this.addChild(b);this.onClick.add(this.clickSelf_,this);this.bounds_=a.bounds;this.onEnter.add(function(){this.getActive()||this.addClass("TransitRouteItem-OVER");this.onWrapOver.notify()},this);this.onLeave.add(function(){this.getActive()||this.removeClass("TransitRouteItem-OVER");this.onWrapOut.notify()},
this);this.addChild(new g("div","bottom_line"));this.onWrapOver=new m;this.onWrapOut=new m}function $c(a){function b(a,b){var c=b.locationName;if("SUBWAYSTATION"==b.type){var d=[];b.vehicles&&(d=b.vehicles.filter(function(a){return"SES27"!=a.id||"EXPRESS"!=a.subType?a.visible:!1}),c+="("+b.vehicles[0].name+")");var e=a.$("subwayTypes");1==d.length&&"GENERAL"==d[0].subType?e.hide():(e.show(),d.forEach(function(a){jQuery('<li class="'+a.subType.toLowerCase()+'"/>').appendTo(e)}))}else if("INTERCITY"==
b.type)b.isTransfer&&b.subType&&(e=a.$("subwayTypes"),jQuery('<li class="intercity_inner '+b.subType.toLowerCase()+'"/>').appendTo(e),e.show());else if(b.vehicles){var g=a.$("busVehicles").show(),d=b.vehicles.filter(function(a){return a.visible}),y="";d.slice(0,5).forEach(function(a,b){0!=b&&g.append(", ");var c=a.lineType;y==c?c="no":y=c;jQuery('<a class="'+a.lineType+'" href="#"><span class="'+c+'_icon"></span>'+(a.parentName?a.parentName:a.name)+"</a>").appendTo(g)});5<d.length&&jQuery('<span class="moreVehicle"> ...</span>').appendTo(g)}a.$("name").text(c)}
var c=a.length-1,d=jQuery("<div/>").addClass("TransitRouteOutlineView").addClass("clickArea"),e=jQuery("<div/>").addClass("SummaryDetail").appendTo(d);d.$("summaryName");a.forEach(function(a){var d=G("TransitRouteOutlineItemView");d.$("summaryDesc").addClass(a.type.toLowerCase());b(d,a);if(a.type){d.$("summaryIcon").addClass(a.type).addClass(a.typeCode);var j=d.$("transitline");"SUBWAYSTATION"==a.type&&(j.addClass(a.typeCode+"_line"),("subway_j"==a.typeCode||"subway_ky"==a.typeCode||"subway_ml"==
a.typeCode)&&d.$("summaryDesc").addClass("subwayLargeIcon"))}a.action==N.GETOFF_TRANSFER?d.addClass("getoff_transfer"):a.action==N.GETOFF&&c==a.index&&(d.$("summaryDesc").removeClass("subwayLargeIcon"),d.addClass("getoff"));d.appendTo(e)});this.getPane=function(){return d}}function va(a){Q(this,g,"div","TransitRouteResultView");this.onItem=new m;this.onPointClick=new m;this.busLineBtnClick=new m;this.onDestination=new m;this.onWalkDetail=new m;this.onItemDetail=new m;this.onOver=new m;this.onOut=
new m;this.onSearchBtnClick=new m;this.onChildPointClick=new m;this.currentTab_=3;this.currentInterTab_=4;this.currentBoundTab_=0;this.transitRouteItemView_=a;this.onWrapOver=new m;this.onWrapOut=new m;this.dssObject_={};this.below_="";this.dssQIndex_=0}function Cb(){}function ze(){if(!(this instanceof arguments.callee))return new arguments.callee;var a=this.onClick=new m,b=G("WalkFunctionToolBarView");b.$("print").click(function(){a.notify("print")});b.$("favorite").click(function(){a.notify("favorite")});
b.$("alook").click(function(){a.notify("alook")});this.getPane=function(){return b}}function Qd(a,b){function c(a){var b=r.$("walkSeqIcon"),c=30*Math.floor((a-1)/10);0>c&&(c=0);b.css("backgroundPosition",-(30*((a-1)%10))+"px "+-c+"px")}function d(a){var b=jQuery("<a class=roadview />"),c=new Ib(b);c.setThumnail(a.thumbnail);c.onClick.add(function(){g.notify(p)},this);c.onOver.add(function(){s=!0});c.onLeave.add(function(){null!=c&&(c=null);s=!1;e(!1);j.notify()},this);r.$("roadview").append(b)}function e(a){r.toggleClass("WalkGroupPointItemView-ACTIVE",
!!a)}var f=this.onClick=new m,h=this.onMouseover=new m,j=this.onMouseout=new m,g=this.onRoadview=new m,k=b.seq||0,n=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",y=b.action||null,o=b.rotationCode||null,p=b.roadview||null,s=!1,v=!1,r=G("WalkGroupPointItemView");r.appendTo(a);b.roadview&&d(b.roadview);k&&c(k);b.getSummary()&&r.$("title").addClass("walkTitle").set(b.getSummary());r.$("desc").set(n);(function(a,b){var c=r.$("action");if(a&&-1!=a.indexOf("EXIT")&&b)c.addClass("action-"+b);else if(a&&(a=a.replace("EXIT",
"ENTER")),position_=Db.ACTION_LIST[a],void 0!=position_){c.css("backgroundPosition","0 "+-25*position_+"px");var d=jQuery("<i/>");d.appendTo(c);d.css({marginTop:-(25*position_)+"px",marginLeft:"0px"})}else c.addClass("action-"+(b||"STRAIGHT"))})(y,o);r.click(function(){v=!0;f.notify()});r.mouseenter(function(){v||(e(!0),h.notify())});r.mouseleave(function(){!v&&!s&&(e(!1),j.notify())}.bind(this));this.setHighlight=function(a){v||e(a)};this.setActive=function(a){v=a;e(a)};this.setLastItem=function(){r.addClass("WalkGroupPointItemView-LAST")};
this.getPane=function(){return r}}function Wb(a,b,c){function d(){w?(r.removeClass("on"),s.show(),v.hide(),w=!1,y.notify(!1)):(r.addClass("on"),s.hide(),v.show(),f(!1),w=!0,y.notify(!0));p.toggleClass("WalkTransitItemView-DETAIL",w);q.click("route","go_"+("walk"==c?"walk_group":"publick_walk")+(w?"_show":"_hide"))}function e(a){w=!!a;r.toggleClass("on",w);s.toggle(!w);v.toggle(w);p.toggleClass("WalkTransitItemView-DETAIL",w)}function f(a){p.toggleClass("WalkPointGroupView-ACTIVE",!!a)}function h(a){v.empty();
u=a.map(function(b,c){var d=new Qd(v,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){j.notify(c)});d.onMouseover.add(function(){g.notify(c)});d.onMouseout.add(function(){k.notify(c)});d.onRoadview.add(function(a){n.notify(a)});return d})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var j=this.onClick=new m,g=this.onMouseover=new m,k=this.onMouseout=new m,n=this.onRoadview=new m,y=this.onDetail=new m,o=this.onWalkSummaryClick=new m,p=null,s=null,v=null,r=null,
u=[],w=!1;if(!c||"walk"==c){var p=G("WalkPointGroupView").appendTo(a),D=b.points[0].seq,P=b.points[b.points.length-1].seq;rc(p.$("groupNumber"),"walkList",D,P);rc(p.$("groupNumber"),"walkListOn",D,P)}else"transit"==c&&(p=G("WalkTransitItemView").appendTo(a),p.find(".walkBrief").click(function(){o.notify()}),p.$("title").click(function(){o.notify()}));s=p.$("briefdesc");P=b.time/3600|0;D="";P&&(D+=P+"\uc2dc\uac04 ");P=(b.time/60|1)%60;p.$("time").set(D+=P+"\ubd84");p.$("distance").set(String.formatDistance(b.distance));
v=p.$("detail");v.hide();r=p.$("detailBtn");r.hide();b.walkGuide&&(r.show(),r.click(d),"transit"!=c&&p.$("groupNumber").click(d));(D=b.start+"~"+b.end)?s.show().set(D):s.hide();p.mouseenter(function(){if(!w){f(true);g.notify(null)}});p.mouseleave(function(){if(!w){f(false);k.notify(null)}});h(b.points);this.setDetailActive=e;this.setItem=h;this.getPane=function(){return p};this.setActive=function(a,b){f(false);b&&e(b);u.length!=0&&(a==null?u[0].setActive(b):u[a].setActive(b))};this.setHighlight=function(a,
b){w&&a!=null?u[a].setHighlight(b):w||f(b)};this.deactivateAll=function(){f(false);u.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){f(false);u.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:w,pos:p.offset()}};this.getItem=function(a){return u[a]};this.isGroupPoints=function(){return u.length==0};this.hide=function(){p.hide()}}function ad(a,b,c){function d(a){var b=n.$("seq");if(300<a)b.css("background","none");else{var c=30*
Math.floor((a-1)/10);0>c&&(c=0);b.css("backgroundPosition",-(30*((a-1)%10))+"px "+-c+"px")}}function e(a){var c=jQuery("<a class=roadview />"),d=new Ib(c);d.setThumnail(a.thumbnail);d.onClick.add(function(){t.logRoadview("route_walk_rv",a.panoId,b.coords,Application.localInfoController.getHCodeForLog());k.notify(v)},this);d.onOver.add(function(){r=!0});d.onLeave.add(function(){null!=d&&(d=null);r=!1;f(!1);g.notify()},this);n.$("roadview").append(c)}function f(a){n.toggleClass("WalkPointItemView-ACTIVE",
!!a)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var h=this.onClick=new m,j=this.onMouseover=new m,g=this.onMouseout=new m,k=this.onRoadview=new m,n=G("WalkPointItemView").appendTo(a),y=b.seq||0,o=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",p=b.action||null,s=b.rotationCode||null,v=b.roadview||null,r=!1;y&&d(y);b.getSummary()&&n.$("title").addClass("title").set(b.getSummary());n.$("desc").set(o);(function(a,b){var c=n.$("action");if(a&&-1!=a.indexOf("EXIT")&&b)c.addClass("action-"+
b);else if(a&&(a=a.replace("EXIT","ENTER")),position_=Db.ACTION_LIST[a],void 0!=position_){c.css("backgroundPosition","0 "+-25*position_+"px");var d=jQuery("<i/>");d.appendTo(c);d.css({marginTop:-(25*position_)+"px",marginLeft:"0px"})}else c.addClass("action-"+(b||"STRAIGHT"))})(p,s);v&&e(v);var u=!1;n.click(function(){u=!0;h.notify()});n.mouseenter(function(){u||(f(!0),j.notify())});n.mouseleave(function(){!u&&!r&&(f(!1),g.notify())}.bind(this));this.setHighlight=function(a){u||f(a)};this.setActive=
function(a){u=a;f(a)};this.getPane=function(){return n}}function Rd(a){function b(){K=!0;j=P.points.map(function(a,b){var c=null;if("start"==a.seq||"goal"==a.seq||"through"==a.seq)return c=new (require("view/StartEndPointItemView"))(a),c.getPane().appendTo(w),c.onClick.add(function(a){g.notify({index:b,sub:a})},this),c;a instanceof Sb?(c=Wb(w,a,"walk"),c.onDetail.add(function(c){c&&s.notify({index:b,coords:a.points[0].coords})})):c=ad(w,a);c.onClick.add(function(a){g.notify({index:b,sub:a})});c.onMouseover.add(function(a){o.notify({index:b,
sub:a})});c.onMouseout.add(function(a){p.notify({index:b,sub:a})});c.onRoadview.add(function(a){y.notify(a)});return c})}function c(){var a=jQuery("#info\\.body").scrollTop(),b=a+(v.position().top-98),a=0.5*Math.abs(b-a);jQuery("#info\\.body").animate({scrollTop:b},a,function(){})}function d(){j.forEach(function(a){a instanceof Wb?a.deactivateAll():a.setActive&&a.setActive(!1)})}function e(){j.forEach(function(a){a instanceof Wb?a.dehighlightAll():a.setHighlight&&a.setHighlight(!1)})}function f(a){var b=
D,c=A.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;D.scrollTop(a-D.outerHeight()/2)}function h(a){a&&!K&&b();r=a;v.toggleClass("WalkRouteItem-DETAIL",r)}if(!(this instanceof Rd))return new arguments.callee(a);var j=[],g=this.onWalkPoint=new m,k=this.onHover=new m,n=this.onDetail=new m,y=this.onRoadview=new m,o=this.onWalkPointMouseover=new m,p=this.onWalkPointMouseout=new m,s=this.onWalkPointDetail=new m,v=G("WalkRouteItemView");v.appendTo(a);var r=!1,u=v.$("summary"),
w=v.$("list"),D=jQuery("#info\\.body"),P=null;u.hover(function(){k.notify(!0)},function(){k.notify(!1)});u.on("click",function(){h(!r);n.notify(r);if(r){var a=(P.routeMode||"").toLowerCase();q.click("route","go_walk_"+a)}});this.setData=function(a){if(P=a){v.show();var b=v.$("time"),c=v.$("distance"),d=v.$("mode"),e=v.$("selectedBar");d.addClass(a.routeMode);e.addClass(a.routeMode);b.children().remove();var d=a.time,f=90>d?1:Math.round(d/60);if(e=(f-f%60)/60)d=new Va("bigNumber"),d.setValue(e),d.addClass("hours"),
d.appendTo(b),jQuery("<span/>").addClass("text").addClass("hourtext").set("\uc2dc\uac04").appendTo(b);f%=60;0<f&&(d=new Va("bigNumber"),d.setValue(f),0<e?d.addClass("minuteMargin"):d.addClass("minute"),d.appendTo(b),jQuery("<span/>").addClass("text").set("\ubd84").appendTo(b));c.children().remove();b=a.distance/1E3;0<=b&&(d=new Va("bigNumber"),d.appendTo(c),d.addClass("distanceImage"),1<b?(d.setValue(b.toFixed(1)),jQuery("<span/>").addClass("text").set("km").appendTo(c)):(d.setValue(1E3*b),jQuery("<span/>").addClass("text").set("m").appendTo(c)));
c=v.$("info");b=v.$("facilities");d=v.$("calories");e=[];a.bridge&&e.push("\uc721\uad50 "+a.bridge+"\ud68c");a.underground&&e.push("\uc9c0\ud558\ub3c4 "+a.underground+"\ud68c");a.stair&&e.push("\uacc4\ub2e8 "+a.stair+"\ud68c");(e=e.join(" + "))?b.text(e):b.hide();a.calories?(e&&c.addClass("addInfo"),d.text(a.calories+"kcal\uc18c\ubaa8")):d.hide();w.empty()}else v.hide()};var K=!1;this.setItemActive=function(a,b){d();var c=j[a.index];if(c instanceof ad||c instanceof Wb)c instanceof Wb?(c.setActive(a.sub,
b),f(c.getItem(a.sub).getPane())):(c.setActive(b),f(c.getPane()))};this.setHighlight=function(a,b){e();var c=j[a.index];if(c instanceof ad||c instanceof Wb)c instanceof Wb?null==a.sub?(c.setHighlight(null,b),f(c.getPane())):(c.setHighlight(a.sub,b),c.getGroupInfo().detailActive?f(c.getItem(a.sub).getPane()):f(c.getPane())):(c.setHighlight(b),f(c.getPane()))};this.getItem=function(a){return j[a]};this.setHover=function(a){v.toggleClass("WalkRouteItem-HOVER",a)};this.animationScroll=function(){c()};
this.setDetail=function(a){h(a)};this.isDetailOpen=function(){return r};this.getPanel=function(){return v}}function Ae(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this.onOptionChange=new m;this.onCheckboxChange=new m;var b=this.onWalkPoint=new m,c=this.onItemHover=new m,d=this.onItemDetail=new m,e=this.onRoadview=new m,f=this.onWalkPointMouseover=new m,h=this.onWalkPointMouseout=new m,j=this.onWalkPointDetail=new m;this.onSearchBtnClick=new m;this.onDestination=new m;
var g=G("WalkRouteResultView");g.appendTo(a);var k=g.$("list"),n=null,y=0,o=null,p=[],s=null;g.$("fixRoute").click(function(){var a={routeType:"walk",searchInfo:{mode:"walk"}};a.start={name:o.waypoints[0].name,x:o.waypoints[0].coords.getX(),y:o.waypoints[0].coords.getY()};var b=o.waypoints.length;a.end={name:o.waypoints[b-1].name,x:o.waypoints[b-1].coords.getX(),y:o.waypoints[b-1].coords.getY()};a.waypoints=o.waypoints;jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});
a.walkRoutes=[];a.isSelectRoute=!1;jQuery(o.walkRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=p[b].isDetailOpen();d.isDetailOpen&&(a.isSelectRoute=!0);a.walkRoutes.push(d)});a.bound=o.raw.bound;Application.fiyFrameController.open({type:"route",rawInfo:a});q.click("route","go_walk_fiy")});this.setData=function(a){a?(o=a,g.show(),k.empty(),p=a.walkRoutes.map(function(a,g){var l=new Rd(k);l.setData(a);l.onWalkPoint.add(function(a){b.notify(a)});l.onHover.add(function(a){s?(l.setHover(a),
c.notify({index:g,hover:a})):a&&(n&&n!=l&&(n.setHover(!1),c.notify({index:y,hover:!1})),l.setHover(!0),c.notify({index:g,hover:!0}));a&&(n=l,y=g)});l.onDetail.add(function(a){n&&n!=l&&(n.setHover(!1),c.notify({index:y,hover:!1}));p.forEach(function(b,c){g!=c?b.setDetail(false):b.setDetail(a)});d.notify({index:g,detail:a})});l.onRoadview.add(function(a){e.notify(a)});l.onWalkPointMouseover.add(function(a){f.notify(a)});l.onWalkPointMouseout.add(function(a){h.notify(a)});l.onWalkPointDetail.add(function(a){j.notify(a)});
return l})):g.hide()};this.setItemActive=function(a,b){s&&s.setItemActive(a,b)};this.initDetailedItem=function(){s=null};this.setDetailedItem=function(a){s=null;(s=p[a])&&setTimeout(function(){s.animationScroll()},100)};this.setHighlight=function(a,b){s&&s.setHighlight(a,b)};this.getItem=function(a){return s?s.getItem(a):null};this.initHover=function(){p[0]&&(p[0].setHover(!0),n=p[0],y=0)};this.show=function(){g.show()}}function ic(a){function b(){o?(n.removeClass("detailOn"),g.show(),k.hide(),o=
!1,s.notify(!1),q.click("route","go_public_walk_hide")):(n.addClass("detailOn"),g.hide(),k.show(),o=!0,s.notify(!0),q.click("route","go_public_walk_show"));v.toggleClass("WalkTransitItemView-DETAIL",o)}function c(a){o=!!a;n.toggleClass("on",o);g.toggle(!o);k.toggle(o);v.toggleClass("WalkTransitItemView-DETAIL",o)}function d(a){v.toggleClass("WalkTransitItemView-ACTIVE",!!a)}var e=this.onClick=new m,f=this.onMouseover=new m,h=this.onMouseout=new m,j=this.onRoadview=new m,g=null,k=null,n=null,y=[],
o=!1,p=!1,s=this.onDetail=new m,v=G("WalkTransitItemView");v.find(".WalkTransitItemViewWrap").click(function(){e.notify(null)});v.$("summary").click(function(){p=!0});if(0!=a.points.length){var r=a.points[0].seq,u=a.points[a.points.length-1].seq;rc(v.$("groupNumber"),"walkList",r,u);rc(v.$("groupNumber"),"walkListOn",r,u)}var g=v.$("briefdesc"),r=90>a.timec?1:Math.round(a.time/60),u=(r-r%60)/60,w="";u&&(w+=u+"\uc2dc\uac04 ",(r-=60*u)||(r=1));v.$("time").set(w+=r+"\ubd84");v.$("distance").set(String.formatDistance(a.distance));
k=v.$("detail");k.hide();n=v.$("detailBtn");n.hide();a.walkGuide&&(n.show(),n.click(b),v.$("groupNumber").click(b));r="";""!=a.summary?r=a.desc:""!=a.start&&(r=a.start+"~"+a.end);r?g.show().set(r):g.hide();v.mouseenter(function(){v.addClass("hover_item");if(!p){d(true);f.notify(null)}});v.mouseleave(function(){v.removeClass("hover_item");if(!p){d(false);h.notify(null)}});this.setDetailActive=c;this.setItem=function(a){k.empty();c(true);v.toggleClass("WalkTransitItemView-ACTIVE",true);a.forEach(function(b,
c){var d=new Qd(k,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){e.notify(c)});d.onMouseover.add(function(){f.notify(c)});d.onMouseout.add(function(){h.notify(c)});d.onRoadview.add(function(a){j.notify(a)});y.push(d)})};this.setDetail=function(a,b){c(b)};this.setActive=function(a,b){if(a){if(a.sub!=null){if(y.length==0)return;y[a.sub].setActive(b)}p=b;v.toggleClass("WalkTransitItemView-ACTIVE",b)}};this.setHighlight=function(a,b){o&&a!=null?y[a].setHighlight(b):o||d(b)};this.deactivateAll=
function(){d(false);y.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){d(false);y.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:o,pos:v.offset()}};this.getItem=function(a){return y[a]};this.isGroupPoints=function(){return y.length!=0};this.hide=function(){v.hide()};this.setLast=function(){v.addClass("WalkTransitItemView-LAST")};this.setFirst=function(){v.addClass("WalkTransitItemView-FIRST")};this.getPane=function(){return v}}
Fb.fetchMapOption_=function(a){var b={},c;a.wx&&a.wy?c=new daum.maps.Coords(a.wx,a.wy):a.x&&a.y?c=new daum.maps.Coords(a.x,a.y):a.urlX&&a.urlY?c=new daum.maps.Coords(a.urlX,a.urlY):a.URLX&&a.URLY?c=new daum.maps.Coords(a.URLX,a.URLY):a.pos?(c=a.pos.split("|"),c=new daum.maps.Coords(c[0],c[1])):A.t_mapx&&A.t_mapy&&(c=new daum.maps.Coords(String.base92(A.t_mapx),String.base92(A.t_mapy)));c&&(b.center=c);c=a.level||a.urlLevel||a.URLLEVEL||a.z||void 0;void 0!==c&&(b.level=c);if(a={TYPE_MAP:daum.maps.MapTypeId.ROADMAP,
TYPE_SKYVIEW:"true"==a.map_hybrid?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW}[a.map_type])b.mapTypeId=a;return b};Fb.prototype.readParams=function(a){var b=Fb.fetchMapOption_(a);b.center&&this.map.setCenter(b.center);b.level&&this.map.setLevel(b.level);b.mapTypeId&&this.map.setMapTypeId(b.mapTypeId);this.readRestParams_(a,b.center||this.map.getCenter())};Fb.prototype.readRestParams_=function(a,b){function c(){var c=a.panoid||0,d=(a.store||"").split("_"),e=a.pan||0,f=a.tilt||0,h=a.zoom||
0;if(c||a.panoid)Ma.exists(c,function(a){var d=new bb(100,function(){d.stop();var j={coords:b,panoId:c,pan:e,tilt:f,zoom:h};a?Application.roadviewController.show(j):Application.roadviewController.client_.getNearestPanoId(b,[30,40,50,70,100,150,250,350,450,900,1800,3600,7200,14400,28800][Application.map.getLevel()],function(a){a&&(j.panoId=a,Application.roadviewController.show(j))})},!0);d.start()});else if(d&&d[0]){var j;if(a.pan||a.tilt||a.zoom)j={pan:e,tilt:f,zoom:h};var g=new bb(100,function(){g.stop();
Application.roadviewController.showStoreView(d[0],d[1],j,null,a.q?!1:!0)},!0);g.start()}}a.page&&this.keywordSearchController.setDefaultPage(a.page);if(a.theme){if(a.minX&&a.minY&&a.maxX&&a.maxY){var d=new daum.maps.Coords(a.minX,a.maxY),e=new daum.maps.Coords(a.maxX,a.minY);this.map.setBounds(new daum.maps.CoordsBounds(d,e))}6==a.theme?this.keywordSearchController.setKeyword("\uc544\ud30c\ud2b8\ub2e8\uc9c0"):(d=x.THEMEID[a.theme])&&this.mainMapController.themePoiControlView.setThemeToObject({type:d})}a.issue&&
this.issueMapController.setIssue(a.issue);if(a.name){var f;f=z.createAddress(b);f.setMap(this.map);f.setPosition(b);var h=new Ca;h.name=a.name;h.coords=b;this.infoWindowManager.createPoint(h,f,b);daum.maps.event.addListener(f,"click",function(){this.infoWindowManager.createPoint(h,f,b)}.bind(this));this.keywordSearchController.itemIdMarker=f}if(!a.urlX&&(!a.wx&&!a.x)&&a.bt){for(var d=a.bt.split(","),j=new daum.maps.CoordsBounds,e=0;e<d.length;e+=2){var g=new daum.maps.Coords(d[e],d[e+1]);j.extend(g)}this.map.setBounds(j)}if(a.q){var k=
this.keywordSearchController;jQuery("#search\\.keyword\\.query").blur();a.srcid&&k.setFilterId(a.srcid);a.local_code&&k.setLocalCode(a.local_code);if("tot"==a.service){var n={};["rcode","center","qa_type"].forEach(function(b){a[b]&&(n[b]=a[b])});k.setKeywordParams(n);d=x.ALL;"bus"===a.tab?d=x.BUSES:"busstop"===a.tab&&(d=x.BUSSTOPS);k.setKeyword(a.q,d)}a.sort&&k.setDefaultSort(Number(a.sort));d=null;e=!1;a.sidx&&(d=a.sidx);a.tailGb&&(d="1",e=!0);a.cidx&&(d=a.cidx,e=!0);null!=d&&k.setDefaultLiterally(d,
e);a.itemId&&k.setHighlightId(a.itemId);"true"==a.currentBound?(jQuery("#search\\.keyword\\.query").val(a.q),k.setTrackBounds(!0)):a.panoid||a.store||a.urlX&&a.urlY||a.rv?k.setKeywordWithoutJump(a.q):a.tab?(d=a.tab,"place"==d?("dangol"==a.service&&(n={},["cate_id","region_code","service"].forEach(function(b){a[b]&&(n[b]=a[b])}),k.setKeywordParams(n)),k.setKeyword(a.q,x.PLACE),t.logSearchIn("place_tab")):"address"==d||"Y"==a.addrTab?(k.setKeyword(a.q,x.ADDRESS),t.logSearchIn("address_tab")):("review"==
d||a.b_srcid)&&k.setKeywordWithoutJump(a.q)):k.setKeyword(a.q);a.page&&this.keywordSearchController.setDefaultPage(a.page);q.click("morningstar","start",{param1:a.q})}a.thememap&&(k=this.keywordSearchController,d=k.themeMapController_,d.setHideActive(!0),a.thememapId&&(a.itemId&&d.setSelectedThememapId(a.itemId),a.urlX&&a.urlY?d.setThememapId(a.thememapId):d.setThememapIdWithJump(a.thememapId)),k.changeActive_());a.busnumsrch&&(this.busSearchController.setActive(!0),d="",a.gname&&(d+=a.gname+" "),
this.busSearchController.findName(d+a.busnumsrch));a.busfavoritesrch&&(this.busSearchController.setActive(!0),this.busSearchController.reset(),this.busSearchController.findOneByCode(a.busfavoritesrch));a.busrgnsrch&&(this.busSearchController.setActive(!0),this.busSearchController.findRegion(a.busrgnsrch));a.busstopsrch&&(this.busSearchController.setActive(!0),d="",a.gname&&(d+=a.gname+" "),this.busSearchController.findStop(d+a.busstopsrch));a.busInfoId&&(this.busSearchController.setActive(!0),this.busSearchController.findByOne(a.busInfoId));
switch(a.target){case "subway":this.subwaySearchController.setRegion(this.subwaySearchController.searchController.REGION_ID.indexOf(a.REGION||"01"));this.subwaySearchController.setActive(!0);if(a.STARTNAME&&a.ENDNAME){if(a.routingType||a.dailyType||a.time)this.subwaySearchController.setBoxOptions({routingType:a.routingType||"",dailyType:a.dailyType||"",time:a.time||""});this.subwaySearchController.findRouteByName(a.STARTNAME,a.ENDNAME,a.STARTID,a.ENDID)}break;case "traffic":if(a.busnumsrch||a.busrgnsrch||
a.busInfoId)break;if("2"==a.opt){k=this.busSearchController;k.setActive(!0);break}k=this.flagSearchController;k.setActive(!0);k.setDefaultModeTransit();a.transitOption?this.transitRouteSearchController.setModeIndex(a.transitOption):this.transitRouteSearchController.setModeIndex(3);a.transitBoundMode?this.transitRouteSearchController.setBoundMode(a.transitBoundMode):this.transitRouteSearchController.setBoundMode(0);break;case "car":k=this.flagSearchController;k.setActive(!0);switch(a.carOption){case "1":k.setDefaultOption(Da.OPTIMAL);
break;case "2":k.setDefaultOption(Da.SHORTEST)}break;case "walk":k=this.flagSearchController;k.setActive(!0);k.setDefaultModeWalk();break;case "favorite":switch(k=this.favoriteController,k.setActive(!0),a.favOption){case "1":k.openConnectLayer()}}if(a.rt){k=this.flagSearchController;k.setActive(!0);for(var j=(a.rtIds||"").split(","),y=new Oa,d=a.rt.split(","),g=e=0;e<d.length;e+=2,++g){var o=a["rt"+(g+1)];y.waypoints[g]=null;d[e]?(y.waypoints[g]=new Za(new daum.maps.Coords(d[e],d[e+1]),o,j[g]),this.map.setCenter(new daum.maps.Coords(d[e],
d[e+1]))):o&&x.findPosition(o,function(a,b,c){if(c){y.waypoints[a]=new Za(c,b);k.setFlagSearch(y);k.setRoute()}else k.noResultPlace(a,b)}.bind(this,g,o))}if(a.panoid||a.store)if(y.isOriginDest()){var p=function(){c();k.onLoadedRoute.remove(p)};k.onLoadedRoute.add(p)}else c();k.setFlagSearch(y);k.setRoute()}a.confirmid&&ja.find(a.confirmid,function(b){this.map.setCenter(b.coords);if(a.rv=="on"){if(b.roadview){var c=b.roadview;this.roadviewController.setViewpointWithMarker(c,"http://t1.daumcdn.net/localimg/localimages/07/2008/map/icon/i_mks_choice_b.png",
c.pan,c.tilt,0,b);rb.find(b.coords,function(a){var d="";if(a&&a.hcode)d=a.hcode.code;t.logRoadview("qs_roadview",c.panoId,b.coords,d,{id:b.id})})}}else b&&!a.store&&this.infoWindowManager.createPlace(b)},this);a.sv&&this.mainMapController.setStoreviewActive();if(a.panoid||a.store)a.rt||c();if(a.subwayId){var s=new Ea;s.id=a.subwayId;s.fetchDetail(function(){this.map.setCenter(s.coords);this.infoWindowManager.createSubwayStation(s)},this)}a.SHOWMARK&&"false"!=a.SHOWMARK&&(f=z.createAddress(b),f.setMap(this.map));
a.itemId&&(!a.q&&!a.thememap)&&ja.findPlace(a.itemId,function(a){if(a){this.map.setCenter(a.coords);var b=new daum.maps.Marker({zIndex:3,position:a.coords,image:new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/map/marker_map01.png",new daum.maps.Size(40,40),new daum.maps.Point(13,38)),clickable:true});b.setMap(this.map);this.infoWindowManager.createPlace(a,b);daum.maps.event.addListener(b,"click",function(){this.infoWindowManager.createPlace(a,b)}.bind(this));this.keywordSearchController.itemIdMarker=
b}},this);a.titag&&Na.fetchUrl(a.titag,function(a){Application.map.setCenter(a.coords);Application.infoWindowManager.createReview(a);q.click("titag",a.sourceType)});a.mapJson&&(new bc(this.map)).parse(a.mapJson);a.rTarget&&(d=a.rTarget.split(",",2),this.roadviewController.showNearby((new daum.maps.LatLng(d[0],d[1])).toCoords(),100));"REALTRAFFIC"==a.map_attribute&&this.mainMapController.setTrafficLineActive(!0);a.traffic_state&&(this.mainMapController.setTrafficActiveForState(a.traffic_state),a.traffic_cctvId&&
this.mainMapController.setTrafficCctvId(a.traffic_cctvId));a.busStopId&&setTimeout(function(){Y.find(a.busStopId,function(b){this.map.setCenter(b.coords);if(a.busInfoId){Application.map.setLevel(3);Application.infoWindowManager.createBusStop(b,a.busInfoId)}else this.infoWindowManager.createBusStop(b)},this)}.bind(this),1E3);"on"===a.map_terrain&&this.mainMapController.setTerrain(!0);"on"===a.map_bicycle&&this.mainMapController.setBike(!0);if(a.airType||a.map_weather)d=a.airType||a.map_weather,(a.urlX||
a.wx||a.x)&&"wea"!=d&&this.airMapTileController.setNoJump(),-1<"wea khai ysand pm10 o3 no2 co so2".split(" ").indexOf(d)&&this.mainMapController.setWeather(!0,d);a.map_usedistrict&&this.mainMapController.setUsedistrict(!0,a.map_usedistrict);"on"===a.map_indoor&&(this.mainMapController.setIndoor(!0),this.map.setLevel(a.level||a.urlLevel||a.URLLEVEL||a.z||void 0))};Fb.prototype.fixTitleBug=function(){if("ActiveXObject"in A)jQuery(document).on("mouseup","object",function(){document.title="Daum \uc9c0\ub3c4"})};
define("Application","options view/FrameDecorator manager/ViewLayout controller/WeatherWindowController map/InfoWindowManager controller/AuthController controller/MainMapController params controller/WindowController controller/LocalInfoController controller/BusLineController controller/FlagSearchController controller/KeywordSearchController controller/SubwaySearchController controller/BusSearchController controller/RoadviewController controller/HomeInfoController controller/FiyFrameController controller/FavoriteController controller/CarRouteSearchController controller/TransitRouteSearchController map/Map controller/IssueMapController controller/FlagController controller/SearchTabController controller/LocalPlatformAdController log/LogHistory manager/AoiManager facade/SearchTabFacade controller/RelatedAddressController controller/WhatsHereController controller/AirMapTileController controller/HistoryController".split(" "),
R(Fb));"use strict";define("main",["jquery","module","server"],function(a,b){var c=b.config();define("params",[],c.params);define("options",[],c.options);define("themeKeywords",[],c.options.themeSearch);A.__daumISSUE="Y"==c.options.event_notice?!0:!1;if("object"!=typeof swfobject||!swfobject.hasFlashPlayerVersion("9.0.0")){a("html").addClass("NOFLASH");A.__daumNOFLASH=!0;if("object"==typeof swfobject&&(swfobject.ua.mac||swfobject.ua.win))swfobject.ableflash=!0;var d=a('<div class="FlashPlayerDownload noSubway"><span class="close">\ub2eb\uae30</span><a class="download" href="http://get.adobe.com/flashplayer/" target=_blank>\ucd5c\uc2e0\ubc84\uc804 \ub2e4\uc6b4\ub85c\ub4dc</a><a class="helplink" href="http://kakaomap.tistory.com/110" target=_blank>\uc124\uce58\uc644\ub8cc \ud6c4\uc5d0\ub3c4 \uacc4\uc18d \uc124\uce58\ubb38\uad6c\uac00 \ub728\ub294 \uacbd\uc6b0</a></div>').appendTo("#view\\.subway\\.flash");
d.find(".close").on("click",function(){d.hide()})}require("Application log/Tiara util/nohash controller/MapappController map/MiniMapTypeControl map/MiniZoomControl map/MapTileManager controller/AoiController".split(" "),function(b,d,h){A.Application=b;b=a(document);d.load(b);h.load(b);c.params.special&&require(["controller/SpecialController"])});!c.params.target&&(!c.params.store&&"ROADVIEW"!=c.params.map_attribute&&!c.params.panoid&&!c.params.special&&"content"!=c.params.guide&&!c.params.rv&&!c.params.airType)&&
require(["controller/TriangleNoticeController"]);jQuery(".Outgoing a").click(function(){q.click("navi","related_services")})});"use strict";Object.keys||(Object.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b});Object.create||(Object.create=function(a,b){function c(){}console.assert(!b,"Object.create is emulated: no second argument support.");c.prototype=a;return new c});Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,b=Number(b)||0,b=b<0?Math.ceil(b):Math.floor(b);for(b<0&&(b=b+c);b<c;b++)if(b in this&&this[b]===a)return b;return-1});Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=this.length>>>0,d=[],e=0;e<c;e++)if(e in this){var f=this[e];a.call(b,f,e,this)&&d.push(f)}return d});Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)d in this&&a.call(b,
this[d],d,this)});Array.prototype.every||(Array.prototype.every=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)if(d in this&&!a.call(b,this[d],d,this))return false;return true});Array.prototype.some||(Array.prototype.some=function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return true;return false});Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=this.length>>>0,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});
Array.prototype.reduce||(Array.prototype.reduce=function(a,b){var c=this.length>>>0,d=0;if(arguments.length<2){do{if(d in this){b=this[d++];break}if(++d>=c)throw new TypeError;}while(1)}for(;d<c;d++)d in this&&(b=a.call(null,b,this[d],d,this));return b});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a,b){var c=(this.length>>>0)-1;if(arguments.length<2){do{if(c in this){b=this[c--];break}if(--c<0)throw new TypeError;}while(1)}for(;c>=0;c--)c in this&&(b=a.call(null,b,this[c],c,
this));return b});Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Ab(arguments,1);return function(){return b.apply(a,c.concat(Ab(arguments)))}});Date.now||(Date.now=function(){return+new Date});"undefined"==typeof console&&(console={});["log","info","warn","assert","debug"].forEach(function(a){console[a]||(console[a]=Function())});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=
function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")});"use strict";require.attach=function(){throw new URIError("no defined module: "+url);};A.console={};["log","info","warn","assert","debug"].forEach(function(a){console[a]=Function()});define("server",["jquery","url"],function(a,b){function c(a,b){var c={};c[a]=b;return c}var d=location.pathname.replace(/[^\/]+$/,""),e={};a.each({searchTheme:{url:b.LOCAL_SEARCH_DAUM_NET+
"/theme.daum?output=json&category=Y",dataType:"jsonp"},searchBusStopWithBounds:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?output=json&category=Y",dataType:"jsonp"},searchBus:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?type=bus",dataType:"jsonp"},search:{url:b.LOCAL_SEARCH_DAUM_NET+"/map.daum",dataType:"jsonp"},searchAddress:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_addr.daum",dataType:"jsonp"},searchBusStop:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?type=busStop",dataType:"jsonp"},searchOpenhour:{url:"http://apihub.daum.net/place/v1/openhour/overall.json?appkey=831711f24cde291a80a39fdd5a1954a6",
dataType:"jsonp"},reverseGeocoding:{url:b.RAPI_DAUM_NET+"/regioncode/v2/getUnionResponse.json?inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&version=2&service=map.daum.net",dataType:"jsonp",timeout:1E3},reverseGeoHcoding:{url:b.RAPI_DAUM_NET+"/regioncode/getHCode.JSON?format=normal&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",dataType:"jsonp",timeout:1E3},reverseGeoBcoding:{url:b.RAPI_DAUM_NET+"/regioncode/getBCode.JSON?format=normal&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",
dataType:"jsonp",timeout:1E3},whatsHere:{url:"http://pg.daum.net/congsoa/pointsearch/getPointAddress.service?inputCoordSystem=wcongnamul&output=json",dataType:"jsonp"},regionCode:{url:b.RAPI_DAUM_NET+"/regioncode/v2/getChildCodes.json?format=normal&service=map.daum.net",dataType:"jsonp"},weather:{url:"weather/info",paramKey:"hcode",dataType:"jsonp"},weatherList:{url:"weather/list",traditional:true,dataType:"jsonp"},placeLineById:{url:b.PLACE_DAUM_NET+"/internal/LineDataAPI.do?output=json",paramKey:"confirmid",
dataType:"jsonp"},placeById:{url:b.PLACE_DAUM_NET+"/internal/PlaceInfo.api?output=json",paramKey:"confirmid",dataType:"jsonp"},searchPlaceById:{url:b.LOCAL_SEARCH_DAUM_NET+"/srcid.daum",paramKey:"id",dataType:"jsonp"},poi:{url:b.MAP2_DAUM_NET+"/map/ndmpoidata.service?COORDSTM=WCONGNAMUL&FORMAT=NDMPOIPLACEJSON",dataType:"jsonp"},stationInfo:{url:"subway/station.json",paramKey:"stationId",dataType:"jsonp"},realestate:{url:"etc/houseAreaInfo.json",paramKey:"confirmid",dataType:"jsonp"},realestateAgency:{url:"etc/houseAgencyInfo.json",
paramKey:"confirmid",dataType:"jsonp"},houseBunyang:{url:"etc/houseBunyangInfo.json",paramKey:"id",dataType:"jsonp"},blogReview:{url:"etc/reviewSource",paramKey:"url",dataType:"xml"},roadviewData:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo.do?TYPE=w&CALLBACK=?&OUTPUT=json",paramKey:"ID",dataType:"jsonp"},roadviewPreview:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo?SEARCH_TYPE=2&TYPE=w&CALLBACK=?&OUTPUT=json",dataType:"jsonp"},roadviewSmart:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo?SEARCH_TYPE=3&TYPE=w&CALLBACK=?&OUTPUT=json",
dataType:"jsonp"},roadviewStation:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchStationNodeInfo?OUTPUT=json&CALLBACK=?&SEARCH_TYPE=4&TYPE=w",dataType:"jsonp"},storeviewData:{url:"http://rv.maps.daum.net/roadview-search/storeview?type=w&output=jsonp",paramKey:"vId",dataType:"jsonp"},route:{url:"route/route.json",traditional:true,dataType:"jsonp"},carRoute:{url:"route/car.json?roadside=ON",traditional:true,dataType:"jsonp"},carSetRoute:{url:"route/carset.json?roadside=ON",traditional:true,dataType:"jsonp",
addParamStr:true},transitRoute:{url:"route/publictrans.json",traditional:true,dataType:"jsonp"},transitRoute2:{url:"route/pubtrans.json?inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",traditional:true,dataType:"jsonp"},walkRoute:{url:"route/walk.json",traditional:true,dataType:"jsonp"},walkSetRoute:{url:"route/walkset.json",traditional:true,dataType:"jsonp"},busInfo:{url:"bus/info.json?output=json",paramKey:"busline",dataType:"jsonp"},busLineStop:{url:"bus/stopbus.json",
dataType:"jsonp"},busStop:{url:"bus/stop.json",paramKey:"busstopid",dataType:"jsonp"},transitBusStop:{url:"bus/stop.json",dataType:"jsonp"},busStopGroup:{url:"bus/overlapbusstop.json",paramKey:"groupBusStopId",dataType:"jsonp"},busStopsInBounds:{url:"bus/search/busregion.json",dataType:"jsonp"},busLinesInBounds:{url:"search/busscreen.json",dataType:"jsonp"},placesInBounds:{url:b.PLACE_IN_BOUNDS+"/ndmclick/poi.json?place=true&address=true&publictraffic=true&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",
dataType:"jsonp"},traffic:{url:b.R_MAPS_DAUM_NET+"/realtraffic/getRealTrafficInfo.service?output=JSON&service=map.daum.net",dataType:"jsonp"},accident:{url:"traffic/accident.json",dataType:"jsonp",scriptCharset:"EUC-KR"},cctv:{url:"traffic/cctvListInBox",dataType:"jsonp"},cctvUrl:{url:"traffic/cctvEncodeUrl",paramKey:"id",dataType:"text"},subwayRoute:{url:b.SUBWAY_ROUTER_HOST+"/subwayroute/route.json?service=map.daum.net",dataType:"jsonp"},subwayStation:{url:"subway/searchSubwayStationName.json?outputCoordSystem=WCONGNAMUL",
dataType:"jsonp"},subwayStationInfo:{url:"subway/subwayStationInfo",paramKey:"stationId",dataType:"popup",width:690,height:665},intercityBus:{url:"pubtrans/intercity/timetable",dataType:"popup",width:870,height:597,options:{noscroll:true,resizable:true}},ferry:{url:"pubtrans/intercity/timetable",dataType:"popup",width:870,height:597,options:{noscroll:true,resizable:true}},island:{url:"pubtrans/intercity/timetable",dataType:"popup",width:870,height:597,options:{noscroll:true,resizable:true}},interCityTimetable:{url:"pubtrans/intercity/timetable",
dataType:"popup",width:870,height:597,options:{noscroll:true,resizable:true}},busTerminalAt:{url:"pubtrans/search/BusTerminalByXY.json",dataType:"json"},favoriteCopy:{url:"favorite/kakao/copy2kakao",paramKey:"seq",dataType:"json"},favoriteUser:{url:"favorite/user",dataType:"json"},favoriteViewAllToggle:{url:"favorite/toggle/daum_view_poi",dataType:"json"},favoriteSelect:{type:"POST",url:"favorite/select",dataType:"json"},favoriteDaumList:{url:"/favorite/kakao/list?service=DAUM",dataType:"json"},favoriteList:{url:"favorite/kakao/list",
dataType:"json"},favoriteAdd:{type:"POST",url:"favorite/kakao/add",dataType:"json"},favoriteDelete:{type:"POST",url:"favorite/kakao/delete",dataType:"json"},favoriteEditname:{type:"POST",url:"favorite/kakao/update/display",dataType:"json"},favoriteHometoggle:{type:"POST",url:"favorite/kakao/hometoggle",dataType:"json"},favoriteAddBusline:{type:"POST",url:"favorite/kakao/add/busline",dataType:"json"},favoriteDeleteBusline:{type:"POST",url:"favorite/kakao/delete/busline",dataType:"json"},MyPlaceAddEdit:{type:"POST",
url:"favorite/kakao/myplace/addedit",dataType:"json"},MyPlaceDelete:{type:"POST",url:"favorite/kakao/myplace/delete",dataType:"json"},afterLogin:{url:d+"afterLogin.jsp",dataType:"popup",width:400,height:260,options:{name:"LOGIN",noscroll:true}},reportMap:{url:b.PLACE_DAUM_NET+"/fiy/LocalCSMapInfo.do",dataType:"popup",width:638,height:750},reportPlace:{url:b.PLACE_DAUM_NET+"/fiy/LocalCSPlaceInfo.do",dataType:"popup",width:638,height:605},shortUrl:{url:b.DMAPS+"/keyCreate",dataType:"jsonp"},placeLineList:{url:"etc/lineGeoData",
processData:false,dataType:"json"},issue:{url:"contents/issue.daum",dataType:"json"},thememapList:{url:b.THEME_PLACE_DAUM_NET+"/theme/list.json",dataType:"jsonp",cache:false},thememapPlaceList:{url:b.THEME_PLACE_DAUM_NET+"/theme/placelist.json",dataType:"jsonp",cache:false},thememapInfo:{url:b.THEME_PLACE_DAUM_NET+"/theme/info.json",dataType:"jsonp",cache:false},thememapPlaceTipList:{url:b.THEME_PLACE_DAUM_NET+"/api/tipList.json",dataType:"jsonp",cache:false},thememapPlaceVote:{url:b.THEME_PLACE_DAUM_NET+
"/theme/place/votegood.json",dataType:"jsonp",cache:false},getHcodeShape:{url:b.AREA_SEARCH+"getHcodeShape.JSON?outputCoordSystem=WCONGNAMUL&service=map.daum.net"},getBcodeShape:{url:b.AREA_SEARCH+"getBcodeShape.JSON?outputCoordSystem=WCONGNAMUL&service=map.daum.net"},getJibunShape:{url:b.AREA_SEARCH_JIBUN+"?output=JSON&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL"},roadviewVideoView:{url:"http://rvroute.map.daum.net/route.daum",dataType:"jsonp"},indoorPolygon:{url:"/etc/indoor/polygon.json",
dataType:"json"},suggestEtc:{url:b.ETC_SUGGEST+"?&mod=json&code=utf_in_out",dataType:"jsonp"}},function(b,d){e[b]=function(b,e,f){var g=a.extend({},d);g.paramKey&&b!=null&&(b=c(g.paramKey,b));if(g.dataType=="popup"){f=g.url;f=f+(/\?/.test(f)?"&":"?");f=f+a.param(b||{});console.info("popup: "+f);Ua(f,g.width,g.height,g.options)}else{g.contentType=="application/json"&&(b=JSON.stringify(b));if(f&&typeof f=="function")g.error=f;if(g.addParamStr){g=a.extend({},g,{url:g.url+b.addParamData});b=b.params}a.ajax(a.extend({timeout:g.timeout||
5E3,cache:true,dataType:"jsonp",data:b,success:function(a){if(console.groupCollapsed){console.groupCollapsed("server: "+g.url);console.dir(b);console.dir(a);console.groupEnd()}e(!("dataType"in g)||/json/.test(g.dataType)?new Ga(a):g.dataType=="xml"?new Pb(a):a)}},g))}}});return e});define("url",function(){var a={SUBWAY_ROUTER_HOST:"http://222.231.41.27",MAP2_DAUM_NET:"http://map2.daum.net",LOCAL_SEARCH_DAUM_NET:"http://map.search.daum.net/mapsearch",MAP_DAUM_NET:"http://map.daum.net",DMAPS:"http://map.daum.net/dmaps",
DMAPS_DISPATCH:"http://dmaps.kr",PLACE_DAUM_NET:"http://place.daum.net",STV_MAPS_DAUM_NET:"http://rv.maps.daum.net",BUILDINGDATAFLASH:null,R_MAPS_DAUM_NET:"http://r.maps.daum-img.net",TAPI_MAPS_DAUM_NET:"http://tapi.maps.daum.net",ROADVIEWCLIENTDATA:null,DANGOL_DAUM_NET:"http://place.daum.net",TILE_SEARCH_IMG_NET:"http://dt.maps.daum-img.net",MAIN_SUGGEST:"http://sugloc.search.daum.net/localplace",ROUTE_SUGGEST:"http://sugloc.search.daum.net/local_total_losuggest",ETC_SUGGEST:"http://sugloc.search.daum.net/local_etc_ctsuggest",
RAPI_DAUM_NET:"http://rapi.daum.net",THEME_PLACE_DAUM_NET:"http://m.place.map.daum.net",TILE_FALL_IMG_NET:"http://10.33.125.201",AREA_SEARCH:"http://rapi.daum.net/regioncode/",AREA_SEARCH_JIBUN:"http://pg.daum.net/localapi/pointsearch/getAreaAddress.service",PLACE_IN_BOUNDS:"http://click.map.daum.net",EMBED_ROUGHMAP_URL:"http://place.map.daum.net/roughmap/pcRoughMap.daum",FIY_SERVER_URL:"http://fiy.daum.net/fiy/",POSTCODE_MAP_DAUM_NET:"http://postcode.map.daum.net",DAUM_PLACE:"http://place.map.daum.net/"};
typeof __overrideURL=="function"&&__overrideURL(a);return a});sb.prototype.infomarkers_=[];sb.prototype.activate=function(){if(!this.zoomHandler_){pb.findAll(this.loadAll_,this);this.zoomHandler_=this.updateVisibility.bind(this);daum.maps.event.addListener(this.map_,"zoom_changed",this.zoomHandler_)}};sb.prototype.updateVisibility=function(){var a=this.map_.getLevel();this.infomarkers_.forEach(function(b){b.updateVisibility(a)})};sb.prototype.loadAll_=function(a){this.onTimestamp.notify(a.timestamp);
this.infomarkers_=a.map(sb.createInfoMarker.bind(this));this.updateVisibility()};sb.createInfoMarker=function(a){a=new xd(a,"realtraffic","alert");a.setMap(this.map_);return a};sb.disposeInfoMarker=function(a){a.setMap(null)};sb.prototype.deactivate=function(){daum.maps.event.removeListener(this.map_,"zoom_changed",this.zoomHandler_);delete this.zoomHandler_;Application.infoWindowManager.closeToType("accident");this.infomarkers_.forEach(sb.disposeInfoMarker);delete this.infomarkers_};define("controller/AccidentController",
["map/Map"],R(sb));jc.AIRTILES="AIRINFO_KHAI AIRINFO_YELLOWSAND AIRINFO_PM10 AIRINFO_O3 AIRINFO_NO2 AIRINFO_CO AIRINFO_SO2".split(" ");jc.AIRTYPE="khai ysand pm10 o3 no2 co so2".split(" ");define("controller/AirMapTileController","options map/Map map/MapTileManager view/LayerLegendView controller/LocalInfoController controller/WeatherWindowController controller/WeatherMarkerController".split(" "),R(jc));W.prototype.TYPE={PLACE:1,ADDRESS:2};W.prototype.onLineOver=function(a,b){var c=this.getPanels(),
d=a.model,e=b.aoiManager_,f=b.miniTooltipManager_;if(c){c.overlayLayer.style.cursor="pointer";d.aoiLineCoords=e.getMouseCoords();f.createAoiLine(d);f.open()}};W.prototype.onLineOut=function(a){var b=this.getPanels(),c=a.miniTooltipManager_;if(b)b.overlayLayer.style.cursor="";c.close();a.mousedownSearchResult=null};W.prototype.onLineDown=function(a){this.mousedownSearchResult=a};W.prototype.registerSearchResult=function(a){this.searchResultMap_[a.model.id]=a};W.prototype.disablePolylineEvent=function(){this.polylineEventDisabled=
true};W.prototype.enablePolylineEvent=function(){this.polylineEventDisabled=false};W.prototype.handleClick=function(){this.miniTooltipManager_.close();if(this.mousedownSearchResult!==null){this.onAoiMousedown.notify(this.mousedownSearchResult);this.mousedownSearchResult=null;return true}return false};W.prototype.callAfterLoad=function(a){this.doAfterLoad_=a};W.prototype.setMapEvent=function(){this.removeMapEvent();daum.maps.event.addListener(this.map_,"idle",this.onIdle)};W.prototype.removeMapEvent=
function(){daum.maps.event.removeListener(this.map_,"idle",this.onIdle)};W.prototype.initModel_=function(){this.aoiMap_={};this.searchResultMap_={}};W.prototype.find=function(a){ja.findPath(a,this.load_.bind(this,this.TYPE.PLACE),this);this.onFind.notify(this)};W.prototype.findAddress=function(a){this.load_(this.TYPE.ADDRESS,Ca.getAoiModel(a));this.onFind.notify(this)};W.prototype.loadCache_=function(a){if(a){this.aoiMap_[a.id]=a;a.resetMarkerPosition&&a.resetMarkerPosition();this.drawLine_(a.id);
this.doAfterLoad_&&this.doAfterLoad_();this.doAfterLoad_=null}};W.prototype.load_=function(a,b){var c,d;if(b){d=b.id;c=this.searchResultMap_[d];if(this.aoiMap_[d]){var e=this.aoiMap_[d];e.clearLineOverlay();if(e.endMarker){e.endMarker.start.setMap(null);e.endMarker.end.setMap(null);this.aoiMap_[d]=null}}this.aoiMap_[d]=new this.Aoi_(b,c,a);this.drawLine_(d);this.doAfterLoad_&&this.doAfterLoad_();this.doAfterLoad_=null}};W.prototype.getAoi=function(){return this.aoiMap_[cid]};W.prototype.setMarker=
function(a){var b=this.aoiMap_[a],a=b.getVisibleMarkerPosition(),b=(b=b.searchResult)?b.marker:null;a&&b&&b.setPosition(a)};W.prototype.getMarkerPosition=function(a){return(a=this.aoiMap_[a])&&a.markerPosition?a.markerPosition:null};W.prototype.getCoordsBounds=function(a){return this.aoiMap_[a]?this.aoiMap_[a].getCoordsBounds():null};W.prototype.setAllMarker=function(){for(var a in this.aoiMap_)this.aoiMap_[a].id&&this.setMarker(a)};W.prototype.drawLine_=function(a,b){var c=this.aoiMap_[a],d=this.map_.getLevel(),
e=this.map_.getBounds(),f={zIndex:-1,strokeColor:"#fe378a",strokeOpacity:0.7,strokeWeight:5};c.clearLineOverlay();d=c.getSimplePaths(d);if(e.intersects(c.getCoordsBounds())){b&&jQuery.extend(f,b);d.forEach(function(a){f.path=a;a=new daum.maps.Polyline(f);this.setPolylineEvent_(a,c.searchResult,c.type);c.overlay.add(a)},this);this.setEndMarker_(a,!!b&&!!b.highlight)}};W.prototype.setPolylineEvent_=function(a,b){if(!this.polylineEventDisabled&&b){daum.maps.event.addListener(a,"mousedown",this.onLineDown.bind(this,
b));daum.maps.event.addListener(a,"mouseover",this.onLineOver.bind(a,b,this));daum.maps.event.addListener(a,"mouseout",this.onLineOut.bind(a,this))}};W.prototype.setEndMarker_=function(a,b){var c=this.aoiMap_[a],d=c.startPoint,e=c.endPoint,f=['<div class="AoiStartEnd"></div>','<div class="AoiStartEnd selected"></div>'];if(c.endMarker)if(b){c.endMarker.start.setContent(f[1]);c.endMarker.end.setContent(f[1])}else{c.endMarker.start.setContent(f[0]);c.endMarker.end.setContent(f[0])}else c.endMarker={start:new daum.maps.Billboard({content:f[0],
position:d,xAnchor:0.5,yAnchor:0.5}),end:new daum.maps.Billboard({content:f[0],position:e,xAnchor:0.5,yAnchor:0.5})};c.endMarker.start.setMap(this.map_);c.endMarker.end.setMap(this.map_)};W.prototype.setEndMarkerZIndex_=function(a,b){var c=this.aoiMap_[a].endMarker;if(c){c.start.setZIndex(b);c.end.setZIndex(b)}};W.prototype.highlightEndMarker_=function(a){this.setEndMarkerZIndex_(a,3)};W.prototype.resetEndMarker_=function(a){this.setEndMarkerZIndex_(a,0)};W.prototype.redrawLines=function(){var a=
this.selectedItem_?this.DIMMED_LINE_OPTION:null,b;for(b in this.aoiMap_)if(this.selectedItem_==b){this.drawLine_(b,this.HIGHLIGHT_LINE_OPTION);this.highlightEndMarker_(b)}else{this.drawLine_(b,a);this.resetEndMarker_(b)}};W.prototype.highlight=function(a){for(var b in this.aoiMap_)if(a==b){this.drawLine_(a,this.HIGHLIGHT_LINE_OPTION);this.highlightEndMarker_(b)}else{this.drawLine_(b,this.DIMMED_LINE_OPTION);this.resetEndMarker_(b)}};W.prototype.getId=function(){return this.id_};W.prototype.show=function(){if(this.isBounds_&&
this.bounds_){this.roadviewController_.close();this.map_.setBounds(this.bounds_)}this.resetMarkerPositions();this.redrawLines();this.setAllMarker()};W.prototype.hide=function(){for(var a in this.aoiMap_)this.hideThis(a)};W.prototype.hideThis=function(a){var a=this.aoiMap_[a],b=a.searchResult;(b=b?b.marker:null)&&b.getMarker().setMap(null);a.hideLineOverlay();if(a.endMarker){a.endMarker.start.setMap(null);a.endMarker.end.setMap(null)}};W.prototype.getAoi=function(a){return this.aoiMap_[a]};W.prototype.clear=
function(){for(var a in this.aoiMap_)this.clearThis(a);this.initModel_();this.selectedItem_=null;this.onClear.notify()};W.prototype.clearAddress=function(){for(var a in this.aoiMap_)a&&a.search("addr")>-1&&this.clearThis(a);this.selectedItem_=null};W.prototype.clearThis=function(a){var b=this.aoiMap_[a],c=b.searchResult,c=c?c.marker:null;this.aoiMap_[a]=null;c&&c.getMarker().setMap(null);b.clearLineOverlay();if(b.endMarker){b.endMarker.start.setMap(null);b.endMarker.end.setMap(null)}delete this.aoiMap_[a]};
W.prototype.clickListItem=function(a){this.clickMarker(a);this.aoiMap_[a]&&this.aoiMap_[a].resetMarkerPosition()};W.prototype.clickAddressItem=function(a,b){this.clearAddress();b?this.callAfterLoad(function(){this.clickListItem(a.id)}.bind(this)):this.callAfterLoad(function(){var b=this.getCoordsBounds(a.id);b&&this.map_.setBounds(b);this.clickListItem(a.id)}.bind(this));this.findAddress(a)};W.prototype.clickMarker=function(a){this.selectedItem_=null;this.highlight(a);this.selectedItem_=a};W.prototype.setHighlightMode=
function(a){this.clickMarker(a)};W.prototype.resetMarkerPositions=function(){var a,b,c;for(c in this.aoiMap_){b=this.aoiMap_[c];(a=(a=b.searchResult)?a.marker:null)&&a.setPosition(b.markerPosition)}};W.prototype.dimAll=function(){this.highlight(-1)};define("controller/AoiController",[],R(W));define("controller/AreaSearchController",["map/Map"],function(a){return new function(a){var c;function d(a,b,c){o[a]=c;c.id=a;c.markerCoords=b;var d=c.bounds.getNorthEast(),e=c.bounds.getSouthWest(),f=c.markerCoords.getX(),
b=c.markerCoords.getY(),h=Math.abs(d.getX()-f),d=Math.abs(d.getY()-b),j=Math.abs(e.getX()-f),e=Math.abs(e.getY()-b);if(Math.sqrt(Math.pow(h,2)+Math.pow(d,2))>Math.sqrt(Math.pow(j,2)+Math.pow(e,2))){f=f-h;b=b-d}else{f=f+j;b=b+e}c.bounds.extend(new daum.maps.Coords(f,b));if(r[a])r[a]();r[a]=null}function e(d){if(d=d==c?o[p]:o[d]){var e=a.getLevel(),f={strokeWeight:4,strokeColor:"#F03480",strokeOpacity:0.6},h=u[d.id],j,g=a.getBounds();j=g.getSouthWest();g=g.getNorthEast();j=g.getX()-j.getX()+(g.getY()-
j.getY());var g=d.bounds.getSouthWest(),k=d.bounds.getNorthEast();j=k.getX()-g.getX()+(k.getY()-g.getY())>=j;if(h){if(e>3)f.strokeOpacity=0.8;if(e>9)f.strokeWeight=3;if(s)if(s==d.id){f.fillColor="#F03480";f.fillOpacity=0.05}else{f.fillOpacity=0;f.strokeOpacity=0.4}if(j)f.fillOpacity=0;h.setOptions(f)}}}function f(){e(p)}function h(c,d){var f=o[c];if(f){if(f.path.length){var h=false;a.getBounds();k();if(!d){f.isJibun?a.setLevel(3):a.setBounds(f.bounds);a.setCenter(f.markerCoords);h=true}u[f.id].setPath(f.path);
u[f.id].setMap(a);e(f.id);g();p=f.id;f=h}else f=false;return f}return false}function j(a){for(id in o)o[id]instanceof qb&&u[id]&&u[id].setMap(null);if(!a)v=s=p=""}function g(){k();daum.maps.event.addListener(a,"zoom_changed",f)}function k(){daum.maps.event.addListener(a,"zoom_changed",f);daum.maps.event.removeListener(a,"zoom_changed",f)}function n(a){var b=a.id,c=o[b],e=d.bind(this,b,a.coords);if(c!=null)e(c);else{u[b]||(u[b]=new daum.maps.Polygon);a.dataType=="2"?a.bhtype.search("B")>-1?qb.fetchByBCode(a.bcode,
e):qb.fetchByHCode(a.hcode,e):(a.dataType=="1"||a.dataType=="5")&&qb.fetchByCoords(a.coords.getX(),a.coords.getY(),e)}}function y(a,b){b?s=a:v=s=a;e(s)}c=1;var o={},p="",s="",v="",r={},u={};this.renderById=function(a,b){return h(a,b)};this.clearMap=function(){return j()};this.setMapEvent=function(){return g()};this.clearMapEvent=function(){return k()};this.fetch=function(a){return n(a)};this.focus=function(a,b){return y(a,b)};this.blurAll=function(a){y(c,a)};this.restoreFocus=function(){y(v)};this.onSearchTabChange=
function(a){switch(a){case 0:h(p);break;case 1:case 2:case 3:j(true);k()}};this.callAfterLoad=function(a,b){r[a]=b};this.getAreaSearch=function(a){return o[a]};this.cacheJibun=function(a,b){var c=new qb(b,true);c.id=a;o[a]=c;u[a]||(u[a]=new daum.maps.Polygon)}}(a)});"use strict";define("controller/AuthController",["options"],R(function(a){var b=!!a.login;this.request=function(a){if(this.isLogin())a();else{require("server").afterLogin();A.__setLogin=function(){b=true;typeof minidaum!="undefined"&&
minidaum.updateUserInfo&&minidaum.updateUserInfo();a&&a()}}};this.isLogin=function(){return b};this.setLoggedOff=function(){b=false}}));Kb.prototype.activate=function(){this.view_.setActive(true);this.view_.clickSelf_();this.click_()};Kb.prototype.click_=function(){if(!this.busLine_&&!this.loading_){X.findBusLine(this.id_,this.load_,this);this.loading_=true}};Kb.prototype.load_=function(a){this.busLine_=a;this.overlays_.add(new daum.maps.Polyline({strokeColor:"#043760",strokeOpacity:1,strokeWeight:7,
additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:"#3385ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:a.linePath_}));var b=new daum.maps.CoordsBounds;a.linePath_.forEach(b.extend,b);this.bounds_=b;this.view_.setData(this.busLine_);this.show()};Kb.prototype.show=function(){if(this.view_.getActive()&&this.bounds_){Application.roadviewController.close();Application.roadviewController.removeLastMarker();Application.map.setBounds(this.bounds_);
this.overlays_.show()}};Kb.prototype.hide=function(){this.overlays_.hide();this.view_.setActive(false)};Xa.displayFlag=!0;Xa.prototype.setData=function(a,b){Xa.displayFlag=true;this.busline=a;this.tiaraBusLayer_=b||false;X.findBusLine(this.busline,this.load_,this)};Xa.prototype.setBusStop=function(a,b,c){this.view_.setSpot(a,b,c)};Xa.prototype.update_=function(){Xa.displayFlag&&X.findBusLine(this.busline,this.loadVehicles_,this);this.tiaraBusLayer_?q.click("businfo","bus_tooltip_update"):q.click("route",
"go_public_buslayer_update")};Xa.prototype.changeActive_=function(){if(this.getActive())this.view_.show();else{this.view_.hide();Xa.displayFlag=false}};Xa.prototype.closeLayer=function(){this.view_.hide();Xa.displayFlag=false};Xa.prototype.load_=function(a){this.data_=a;this.view_.setTiaraFlag(this.tiaraBusLayer_);this.view_.setData(a);this.view_.show();this.setActive(true);this.view_.appendTo(jQuery("#view\\.map"));this.view_.highlightView_&&this.view_.highlightToBusStop();this.view_.scrollView_&&
this.scrollToBusStop()};Xa.prototype.scrollToBusStop=function(){this.view_.scrollToBusStop()};Xa.prototype.busLineItemViewClick_=function(a){Application.infoWindowManager.close();var b=a.order||0;Y.find(a.id,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,this.busline,b)}.bind(this),250)},this);this.tiaraBusLayer_?q.click("businfo","bus_tooltip_busstop"):q.click("route","go_public_buslayer_busstop")};Xa.prototype.totalPath=
function(){this.closeLayer();var a=Application.busSearchController;a.setActive(true);a.findByOne(this.data_.id);q.click("businfo","bus_tooltip_entire_route")};Xa.prototype.loadVehicles_=function(a){this.view_.setVehicles(a.vehicles,a.busStops,a.realtimeState)};define("controller/BusLineController",["view/BusLineView"],R(Xa));$.prototype.regionList=[{id:"11",name:"\uc11c\uc6b8\ud2b9\ubcc4\uc2dc",label:"\uc11c\uc6b8",code:"seoul"},{id:"21",name:"\ubd80\uc0b0\uad11\uc5ed\uc2dc",label:"\ubd80\uc0b0",
code:"pusan"},{id:"22",name:"\ub300\uad6c\uad11\uc5ed\uc2dc",label:"\ub300\uad6c",code:"daegu"},{id:"23",name:"\uc778\ucc9c\uad11\uc5ed\uc2dc",label:"\uc778\ucc9c",code:"incheon"},{id:"24",name:"\uad11\uc8fc\uad11\uc5ed\uc2dc",label:"\uad11\uc8fc",code:"kwangju"},{id:"25",name:"\ub300\uc804\uad11\uc5ed\uc2dc",label:"\ub300\uc804",code:"daejeon"},{id:"26",name:"\uc6b8\uc0b0\uad11\uc5ed\uc2dc",label:"\uc6b8\uc0b0",code:"ulsan"},{id:"29",name:"\uc138\uc885\ud2b9\ubcc4\uc790\uce58\uc2dc",label:"\uc138\uc885",
code:"sejong"},{id:"31",name:"\uacbd\uae30\ub3c4",label:"\uacbd\uae30",code:"kyonggi"},{id:"32",name:"\uac15\uc6d0\ub3c4",label:"\uac15\uc6d0",code:"kangwon"},{id:"33",name:"\ucda9\uccad\ubd81\ub3c4",label:"\ucda9\ubd81",code:"chungbook"},{id:"34",name:"\ucda9\uccad\ub0a8\ub3c4",label:"\ucda9\ub0a8",code:"chungnam"},{id:"35",name:"\uc804\ub77c\ubd81\ub3c4",label:"\uc804\ubd81",code:"jeonbuk"},{id:"36",name:"\uc804\ub77c\ub0a8\ub3c4",label:"\uc804\ub0a8",code:"jeonnam"},{id:"37",name:"\uacbd\uc0c1\ubd81\ub3c4",
label:"\uacbd\ubd81",code:"kyungbook"},{id:"38",name:"\uacbd\uc0c1\ub0a8\ub3c4",label:"\uacbd\ub0a8",code:"kyungnam"},{id:"39",name:"\uc81c\uc8fc\ub3c4",label:"\uc81c\uc8fc",code:"jeju"}];$.prototype.regionMap={};$.prototype.createMap_=function(){this.regionList.forEach(function(a){this.regionMap[a.id]=a;a.subregion&&a.subregion.forEach(function(a){this.regionMap[a.id]=a},this)},this)};$.prototype.createElements_=function(){var a,b,c=document.getElementById("info.bus");busLocal=document.getElementById("search.busLocal");
this.regionList.forEach(function(d){a=document.createElement("li");a.id="search.busLocal."+d.code;a.innerHTML=d.label;busLocal.appendChild(a);if(d.subregion){b=document.createElement("ul");b.id="search."+d.code+"Local";b.className="BusSubLocal HIDDEN";c.appendChild(b);d.subregion.forEach(function(c){a=document.createElement("li");a.id="search.busLocal."+c.id;a.innerHTML=c.name;b.appendChild(a)})}})};$.prototype.result=[];$.prototype.inBounds_=!1;$.prototype.isInBounds=function(){return this.inBounds_};
$.prototype.changeActive_=function(){if(this.getActive()){g.$("info.bus").setVisible(true);g.$("info.bus.searchBoxNumber").setVisible(true);this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true);if(this.result_&&this.result_[0]){this.panel_.show();if(this.activeController_){this.activeItemView_.setActive(true);this.activeItemView_.setDetail(true);this.activeController_.show();this.landmarkMarkers_.show()}}else this.loadView_()}else if(this.activeController_){this.landmarkMarkers_.hide();
this.activeController_.hide()}};$.prototype.changeTab_=function(){if(!this.setUrlFlag_){this.reset();Application.infoWindowManager.close()}};$.prototype.showBusLocalBox_=function(){var a=g.$("info.bus.region.local.button");if(a.hasClass("buslocal-ACTIVE"))ca.$("search.busLocal").hide();else{ca.$("search.busLocal").show();a.addClass("buslocal-ACTIVE");ca.$("search.busLocal").noCloseUIPanel(a)}};$.prototype.showBusSubLocalBox_=function(){var a=this.regionMap[this.busLocal.getValue()].code+"Local",b=
g.$("info.bus.region.subLocal.button");if(jQuery(".BusSubLocal:not(.HIDDEN)").length===0){ca.$("search."+a).show();b.addClass("busSublocal-ACTIVE");ca.$("search."+a).noCloseUIPanel(b)}else ca.$("search."+a).hide()};$.prototype.busTypeChanged_=function(a){this.busTab_.setIndex(a)};$.prototype.subLocalChanged_=function(a){this.scode=a.value;g.$("info.bus.region.subLocal").setText(a.text);for(var b in this.regionMap)if(this.regionMap[b].subregion){ca.$("search."+this.regionMap[b].code+"Local").hide();
g.$("info.bus.region.subLocal").setClass("melt",true)}this.submitRegion_()};$.prototype.busLocalChanged_=function(a){this.hcode=a.value;var b=this.regionMap[this.hcode];this.scode=a.subregionId||b.defaultSubregionId||0;if(b.subregion&&b.subregion.length>1){g.$("info.bus.region").addClass("subregion");ca.$("search.busLocal").addClass("INSUB");g.$("info.bus.region.subLocal").setClass("melt",false);if(!this.regionMap[this.scode])this.scode=b.subregion[0].id}else{g.$("info.bus.region").removeClass("subregion");
ca.$("search.busLocal").removeClass("INSUB");if(!this.regionMap[this.scode]&&b.subregion)this.scode=b.subregion[0].id;delete b.subregion}this.submitRegion_();g.$("info.bus.region.local").setText(a.text);g.$("info.bus.region.subLocal").setVisible(b.subregion).setText(this.scode===0?"\uc2dc/\uad70\uc744 \uc120\ud0dd\ud558\uc138\uc694":this.regionMap[this.scode].name);ca.$("search.busLocal").hide();g.$("info.bus.region.local").setClass("melt",true)};$.prototype.setPanel_=function(){this.panel_.show()};
$.prototype.setRegionName=function(a){this.regionName_=a;this.setUrlFlag_=true};$.prototype.submit_=function(){g.$("info.route.searchBox.number.name").removeClass("BUSSEARCH-ACTIVE");var a=this.setUrlFlag_?this.regionName_:null;this.setUrlFlag_=false;this.regionInfo_={};this.typeInfo_={};this.landmarkMarkers_.clear();if(this.guideSelected_)this.guideSelected_=false;else this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.inBounds_=false;var b=this.busTab_.getIndex();this.busNumber_=b==0?g.$("info.route.searchBox.number.name").getValue():
g.$("info.route.searchBox.stop.name").getValue();if(!this.busNumber_){b==0?alert("\ubc84\uc2a4\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694!"):alert("\ubc84\uc2a4\uc815\ub958\uc7a5\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!");return false}g.$("info.route.searchBox.number.delete").show();var c=this.regionInfo_.id,d=this.typeInfo_.id;this.dssBusObj={pg:1,regionname:a,regionid:c,typeid:d,mkey:this.createMKey()};switch(b){case 0:this.mode_="number";this.preNumber_=g.$("info.route.searchBox.number.name").getValue();
this.dssBusObj.qatype=this.qaTypeForBusNumber_;X.findAll(this.busNumber_,1,{regionName:a,regionId:c,typeId:d,qaType:this.qaTypeForBusNumber_},this.loadNumberData,this);q.click("businfo","num_search",{param1:this.busNumber_});break;case 1:this.mode_="stop";this.preStop_=g.$("info.route.searchBox.stop.name").getValue();this.dssBusObj.qatype=this.qaTypeForBusStop_;Y.findAllByName(this.busNumber_,1,{regionName:a,regionId:c,typeId:d,qaType:this.qaTypeForBusStop_},this.loadStopData_,this);q.click("businfo",
"busstop_search",{param1:this.busNumber_});break;default:assert("Invalid mode: "+this.mode_)}this.paginationView_.setPage(1);g.$("info.bus.searchBox.number.submit").focusAndSelect();g.$("info.bus.searchBox.stop.submit").focusAndSelect();Application.mainMapController.clearThemePoiControlView()};$.prototype.findName=function(a){this.setUrlFlag_=true;g.$("info.route.searchBox.number.name").setValue(a);this.busTypeChanged_(0);this.submit_()};$.prototype.findStop=function(a){this.setUrlFlag_=true;g.$("info.route.searchBox.stop.name").setValue(a);
this.busTypeChanged_(1);this.submit_()};$.prototype.findOneByCode=function(a){this.findBus_=this.favoriteBus_=a;this.mode_="number";this.inBounds_=false;X.findBusLine(a,this.loadBusLineData_,this)};$.prototype.loadBusLineData_=function(a){g.$("info.bus.filter").removeAllChildren();this.busMessageView_.setVisible(false);var b;b=[];b.push(a);this.loadData_(b)};$.prototype.findByOne=function(a){this.busTypeChanged_(0);this.findBus_=a;require("server").busInfo(a,this.findByOne_.bind(this))};$.prototype.findByOne_=
function(a){this.mode_="number";this.inBounds_=false;this.busNumber_=a.text("name");g.$("info.route.searchBox.number.name").setValue(this.busNumber_);X.findOne(this.busNumber_,this.findBus_,this.loadNumberData,this);this.paginationView_.setPage(1)};$.prototype.submitRegion_=function(){q.click("businfo","region_search");this.landmarkMarkers_.clear();this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_="";g.$("info.bus.list").removeAllChildren();this.paginationView_.getPanel().hide();
var a=this.regionMap[this.hcode].subregion?true:false;if(a&&!this.scode){alert("\uc9c0\uc5ed \uc120\ud0dd\uc744 \ud655\uc778\ud558\uc138\uc694");return false}var b=!a?this.hcode:this.scode,c=this.regionMap[this.hcode].name;a&&(c=c+(" "+this.regionMap[this.scode].name));a=g.$("info.bus.filter");a.removeAllChildren();this.busMessageView_.setVisible(false);c=new g("p","title",[new g("strong","",c)," \ubc84\uc2a4\ub178\uc120"]);a.addChild(c);this.mode_="region";this.regionCode_=b;X.findAllInRegion(b,
1,this.loadData,this);this.paginationView_.setPage(1);Application.mainMapController.clearThemePoiControlView();require("log/Tiara").log("/fake/bus_busHcodeSearchResult")};$.prototype.setMessage=function(a,b,c){this.loadBusMessage_(a);var d=g.$("info.bus.filter");d.removeAllChildren();d.addChild(new g("span","",["(\ucd1d ",new g("em","",a.count||"0"),"\uac74)"]));var e=["BUS-LEFT","BUS-RIGHT"];if(a.regions.length>2){var f=a.regions.map(function(a){return a.name}),f=Fc(f),h=this.regionName_?this.regionName_:
this.regionInfo_.name?this.regionInfo_.name:a.regions[0].name;f.setLabel(h);h=f.getPane();h.addClass("BusFilterSelectBoxView-"+e.pop());d.addChild(h);f.onSelect.add(function(d){this.regionInfo_=a.regions[d];d=a.qaType;t.log("search_q_type",this.busNumber_,{typeid:"filter",tab:this.mode_=="number"?"busname_realbus":"busstop_realbus",regionid:this.regionInfo_.id,bustypeid:this.typeInfo_.id});this.mode_=="number"?this.qaTypeForBusNumber_=d:this.qaTypeForBusStop_=d;this.dssBusObj={pg:1,regionname:this.regionName_,
regionid:this.regionInfo_.id,typeid:this.typeInfo_.id,qatype:d,mkey:this.createMKey()};this.paginationView_.setPage(1);b(this.busNumber_,1,{regionName:this.regionName_,regionId:this.regionInfo_.id,typeId:this.typeInfo_.id,qaType:d,mkey:this.createMKey()},c,this)},this)}if(a.types.length>2){f=a.types.map(function(a){return a.name});f=Fc(f);h=this.typeInfo_.name?this.typeInfo_.name:a.types[0].name;f.setLabel(h);h=f.getPane();h.addClass("BusFilterSelectBoxView-"+e.pop());d.addChild(h);f.onSelect.add(function(d){this.typeInfo_=
a.types[d];d=a.qaType;t.log("search_q_type",this.busNumber_,{typeid:"filter",tab:this.mode_=="number"?"busname_realbus":"busstop_realbus",regionid:this.regionInfo_.id,bustypeid:this.typeInfo_.id});this.mode_=="number"?this.qaTypeForBusNumber_=d:this.qaTypeForBusStop_=d;this.paginationView_.setPage(1);this.dssBusObj={pg:1,regionname:this.regionName_,regionid:this.regionInfo_.id,typeid:this.typeInfo_.id,qatype:d,mkey:this.createMKey()};b(this.busNumber_,1,{regionName:this.regionName_,regionId:this.regionInfo_.id,
typeId:this.typeInfo_.id,qaType:d,mkey:this.createMKey()},c,this)},this)}this.paginationView_.setTotal(a.pageCount/15)};$.prototype.loadBusMessage_=function(a){this.busMessageView_.setVisible(true);this.busMessageView_.setData(a.originalKeyword,a.currentGuide,a.nextGuide)};$.prototype.loadNumberData=function(a){this.loadData_(a.buses);this.setMessage(a,X.findAll,this.loadNumberData);this.sendDssLog(this.dssSearchInType||"search_bus_number",this.busNumber_,{cnt:a.count||0});this.regionName_=this.dssSearchInType=
"";require("log/Tiara").log("/fake/bus_number_result")};$.prototype.loadStopData_=function(a){this.loadData_(a.busStops);this.setMessage(a,Y.findAllByName,this.loadStopData_);this.sendDssLog(this.dssSearchInType||"search_bus_station",this.busNumber_,{cnt:a.count||0});this.regionName_=this.dssSearchInType="";require("log/Tiara").log("/fake/bus_stop_result")};$.prototype.loadData_=function(a){this.result_=a;this.loadView_()};$.prototype.loadView_=function(){var a=this.result_;Application.roadviewController.close();
Application.roadviewController.removeLastMarker();g.$("info.bus.search").show();var b=g.$("info.bus.list");if(this.activeController_){this.activeController_.hide();this.activeController_=null}if(a&&a[0]){this.setPanel_();this.noBusView_.hide();b.show();b.removeAllChildren();this.itemTotalLength=a.length;(this.items=a.map(this.mode_==="stop"?this.createStopItemView_:this.createItemView_,this)).forEach(b.addChild,b);g.$("info.noBus").hide()}else if(a){b.hide();if(this.mode_=="number"){this.noBusView_.show();
this.noBusNameView_.hide()}else if(this.mode_=="stop"){this.noBusView_.hide();this.noBusNameView_.show()}g.$("info.noBus").show()}else this.introView_.show();this.findBus_=null;this.paginationView_.setTotal(0)};$.prototype.loadData=function(a){this.hcode=this.hcode.toString();this.setPanel_(true);this.loadData_(a.buses);this.paginationView_.setTotal(a.count/15);this.paginationView_.getPanel().show();t.log("search_bus_region",this.regionMap[this.hcode].name,{cnt:a.count||0})};$.prototype.reset=function(){if(this.activeController_){this.activeController_.hide();
this.activeController_=null}g.$("info.bus.region.local").setClass("melt",false);g.$("info.bus.region.subLocal").setClass("melt",false);g.$("info.bus.region").removeClass("subregion");ca.$("search.busLocal").removeClass("INSUB");g.$("info.route.searchBox.number.name").setValue("");g.$("info.route.searchBox.stop.name").setValue("");g.$("info.bus.region.local").setText("\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694");g.$("info.bus.region.subLocal").setText("\uc2dc/\uad70\uc744 \uc120\ud0dd\ud558\uc138\uc694").hide();
g.$("info.route.searchBox.number.delete").hide();g.$("info.route.searchBox.stop.delete").hide();this.landmarkMarkers_.clear();this.preStop_=this.preNumber_=this.favoriteBus_=this.result_=null;this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.guideSelected_=false;this.dssBusObj=null;this.dssSearchInType="";this.getActive()&&this.introView_.show()};$.prototype.findRegion=function(a){this.setUrlFlag_=true;var b={text:"\uc9c0\uc5ed\ubcc4",value:2};this.busTypeChanged_(2);
if(this.regionMap[a.substring(0,2)]){this.hcode=a.substring(0,2);b.text=this.regionMap[this.hcode].label;b.value=this.hcode;this.busLocal.setText_(b.text);this.busLocal.setValue_(b.value);b.subregionId=a==this.hcode?this.regionMap[a].defaultSubregionId:a;this.busLocalChanged_(b)}};$.prototype.openBusStop_=function(a){Application.infoWindowManager.close();var b=a.order||0;Y.find(a.id,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,
this.busLineId_.id,b)}.bind(this),250)}.bind(this))};$.prototype.setPage=function(a){var b=this.regionName_||null,c=this.regionInfo_.id||"",d=this.typeInfo_.id||"";this.dssBusObj={pg:a,regionname:b,regionid:c,typeid:d,mkey:this.createMKey()};switch(this.mode_){case "number":this.dssSearchInType="search_bus_number_paging";this.dssBusObj.qatype=this.qaTypeForBusNumber_;X.findAll(this.busNumber_,a,{regionName:b,regionId:c,typeId:d,qaType:this.qaTypeForBusNumber_},this.loadNumberData,this);break;case "bounds":X.findInBounds(this.bounds_,
a,this.loadInBounds_,this);break;case "region":X.findAllInRegion(this.regionCode_,a,this.loadData,this);break;case "stop":this.dssSearchInType="search_bus_station_paging";this.dssBusObj.qatype=this.qaTypeForBusStop_;Y.findAllByName(this.busNumber_,a,{regionName:b,regionId:c,typeId:d,qaType:this.qaTypeForBusStop_},this.loadStopData_,this);break;default:assert(false)}g.$("info.body").scrollTo(0)};$.prototype.createItemView_=function(a,b,c){var d=new jb(a,this.buttonFactory_),e=new Kb(a.id,d);d.onBusStop.add(this.openBusStop_,
this);d.onClick.add(function(){this.landmarkMarkers_.clear();this.createLandmark_(a.landmarks);this.busLineId_=a;var c=this.activeController_;if(c!=e){c&&c.hide();this.activeController_=e;this.activeItemView_=d;e.show();this.landmarkMarkers_.show();Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a);q.click("businfo","bus_number");if(this.mode_==="number")this.sendDssLog("search_bus_number_click",this.busNumber_,{name:this.busLineId_.name,addr:this.busLineId_.region,
cpg:","+this.itemTotalLength+","+(b+1)});else if(this.mode_==="region"){c=this.regionMap[this.hcode].name;c=c+(this.regionMap[this.hcode].subregion?" "+this.regionMap[this.scode].name:"");t.log("search_bus_region_click",c,{name:this.busLineId_.name,addr:this.busLineId_.region,cpg:","+this.itemTotalLength+","+(b+1)})}}},this);if(this.findBus_===a.id||c.length==1){e.activate();this.busLineId_=a;this.activeController_=activeController=e;this.activeItemView_=d;Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,
a)}d.onViewport.add(function(){q.click("businfo","entire_route");e.show()},this);return d};$.prototype.createStopItemView_=function(a,b){var c=new re(a,this.buttonFactory_);c.onBusInfo.add(function(){Y.find(a.id,function(a){Application.map.setCenter(a.coords);Application.map.setLevel(3);Application.infoWindowManager.createBusStop(a)});q.click("businfo","busstop");this.sendDssLog("search_bus_station_click",this.busNumber_,{name:a.name,addr:a.region,cpg:","+this.itemTotalLength+","+(b+1)})},this);c.onRoadview.add(function(){q.click("businfo",
"busstop_roadview");Application.roadviewController.show(a.roadview)});return c};$.prototype.createLandmark_=function(a){a&&a.forEach(function(a){this.landmarkMarkers_.add(z.createLandmark(a.coords));var c=new Rb;c.setData("BUSLANDMARK",a.coords,'<span class="name">'+a.name+"</span>");this.landmarkMarkers_.add(c)},this)};$.prototype.getBusNumberKeyword=function(){return g.$("info.route.searchBox.number.name").getValue()};$.prototype.getBusStopKeyword=function(){return g.$("info.route.searchBox.stop.name").getValue()};
$.prototype.getMode=function(){return this.mode_};$.prototype.getFavoriteBus=function(){return this.favoriteBus_};$.prototype.getRegionCode=function(){return this.regionCode_};$.prototype.getRegionName=function(){return this.regionName_};$.onSuggestParseItem=function(a){var b=a[0];switch(a[0]){case "BI":b=a[1];a=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',a[1],a[2]);break;case "BN":b=a[2];default:a=String.format("%h",b)}return[a,b]};$.prototype.sendDssLog=
function(a,b,c){c=jQuery.extend({},this.dssBusObj,c||{});c.regionname=c.regionname||"";c.regionid=c.regionid||"";c.bustypeid=c.typeid||"";c.qatype=c.qatype||"";if(c.cpg)c.cpg=c.pg+c.cpg;t.log(a,b,c)};$.prototype.createMKey=function(){return+new Date+"_"+Math.ceil(Math.random()*32767)};define("controller/BusSearchController","map/Map manager/ViewLayout factory/ButtonFactory manager/MapSuggest options controller/HistoryController".split(" "),R($));aa.prototype.find=function(){if(!this.mode_)this.mode_=
T.REALTIME;if(!this.option_)this.option_=T.OPTION_NONE;this.panel_&&this.panel_.setNoResult(true);this.find_()};aa.prototype.getRoute=function(){return this.routeset_};aa.prototype.clearRoute=function(){this.routeset_=this.route_=null;this.hideRoute_()};aa.prototype.clearDetailRoute=function(){this.route_=null;this.panel_.initDetailedItem();this.hideDetailRoute_()};aa.prototype.hideRoute_=function(){this.hideDetailRoute_();this.panel_&&this.panel_.hide();this.noResultView_&&this.noResultView_.hide()};
aa.prototype.hideDetailRoute_=function(){this.infoWindowManager_.close();this.accidentMarkers_.hide();this.cctvMarkers_.hide();this.gasStationMarkers_.hide();this.restAreaMarkers_.hide();this.themePoiControlView_.setRouteControlView(false);this.controlView_.getTraffic()&&!this.mapTypeControl_.isTrafficActive()&&this.layerLegend_.setLegend("traffic",false);this.checkpoints_.hide();this.overlays_.hide();this.trafficLines_.hide();this.noticeLine_.hide();this.wholeLine_&&this.wholeLine_.setMap(null);
this.panel_&&this.panel_.initDetailedItem();this.roadviewController_.setRouteData("car",null);this.setToolBarVisible(false);this.setExtraCopyright(false);this.previewLines.forEach(function(a){a.setMap(null)});this.previewHoverLines.forEach(function(a){a.setMap(null)});this.previewStartLines.forEach(function(a){a.setMap(null)});this.previewEndLines.forEach(function(a){a.setMap(null)})};aa.prototype.find_=function(a){this.route_=null;var b=Application.flagSearchController.getWaypoints();b?T.find(b,
this.mode_,this.option_,function(b){var d=Application.flagSearchController.getWaypoints();if(!b&&(this.option_==T.OPTION_FREEWAY||this.option_==T.OPTION_BIKE)){this.routeset_&&this.routeset_.option?this.panel_.setOptionPanel(this.routeset_.method,this.routeset_.option):this.panel_.setOptionPanel(T.REALTIME,T.OPTION_NONE);alert("\uc120\ud0dd\ud55c \uc635\uc158\uc5d0 \ud574\ub2f9\ud558\ub294 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}else{b.resultCode==""&&Application.historyController.addRoute(Application.historyController.TYPE_LIST.CAR,
d);this.routeset_=b;this.dirty_=true;a?this.load_():this.onResult.notify();d=Application.flagSearchController.getWaypoints();t.log("search_path_car",d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.id&&a.id.substr&&a.id.substr(0,1)=="P"?a.id.slice(1):"")}),b.error?{cnt:0,mode:b.resultCode}:{cnt:1,mode:""})}},this):this.load_(null)};aa.prototype.isLoaded=function(){return!!this.routeset_};aa.prototype.clearData_=function(){this.checkpoints_.clear();
this.overlays_.clear();this.trafficLines_.clear();this.noticeLine_.clear();this.wholeLine_&&this.wholeLine_.setMap(null);this.accidentMarkers_.clear();this.cctvMarkers_.clear();this.gasStationMarkers_.clear();this.restAreaMarkers_.clear();this.route_=null;this.previewHoverLines.forEach(function(a){a.setMap(null)});this.previewHoverLines.length=0;this.previewLines.forEach(function(a){a.setMap(null)});this.previewLines.length=0;this.previewStartLines.forEach(function(a){a.setMap(null)});this.previewStartLines.length=
0;this.previewEndLines.forEach(function(a){a.setMap(null)});this.previewEndLines.length=0;this.roadviewRoute_=null};aa.prototype.load_=function(){var a=this.routeset_;this.infoWindowManager_.close();Application.windowController.showInfoAndTop();this.clearDetailRoute();this.clearData_();this.panel_.setDaumNotice(false);this.panel_.setNoResult(false);require("log/Tiara").log("/fake/routing_carSearch");if(a.error){this.noResultView_&&this.noResultView_.detach();this.noResultView_=Wa.createCar(a.resultCode,
a);g.$("info.flagsearch").addChild(this.noResultView_);this.panels_.add(null,this.noResultView_);this.noResultView_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);this.noResultView_.setVisible(true);this.toolBar_&&this.setToolBarVisible(false);this.panel_.setNoResult(true)}else{this.roadviewRoute_=a.carRoutes[0];this.panel_.setData(a);this.panel_.show();this.setPreviewHoverLine(0,true);this.panel_.initHover()}};aa.prototype.setDetailRoute=function(a){this.clearDetailRoute();
this.checkpoints_.clear();this.overlays_.clear();this.trafficLines_.clear();this.noticeLine_.clear();this.wholeLine_&&this.wholeLine_.setMap(null);this.accidentMarkers_.clear();this.cctvMarkers_.clear();this.gasStationMarkers_.clear();this.restAreaMarkers_.clear();this.route_=this.routeset_.carRoutes[a];this.panel_.setDetailedItem(a);(a=this.route_)&&a.hasRoadviewInfo?this.roadviewController_.setRouteData("car",a.raw):this.roadviewController_.setRouteData("car",null);this.themePoiControlView_.setRouteControlView(a.accidents!==
null);if(!this.toolBar_){var b=this.toolBar_=new Hc;b.onClick.add(this.handleToolbar_,this);g.$("info.footer").addChild(b)}this.setToolBarVisible(true);var c=[],b=T.getSourceLineColor(a.source);a.checkpoints.forEach(function(a){c=c.concat(a.points)});a.checkpoints.forEach(this.createTrafficLine_,this);this.wholeLine_=new daum.maps.Polyline({strokeWeight:7,strokeColor:"#000",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:b},{strokeStyle:"longdash",strokeWeight:"1",
strokeColor:"#ffffff",strokeOpacity:"1"}],path:c});var d=c[0],e=c[c.length-1],f=Application.flagSearchController.getWaypoints(),h=f[f.length-1].coords;this.noticeLine_.add(new daum.maps.Polyline({strokeColor:b,strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash",path:[f[0].coords,d]}));this.noticeLine_.add(new daum.maps.Polyline({strokeColor:b,strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash",path:[e,h]}));var j=[];a.checkpoints.forEach(function(a){a.coords&&j.push(a.coords)});a.sectionPoints.length<
6&&a.sectionPoints.forEach(function(a,b){this.createEditableRoute_(a,b,j)},this);a.checkpoints.forEach(this.createNumber_,this);this.noticeLine_.show();this.fitRouteInMap_();if(a.accidents){this.themePoiControlView_.setRouteControlView(true);this.loadRoadside_(a)}else{this.trafficLines_.hide();this.wholeLine_&&this.wholeLine_.setMap(this.map_);this.themePoiControlView_.setRouteControlView(false)}this.layerLegend_.setClickableLabel(true);this.layerLegend_.setLegend("traffic",this.controlView_.getTraffic())};
aa.prototype.loadPreviewLines=function(){var a=new daum.maps.CoordsBounds,b=Application.flagSearchController.getWaypoints(),c=b[0].coords,d=b[b.length-1].coords;this.routeset_.carRoutes.forEach(function(b){var f=[],h=T.getSourceLineColor(b.source),j=T.getSourceOutLineColor(b.source);b.checkpoints.forEach(function(a){f=f.concat(a.points)});f.forEach(function(b){a.extend(b)});this.previewLines.push(new daum.maps.Polyline({strokeWeight:7,strokeColor:j,strokeOpacity:1,additionalStyles:[{strokeWeight:"5",
strokeOpacity:"1",strokeColor:h}],path:f}));b=f[f.length-1];this.previewStartLines.push(new daum.maps.Polyline({strokeColor:h,strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash",path:[c,f[0]]}));this.previewEndLines.push(new daum.maps.Polyline({strokeColor:h,strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash",path:[b,d]}))},this);this.previewLinesBounds=a};aa.prototype.loadPreviewHoverLines=function(){this.routeset_.carRoutes.forEach(function(a){var b=[],c=T.getSourceLineColor(a.source);
a.checkpoints.forEach(function(a){b=b.concat(a.points)});this.previewHoverLines.push(new daum.maps.Polyline({strokeWeight:7,strokeColor:"#000",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:c},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b}))},this)};aa.prototype.setPreviewLines=function(a){if(a){this.previewLines.forEach(function(a){a.setMap(this.map_)},this);this.previewStartLines.forEach(function(a){a.setMap(this.map_)},
this);this.previewEndLines.forEach(function(a){a.setMap(this.map_)},this);this.map_.setBounds(this.previewLinesBounds)}else{this.previewLines.forEach(function(a){a.setMap(null)});this.previewStartLines.forEach(function(a){a.setMap(null)},this);this.previewEndLines.forEach(function(a){a.setMap(null)},this);this.previewHoverLines.forEach(function(a){a.setMap(null)})}};aa.prototype.setPreviewHoverLine=function(a,b){var c=this.previewLines[a],d=this.previewHoverLines[a],e=this.previewStartLines[a],f=
this.previewEndLines[a];if(e&&f){e.setMap(null);f.setMap(null)}if(this.route_){if(this.routeset_.carRoutes.indexOf(this.route_)!=a&&c)if(b){c.setMap(this.map_);e.setMap(this.map_);f.setMap(this.map_)}else c.setMap(null)}else if(c&&d){if(b){c.setMap(null);d.setMap(this.map_)}else{c.setMap(this.map_);d.setMap(null)}e.setMap(this.map_);f.setMap(this.map_)}};aa.prototype.loadRoadside_=function(a){a.accidents.forEach(this.createAccident_,this);var b=a.accidents[0];this.controlView_.setAccident(this.map_.getLevel()<
7&&b);this.controlView_.accidentClickable(b);a.cctvs.forEach(this.createCctv_,this);b=a.cctvs[0];this.controlView_.setCctv(this.map_.getLevel()<7&&b);this.controlView_.cctvClickable(b);this.gasStationLoaded_=false;this.controlView_.setGas(false);this.controlView_.gasClickable(a.gasStations[0]);a.restAreas.forEach(this.createRestArea_,this);this.controlView_.setService(false);this.controlView_.serviceClickable(a.restAreas[0])};aa.prototype.accidentInfoClickHandler_=function(a){this.accidentMarkers_.markers_.forEach(function(b){if(a==
b.accident_.id){this.controlView_.setAccident(true);this.map_.setCenter(b.getMarker().getPosition());b.clickMarker()}},this)};aa.prototype.createAccident_=function(a){this.accidentMarkers_.add(new xd(a,"route","go_car_accident_get"))};aa.prototype.createCctv_=function(a){this.cctvMarkers_.add(new nc(a,this.miniTooltipManager_,"route","go_car_CCTV_get"))};aa.prototype.createGasStation_=function(a){var b=z.createGasStation(a.coords);daum.maps.event.addListener(b,"click",function(){ja.find(a.id,function(a){a&&
this.infoWindowManager_.createPlace(a,b)},this);q.click("route","go_car_gas_station_get")}.bind(this));this.gasStationMarkers_.add(b)};aa.prototype.createRestArea_=function(a){var b=z.createRestArea(a.coords);daum.maps.event.addListener(b,"click",function(){ja.find(a.id,function(a){a&&this.infoWindowManager_.createPlace(a,b)},this);q.click("route","go_car_service_station_get")}.bind(this));this.restAreaMarkers_.add(b)};aa.prototype.createTrafficLine_=function(a){console.assert(Array.isArray(a.points));
if(a.points[0]){var b;switch(a.traffic){case M.LIGHT:b="#39d729";break;case M.MODERATE:b="#ffe300";break;case M.MEDIUM:b="#ffb629";break;case M.HEAVY:b="#ff3829";break;default:b="#949294"}this.trafficLines_.add(new daum.maps.Polyline({strokeWeight:5.5,strokeColor:"#000000",strokeOpacity:1,additionalStyles:[{strokeWeight:4,strokeColor:b,strokeOpacity:1},{strokeWeight:1.5,strokeColor:"#ffffff",strokeOpacity:1,strokeStyle:"shortdash"}],path:a.points,pathHint:a.hints}))}};aa.prototype.createEditableRoute_=
function(a,b,c){a=new Qb(b,this.map_,a,c);a.onCoords.add(this.addStop_,this);this.overlays_.add(a)};aa.prototype.createJoint_=function(a,b){if(a){var c=z.createStop(a);c.setMap(this.map_);this.overlays_.add(c);c=z.createStopRemover(a);c.setMap(this.map_);this.overlays_.add(c);daum.maps.event.addListener(c,"click",this.removeStop_.bind(this,b))}};aa.prototype.createNumber_=function(a,b){var c=z.createCarDirectionNumber(a.seq,a.coords);c.setTitle(a.name);var d=this.panel_.getCheckpoints()[b];d instanceof
hc&&d.setMarker(c);c.onClick&&c.onClick.add(function(){this.openFlagInfoWindow_(b);this.panel_.setIndex(b)},this);this.checkpoints_.add(c)};aa.prototype.changeActive_=function(){if(this.getActive())if(this.route_){this.panel_.show();this.setDetailRoute(this.routeset_.carRoutes.indexOf(this.route_))}else this.load_();else this.hideRoute_()};aa.prototype.fitRouteInMap_=function(){var a=this.route_;if(a){this.roadviewController_.getActive()&&Application.roadviewController.close();var b=a.bounds,b=new daum.maps.CoordsBounds(b.getSouthWest(),
b.getNorthEast()),c=a.origin.coords;c&&b.extend(c);(a=a.dest.coords)&&b.extend(a);this.map_.setBounds(b)}};aa.prototype.setTraffic=function(a){this.controlView_.setTraffic(a)};aa.prototype.handleMethod_=function(){this.mode_=this.panel_.getMode();this.option_=this.panel_.getOption();switch(this.mode_){case T.REALTIME:q.click("route","go_car_realtraffic");break;case T.OPTIMAL:q.click("route","go_car_suggest");break;case T.SHORTEST:q.click("route","go_car_minimum");break;default:console.assert(false)}switch(this.option_){case T.OPTION_FREEWAY:q.click("route",
"go_car_free");break;case T.OPTION_BIKE:q.click("route","go_car_except")}this.find_(true)};aa.prototype.doFavorite_=function(){var a=Application.flagSearchController.getWaypoints();a&&Application.favoriteController.add(B.createCarFromWaypoints(a,this.mode_==T.REALTIME?"realtime":this.mode_==T.SHORTEST?"dist":"time"))};aa.prototype.print=function(){Ua("etc/print_car.jsp",680,750);q.click("route","go_car_print")};aa.prototype.activateMarker_=function(a){a=this.checkpoints_.at(a);a.setActive&&a.setActive(true);
return a};aa.prototype.nearbyButtonClick_=function(a){a=this.route_.checkpoints.indexOf(a);this.openFlagInfoWindowAndZoom_(a);this.panel_.setIndex(a)};aa.prototype.showStartEndInfo=function(a){return Application.infoWindowManager.createStartEndPointInfo(a,{x:20,y:27})};aa.prototype.openFlagInfoWindow_=function(a){var b=this.route_.checkpoints[a],c=this.activateMarker_(a),d=null;if(b.seq=="start"||b.seq=="through"||b.seq=="goal"){d=this.showStartEndInfo(b);d.onCloseBtn.add(function(){infoWindowManager.closeWithoutNotify()})}else d=
this.infoWindowManager_.createCarInfoInfo(b,c);d.setButtons(this.route_.checkpoints[a-1],this.route_.checkpoints[a+1]);d.onPrev.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a-1])},this);d.onNext.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a+1])},this);c&&c.setActive&&d.onClose.add(function(){c.setActive(false)});q.click("route","go_car_mappoint")};aa.prototype.openFlagInfoWindowAndZoom_=function(a){this.roadviewController_.close();var b=this.route_.checkpoints[a],
c=this.activateMarker_(a),d=null;if(b.seq=="start"||b.seq=="through"||b.seq=="goal"){d=this.showStartEndInfo(b);d.onCloseBtn.add(function(){this.infoWindowManager_.closeWithoutNotify()}.bind(this))}else d=this.infoWindowManager_.createCarInfoInfo(b,c);d.setButtons(this.route_.checkpoints[a-1],this.route_.checkpoints[a+1]);this.map_.setCenter(b.coords);d.onPrev.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a-1])},this);d.onNext.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a+
1])},this);q.click("route","go_car_textpoint")};aa.prototype.addStop_=function(a){this.onAddStop.notify(a)};aa.prototype.removeStop_=function(){this.mode_=T.REALTIME;this.option_=T.OPTION_NONE;this.find_()};aa.prototype.handleToolbar_=function(a){switch(a){case "print":this.print();break;case "alook":this.fitRouteInMap_();q.click("car","go_car_once_view");break;case "favorite":this.doFavorite_();q.click("route","go_car_favorite");break;case "delete":Application.flagSearchController.reset();q.click("route",
"go_car_route_delete");break;default:console.assert(false)}};aa.prototype.transitRoutesCount_=0;aa.prototype.handleControlView_=function(){if(this.getActive()){this.infoWindowManager_.close();if(this.controlView_.getTraffic()){this.trafficLines_.show();this.wholeLine_&&this.wholeLine_.setMap(null);this.layerLegend_.setDate(new Date);this.layerLegend_.setClickableLabel(true);this.layerLegend_.setLegend("traffic",true)}else{this.trafficLines_.hide();this.wholeLine_&&this.wholeLine_.setMap(this.map_);
this.layerLegend_.setClickableLabel(false);this.layerLegend_.setLegend("traffic",false)}this.controlView_.getAccident()?this.accidentMarkers_.show():this.accidentMarkers_.hide();this.controlView_.getCctv()?this.cctvMarkers_.show():this.cctvMarkers_.hide();if(this.controlView_.getGas()){if(!this.gasStationLoaded_){this.route_.gasStations.forEach(this.createGasStation_,this);this.gasStationLoaded_=true}this.gasStationMarkers_.show()}else this.gasStationMarkers_.hide();this.controlView_.getService()?
this.restAreaMarkers_.show():this.restAreaMarkers_.hide()}};aa.prototype.handleRoadviewCheckpoint_=function(a){this.route_.checkpoints.some(function(b,c){if(b.seq==a.seq){this.panel_.setIndex(c);return true}},this)};aa.prototype.setExtraCopyright=function(a){a?this.map_.setAdditionalCopyrights(["HYUNDAI MnSOFT"]):this.map_.setAdditionalCopyrights([])};aa.prototype.getMethod=function(){switch(this.mode_){case T.OPTIMAL:return 1;case T.SHORTEST:return 2}return 0};aa.prototype.setToolBarVisible=function(a){if(this.toolBar_){a?
this.toolBar_.setVisible(true):this.toolBar_.setVisible(false);Application.windowController.updateHeight()}};aa.prototype.setMode=function(a){this.mode_=a};define("controller/CarRouteSearchController","map/Map view/LayerLegendView view/ThemePoiControlView map/InfoWindowManager map/MiniTooltipManager controller/RoadviewController view/CarRouteResultView map/MapTypeControl".split(" "),R(aa));Ya.prototype.infomarkers_=[];Ya.prototype.activate=function(){if(!this.zoomHandler_){this.zoomHandler_=this.updateVisibility.bind(this);
this.idleHandler_=gb(20,this.fetch_.bind(this)).trigger;this.fetch_();this.setMapEvent()}};Ya.prototype.fetch_=function(){var a=this.map_.getBounds(),b=a.getSouthWest(),a=a.getNorthEast();ub.findAll(this.loadAll_,this,{level:this.map_.getLevel(),minX:b.getX(),maxX:a.getX(),minY:b.getY(),maxY:a.getY()})};Ya.prototype.updateVisibility=function(){var a=this.map_.getLevel();this.infomarkers_.forEach(function(b){b.updateVisibility(a)})};Ya.prototype.loadAll_=function(a){this.infomarkers_.forEach(Ya.disposeInfoMarker);
this.cctvs_=a;this.infomarkers_=a.map(Ya.createInfoMarker,this);this.updateVisibility();this.feedback_()};Ya.prototype.feedback_=function(){if(this.callback_&&this.cctvs_){this.callback_();this.callback_=null}};Ya.prototype.findId=function(a){this.callback_=function(){this.cctvs_.some(function(b,c){if(b.id==a){this.infomarkers_[c].clickMarker();return true}},this)};this.fetch_()};Ya.createInfoMarker=function(a){a=new nc(a,this.miniTooltipManager_,"realtraffic","cctvbutton");a.setMap(this.map_);return a};
Ya.disposeInfoMarker=function(a){a.setMap(null)};Ya.prototype.deactivate=function(){this.removeMapEvent();delete this.zoomHandler_;delete this.idleHandler_;Application.infoWindowManager.closeToType("cctv");this.infomarkers_.forEach(Ya.disposeInfoMarker);delete this.infomarkers_;this.cctvs_=null};Ya.prototype.setMapEvent=function(){daum.maps.event.addListener(this.map_,"zoom_changed",this.zoomHandler_);daum.maps.event.addListener(this.map_,"idle",this.idleHandler_)};Ya.prototype.removeMapEvent=function(){daum.maps.event.removeListener(this.map_,
"zoom_changed",this.zoomHandler_);daum.maps.event.removeListener(this.map_,"idle",this.idleHandler_)};define("controller/CctvController",["map/Map","map/MiniTooltipManager"],R(Ya));define("controller/FavoriteController","map/Map manager/ViewLayout controller/AuthController controller/FavoriteRegisterController map/InfoWindowManager controller/RoadviewController controller/KeywordSearchController controller/MainMapController controller/BusLineController controller/SubwaySearchController view/FavoriteManageView view/FavoriteConnectView view/FavoriteListView view/FavoriteStaticManageView log/Tiara manager/AoiManager controller/HistoryController".split(" "),
R(function(a,b,c,d,e,f,h,j,l,k,n,y,o,p,s,v,r){var u,w;function D(a){c.isLogin()&&B.getUserinfo(function(b){ba=b.text("status.code");if(ba===B.RESULT_CODE.SUCCESS){B.serviceName=b.text("use_service");if(B.serviceName=="KAKAO")la=B.CREATE_AT}u=b.text("user.daum_id");w=b.text("user.kakao_email_id");aa=b.text("user.daum_view_poi")||false;K(aa);o.changeConnectView();a.call(b)})}function P(a){switch(a.text("status.code")){case B.RESULT_CODE.SUCCESS:D(function(){E();a.text("use_service")=="KAKAO"&&y.copyAll()});
break;case B.RESULT_CODE.NO_LINKED_KAKAO_ACCOUNT:X();break;case B.RESULT_CODE.NOT_KAKAO_MAP_USER:y.setLayerMode(y.FAIL_LAYER);y.show();break;case B.RESULT_CODE.OVER_MAX_COUNT:y.setLayerMode(y.SYNC_LAYER);y.show()}}function K(a){var b=false;if(a!==void 0){aa!=a&&(b=true);aa=!!a}else b=true;b&&require("server").favoriteViewAllToggle({},function(){});Pc.toggleClass("on",aa);cc.find(".favorite_on").toggleClass("HIDDEN",aa);cc.find(".favorite_off").toggleClass("HIDDEN",!aa)}function U(){if(c.isLogin()){fa();
K(!aa)}else ia(function(){K(true)})}function E(){c.isLogin()&&B.findAll(Z,{sort:la})}function Z(a){if(a){V(a.list);W=a.list;if(a.myplaces){a=a.myplaces;da={};if(B.isKakaoUser()){if(a.home){da.home=R(a.home,"home");o.setStaticData("home",da.home);S.notify({mode:"home",data:da.home})}if(a.company){da.company=R(a.company,"company");o.setStaticData("company",da.company);S.notify({mode:"company",data:da.company})}}}F()}else if(!B.isKakaoUser()&&require("options").isFavoriteReady==="N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");
else if(B.isKakaoUser())alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");else{W=[];F()}}function F(b){arguments.length||(b=qa);W=W||[];var c=jQuery.grep(W,function(c){if(c.type=="point"||c.type=="place"||c.type=="address"||c.type=="busstop"||c.type=="subwaystation"){if(!c.marker){oc="fav";c.marker=c.marker||x(c)}c.marker.setMap(aa?a:null)}if(b==0)return c.type!="busstopline";if(b==1)return c.type=="point"||c.type=="place"||c.type=="address"||c.type=="subwaystation";if(b==2)return c.type==
"route_car"||c.type=="route_pubtrans"||c.type=="route_walk"||c.type=="route_subway";if(b==3)return c.type=="busstop"||c.type=="busline";if(b==4)return c.type=="roadview"||c.type=="storeview"});qa=b;jQuery("#favorite\\.list\\.total").text(c.length);o.setList(c);ea()}function ea(){var a=[];if(da){da.home&&a.push(da.home);da.company&&a.push(da.company)}var b=jQuery.grep(W,function(a){return a.isHome});if(b.length==0&&W.length>0){b=jQuery.grep(W,function(a){return a.type!="busstopline"});b=b.splice(0,
3)}d.setData(a.concat(b))}function fa(a){ba&&B.findAll(function(b){if(b){V(W);W=b.list;F();T.notify();typeof a=="function"&&a()}},{sort:la})}function oa(a){na(ua);a.type!=="route_subway"&&k.getActive()&&h.setActive(true);l.closeLayer();j.deactivateTraffic();e.close();j.setRoadviewLineActive(false);j.mapTypeControl_.setRoadview(false);f.getActive()&&f.close();var b=pa[a.type];b?b.show(a):console.assert(false)}function wa(b,c){if(b){if(b.pointExtension)if(O.getAoi(b.id))O.setHighlightMode(b.id);else{O.callAfterLoad(function(){O.setHighlightMode(b.id)});
O.find(b.id)}else a.setLevel(3);c.model=b;sa(c)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}function J(a){return function(b,c){return a.every(function(a){return b[a]==c[a]})}}function ra(a){if(W==null)return null;if(a.coords){a.x=a.coords.getX()|0;a.y=a.coords.getY()|0}for(var b=pa[a.type].predicate,c=0,d=W.length;c<d;c++)if(b(a,W[c]))return W[c];return null}function zb(b){oc!=="fav"&&(b=ra(b)||b);b.marker=b.marker||x(b);b.marker.setMap(a);if(!(b instanceof
B)||!aa)ua=b;return b}function x(b){var c,d=new daum.maps.Coords(b.x,b.y);if(oc=="fav"){c=z.favoriteMarker(d);if(b.display1){var e=new Rb(a);e.setData("FAVORITE",d,'<span class="name">'+b.display1+"</span>");c.onOver.add(function(){e.show()});c.onOut.add(function(){e.hide()})}c.onClick.add(function(){b.display1&&e.hide();H(b)})}else{c=z.createHere(d);daum.maps.event.addListener(c,"click",function(){H(b)})}return c}function sa(b){a.setCenter(b.marker.getPosition());switch(b.type){case "place":e.createPlace(b.model,
b.marker);break;case "point":case "address":e.createAddress(b.model,b.marker);break;case "subwaystation":e.createSubwayStation(b.model,b.marker);break;case "busstop":e.createBusStop(b.model,null,null,b.marker);break;case "busstopline":e.createBusStop(b.model,b.lineid,null,b.marker)}}function na(a){a.marker&&a.marker.setMap(null);a.model&&O.getAoi(a.model.id)&&O.clearThis(a.model.id)}function V(){W instanceof Array&&W.forEach(function(a){na(a)});na(ua)}function A(a){!B.isKakaoUser()&&require("options").isFavoriteReady===
"N"?alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4."):c.isLogin()?n.showAddView(a):c.request(function(){D(function(){n.showAddView(a)})})}function C(a){c.isLogin()?n.showEditView(a):c.request(function(){D(function(){n.showEditView(a)})})}function G(){if(this.getActive()){!B.isKakaoUser()&&require("options").isFavoriteReady==="N"&&alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");g.$("info.favorite").setVisible(true);
var a=jQuery("#info\\.favorite");b.setMapOnly();if(c.isLogin()){a.find(".map_login").hide();a.find(".favorite_interlock").show();fa();s.log("/fake/favorite_list")}else{a.find(".map_login").show();a.find(".favorite_interlock").hide();a.on("click",".link_maplogin",function(){ia(G.bind(this))}.bind(this))}}}function ia(a){c.isLogin()||c.request(function(){D(function(){d.callbackLogin();B.findAll(function(b){Z(b);typeof a=="function"&&a(b)},{sort:la})})})}function ga(a){if(!B.isKakaoUser()&&require("options").isFavoriteReady===
"N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");else if(a){if(a.type=="busstopline"){var b=ra({type:"busstop",key:a.key});if(b)B.addBusline({seq:b.seq,busline:a.buslines},ha);else{a=jQuery.extend({},a);a.type="busstop";B.add(a,ha)}}else B.add(a,ha);q.click("fav",a.type+"like_favorite")}}function ma(a){B.isSuccess(a)&&$.trigger();if(typeof xa=="function"){xa(a);xa=null}}function ha(a,b){var c=B.isSuccess(a),d=a.text("failCode")||a.text("status.code"),
e="";if(c){d=null;b||(d=function(){f.updateFavorites()});fa(d)}else e=d==1||d==B.RESULT_CODE.NO_DAUM_LOGIN?"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.":d==2||d==B.RESULT_CODE.DUPLICATE_ITEM?"\uc774\ubbf8 \uc990\uaca8\ucc3e\uae30\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":d==4||d==B.RESULT_CODE.OVER_MAX_COUNT?"\ucd5c\ub300 200\uac1c\uae4c\uc9c0 \uc800\uc7a5 \uac00\ub2a5\ud569\ub2c8\ub2e4.":d==6?"\uc990\uaca8\ucc3e\uae30 \uc774\ub984\uc774 256\uc790 \uc774\uc0c1\uc774\uba74 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":
a.text("message")||a.text("status.message");if(typeof xa=="function"){xa(a);xa=null}else{e&&alert(e);c&&n.showResultView(b?"edit":"add",true)}}function ka(a){if(!B.isKakaoUser()&&require("options").isFavoriteReady==="N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");else{f.updateFavorites();n.showRemoveView(a)}}function za(a){if(!B.isKakaoUser()&&require("options").isFavoriteReady==="N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");
else if(a.type=="busstopline"){var b=ra({type:"busstop",key:a.key});b&&B.removeBusline({seq:b.seq,busline:a.buslines},L)}else B.remove({seq:a.seq,id:a.id},L)}function L(a){if(B.isSuccess(a)){var b=a.text("req.buslines"),c=a.number("req.seq");if(!b){e.close();V();d.remove(c)}for(var h=0;h<W.length;h++)if(W[h].seq==c)if(b)if(W[h].type=="busstop"){var j=jQuery.grep(W[h].buslines.split(","),function(a){return b!=a});W[h].buslines=j.join(",")}else{if(W[h].type=="busstopline"&&W[h].buslines==b){W.splice(h,
1);break}}else{W.splice(h,1);h--}F();f.updateFavorites();T.notify();if(typeof xa=="function"){xa(a);xa=null}else n.showResultView("remove",true)}else xa=null}function Ia(a){B.homeToggle(a,function(b){M(b,a)})}function M(a,b){if(B.isSuccess(a)){B.findAll(Z,{sort:la},this);ca&&Ia(ca);var c=a.bool("result.home")?"add":"remove";n.showResultView(c,true)}else if(a.text("failCode")==4||a.text("status.code")===B.RESULT_CODE.OVER_MAX_HOME_COUNT){c={selectedList:jQuery.grep(W,function(a){return a.isHome}),
addData:b};n.showAddHomeView(c)}ca=null}function H(a){oc="fav";oa(a);ta?q.click("mapsearch","fav_searchresult_"+a.type):q.click("fav",a.type);ta=false}function I(a){require("server").MyPlaceAddEdit({poi_id:a.data.key,poi_type:a.data.type.toLowerCase(),myplace_type:a.staticMode=="home"?"HOME":"COMPANY",display1:a.data.display1,x:a.data.x,y:a.data.y},function(b){if(B.isSuccess(b)){o.setStaticData(a.staticMode,a.data);S.notify({mode:a.staticMode,type:"update",data:a.data});da[a.staticMode]=R(a.data,
a.staticMode);ea();p.showResultView()}else p.showAddView()})}function R(a,b){return{key:a.key||a.poi_id,type:a.type||a.poi_type.toLowerCase(),myplace_type:b=="home"?"HOME":"COMPANY",display1:a.display1,x:a.x,y:a.y}}function X(){location.href="https://member.daum.net/kakaoaccount/linkform.daum?url="+encodeURIComponent(location.origin+"?target=favorite&favOption=1");console.log("\uacc4\uc815\uc744 \uc5f0\ub3d9\ud569\ub2c8\ub2e4")}function N(){o.onConnectClick.notify()}Q(this,mb);this.onActive.add(G,
this);var T=this.onChangeItem=new m,S=this.onChangeMyPlace=new m,O=v.getController(v.KEY.SEARCH),$=gb(300,fa),ca=null;w=u=void 0;var ba=null,aa=false,W=null,da=null,qa=0,xa=null,la=B.CREATE_AT,pa={point:{show:function(a){a=zb(a);a.model?sa(a):require("server").getJibunShape({x:a.x,y:a.y},function(b){address=new Ca(b);address.type="point";address.oldname=b.text("old.name");address.otherName=b.text("old.name");a.model=address;sa(a)})},predicate:J(["type","x","y"])},address:{show:function(a){a=zb(a);
a.model?sa(a):require("server").searchAddress({docid:a.key},function(b){if(b.number("total_count")>0){b=new Ca(b.find("List")[0]);a.model=b;sa(a)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})},predicate:J(["type","key"])},place:{show:function(a){a=zb(a);if(a.model){sa(a);O.getAoi(a.model.id)&&O.setHighlightMode(a.model.id)}else ja.findPlace(a.key,function(b){wa(b,a)})},predicate:J(["type","key"])},busstop:{show:function(a){a=zb(a);a.model?sa(a):Y.find(a.key,
function(b){if(b.id){a.model=b;sa(a)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}.bind(this))},predicate:J(["type","key"])},busstopline:{show:function(a){var b=a.key.split("@"),c=b[0],b=b[1],d=ra({type:"busstop",key:c});if(d){d=zb(d);if(a.model)sa(a);else{a.marker=d.marker;a.lineid=b;Y.find(c,function(b){if(b.id){a.model=b;sa(a)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")}.bind(this))}}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},
predicate:J(["type","key","buslines"])},busline:{show:function(a){l.setData(a.key,true)},predicate:J(["type","key"])},subwaystation:{show:function(a){a=zb(a);if(!a.model){var b=new Ea(new Ga(a));a.model=b}sa(a)},predicate:J(["type","key"])},roadview:{show:function(a){var b=a.key||0,c=a.pan||0,d=a.tilt||0,e=a.zoom||0;Ma.exists(b,function(h){if(h){h=new daum.maps.Coords(a.x,a.y);f.show({coords:h,panoId:b,pan:c,tilt:d,zoom:e});t.logRoadview("favorite_rv",b,h,Application.localInfoController.getHCodeForLog())}else if(a.x&&
a.y){f.showNearby(new daum.maps.Coords(a.x,a.y),100);h=new daum.maps.Coords(a.x,a.y);t.logRoadview("favorite_rv",b,h,Application.localInfoController.getHCodeForLog())}})},predicate:J(["type","key"])},storeview:{show:function(a){f.showStoreView(a.key,a.spot_id,{pan:a.pan||0,tilt:a.tilt||0,zoom:a.zoom||0})},predicate:J(["type","key"])},route_car:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeCar();var c=[];(a.route_form||null).forEach(function(a,
b){c.push(new Za(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new Oa;a.waypoints=c;b.setFlagSearch(a);b.setDefaultOption(Da.REALTIME);b.setRoute()},predicate:J(["type","key","route_form"])},route_pubtrans:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeTransit();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new Za(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new Oa;a.waypoints=c;b.setFlagSearch(a);
b.setRoute()},predicate:J(["type","key","route_form"])},route_walk:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeWalk();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new Za(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new Oa;a.waypoints=c;b.setFlagSearch(a);b.setRoute()},predicate:J(["type","key","route_form"])},route_subway:{show:function(a){if(a.route_form&&a.route_form.length==2){var b=a.route_form[0].key.substring(0,
3);a.subwayRegion=cb.cityId[b];a.startName=a.route_form[0].name;a.endName=a.route_form[1].name}k.searchController.setRegionId(a.subwayRegion);k.searchController.setPrefixKeyword();b=k.searchController.REGION_ID.indexOf(a.subwayRegion);k.setRegion(b);k.setActive(true);k.findRouteByName(a.startName,a.endName)},predicate:J(["type","key","route_form"])}},ta=false,Pc=jQuery("#favorite\\.viewMode"),cc=jQuery(".favorite_tooltip");Pc.on("click",function(a){a.preventDefault();k.getActive()||U()}.bind(this)).on("mouseover",
function(a){a.preventDefault();if(!k.getActive()){a=Pc.hasClass("on");cc.show();cc.find(".favorite_on").toggleClass("HIDDEN",a);cc.find(".favorite_off").toggleClass("HIDDEN",!a)}}.bind(this)).on("mouseout",function(){cc.hide()}.bind(this));var oc=null,ua={};n.onAddClick.add(ga);n.onEditClick.add(function(a){B.edit({seq:a.seq,display1:a.display1},function(a){ha(a,true)})});n.onRemoveClick.add(za);n.onRegisterSelected.add(function(a){ca=a.addItem;Ia(a.removeItem)});o.onClickSort.add(function(a){la=
a;fa()});o.onClickTab.add(function(a){qa=a;F(a)});o.onRemoveItem.add(ka);o.onEditItem.add(function(a,b){b&&(xa=b);C(a)});o.onRegisterItem.add(Ia);d.onClick.add(H);o.onClickItem.add(H);r.onClick.add(function(a){oc="history";oa(a);q.click("history",a.type)});o.onStaticRegistClick.add(function(a){if(!B.isKakaoUser()&&require("options").isFavoriteReady==="N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");else if(a.staticMode=="home"){p.setIdentity("home");p.showAddView(o.hasStaticData(a.staticMode),
a.data)}else if(a.staticMode=="company"){p.setIdentity("company");p.showAddView(o.hasStaticData(a.staticMode),a.data)}});o.onStaticRemoveClick.add(function(a){!B.isKakaoUser()&&require("options").isFavoriteReady==="N"?alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4."):require("server").MyPlaceDelete({key:a.staticMode=="home"?"HOME":"COMPANY"},function(b){if(B.isSuccess(b)){o.setStaticData(a.staticMode,null);S.notify({mode:a.staticMode});da[a.staticMode]=null}})});
o.onStaticItemClick.add(function(a){if(!B.isKakaoUser()&&require("options").isFavoriteReady==="N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");else if(o.hasStaticData(a.staticMode))oa(a.data);else{p.setIdentity(a.staticMode);p.showAddView(false,null)}});o.onRegistStaticFromFavorite.add(function(a){p.setIdentity(a.staticMode);p.showAddView(o.hasStaticData(a.staticMode),a.data)});p.onUpdate.add(function(a){I({staticMode:a.staticMode,data:{key:a.data.key||
a.data.id,type:a.data.type,display1:a.data.display1||a.data.nameOrigin,x:a.data.x||0,y:a.data.y||0}})});p.onConnect.add(N);o.onConnectClick.add(function(){D(function(){if(!B.isKakaoUser()&&require("options").isFavoriteReady==="N")alert("\uc990\uaca8\ucc3e\uae30 \uc11c\ube44\uc2a4 \uc810\uac80\uc911\uc785\ub2c8\ub2e4.");else{if(B.isKakaoUser())y.setLayerMode(y.SYNC_LAYER);else{if(w){y.setEmail(u,w);y.setLayerMode(y.FAVORITE_LAYER)}else y.setLayerMode(y.ACCOUNT_LAYER);fa()}y.show()}})});y.onSyncFavorite.add(function(a){Z(a)});
y.onConnect.add(X);y.onFavorite.add(function(){B.setService({service:"KAKAO"},P);console.log("\uc990\uaca8\ucc3e\uae30\ub97c \uc5f0\ub3d9\ud569\ub2c8\ub2e4")});y.onDisconnect.add(function(){B.setService({service:"DAUM"},P);console.log("\uc5f0\ub3d9\uc744 \ud574\uc81c\ud569\ub2c8\ub2e4")});y.onCopy.add(function(a){if(a.callback)xa=a.callback;B.copy(a.fav,ma)});y.onRemove.add(function(a){if(a.callback)xa=a.callback;za(a.fav)});D(E);this.hasFavorite=function(a){return!!ra(a)};this.add=function(a,b){typeof b==
"function"&&(xa=b);if(a.type=="busstopline")ga(a);else{f.updateFavorites();A(a)}};this.remove=function(a,b){xa=b?b:null;var c=ra(a);c&&ka(c)};this.getIsViewMode=function(){return aa};this.reset=function(){V();fa()};this.getMyPlaces=function(){return da};this.getList=function(){return W};this.openLoginPopup=ia;this.openConnectLayer=N}));"use strict";define("controller/FavoriteRegisterController",["controller/AuthController"],R(dd));"use strict";define("controller/FiyFrameController",["dom/forefront",
"jquery","url","map/Map","map/MapTileManager"],R(function(a,b,c,d,e){function f(a){if(!a||!a.type||!o[a.type])return o.general;var b=o[a.type];a.type!="roadview"&&a.rawInfo&&a.rawInfo.roadviewFrom?b=b+("?id="+a.rawInfo.id):a.type=="newPlace"?b=b+("?x="+parseInt(a.rawInfo.x||a.mapInfo.x)+"&y="+parseInt(a.rawInfo.y||a.mapInfo.y)):a.type=="updatePlace"&&(b=b+("?id="+a.rawInfo.confirmId));b=b+((b.indexOf("?")>=0?"&":"?")+"serviceName=daummap&agentType=PC");if(a.channel)(a=h(a.channel))&&(b=b+("&channelId="+
a));return b}function h(a){var c=0;b(p).each(function(b,d){if(d.name==a)c=d.id});return c}function j(){var a=d.getCenter(),b=a.getX().toFixed(0),a=a.getY().toFixed(0),c=d.getLevel(),f=d.isRoadmap()?"MAPTYPE_MAP":"MAPTYPE_SKYVIEW",h=d.getMapTypeId()==daum.maps.MapTypeId.HYBRID,j=location.href.replace(/([?#].*)?$/,"?"+jQuery.param(Application.mainMapController.tool.createUrl())),g=location.href,k=d.getMapTypeId(),l="",n;for(n in daum.maps.MapTypeId)daum.maps.MapTypeId[n]==k&&(l=n);b={x:b,y:a,level:c,
mapType:f,isHybrid:h,copyurl:j,accessurl:g,tile:{mapTypeName:l,airType:Application.airMapTileController.getAirTileName(),poiTileInfo:Application.mainMapController.poiTileController.getTileInfo(),terrain:e.get("terrain"),overlay:e.get("overlay"),air:e.get("air"),roadview:e.get("roadview"),traffic:e.get("traffic"),bicycle:e.get("bicycle"),bicyclehybrid:e.get("bicyclehybrid"),themespring:e.get("themespring"),themefall:e.get("themefall"),theme:e.get("theme"),usedistrict:e.get("usedistrict"),bboundary:e.get("bboundary"),
hboundary:e.get("hboundary"),indoor:e.get("indoor")},userQuery:Application.keywordSearchController.getKeyword()||""};if(b.tile.bboundary&&b.tile.hboundary){n=e.getOverlayIndex("hboundary");a=e.getOverlayIndex("bboundary");b.tile.lastAddBound=n>a?"hbound":"bbound"}return b}function g(b){s&&a.close();var c=f(b);b.namespace=n;b.mapInfo=j();if(c){s=G("FiyFrame");b.type!="newPlace"&&b.type!="generalExternal"&&s.addClass("wideFrame");var d=s.$("frame");d.attr("data-fiydata",encodeURIComponent(JSON.stringify(b)));
d.attr("src",c);a.create(s,{dimmed:true,beforeClose:k});s.on("scroll",function(){s.scrollTop(0)})}}function k(){s=null;y&&y()}var n="__daum$Fiy"+(+new Date).toString(36),y=null;A[n]={onClose:function(){a.close();s=null},onSizeChanged:function(a){if(s){var b=+a.width,a=+a.height;b>jQuery(A).width()&&(b=jQuery(A).width());a>jQuery(A).height()-50&&(a=jQuery(A).height()-50);var c=s.$("frame");s.css({width:b,height:a,marginLeft:-(b/2),marginTop:-(a/2)});c.css({width:b,height:a})}},addBeforeCloseCallback:function(a){y=
a}};var o={newPlace:c.FIY_SERVER_URL+"place/CsPlaceNew.daum",updatePlace:c.FIY_SERVER_URL+"place/CsPlaceUpdate.daum",general:c.FIY_SERVER_URL+"map/CsGeneral.daum",generalExternal:c.FIY_SERVER_URL+"map/CsGeneralExternal.daum",map:c.FIY_SERVER_URL+"map/CsMap.daum",roadview:c.FIY_SERVER_URL+"map/CsRoadview.daum",route:c.FIY_SERVER_URL+"map/CsRoute.daum",subway:c.FIY_SERVER_URL+"map/CsTransportSubway.daum",bus:c.FIY_SERVER_URL+"map/CsTransportBus.daum",busStop:c.FIY_SERVER_URL+"map/CsTransportBus.daum"},
p=[{name:"PC_RCLIK",id:1},{name:"PC_ICON",id:2},{name:"PC_MAPSEARCH_NORESULT",id:3},{name:"PC_MAPSEARCH_BOT",id:4},{name:"PC_ROUTESEARCH_NORESULT",id:5},{name:"PC_ROUTESEARCH_BOT",id:6},{name:"PC_PLACE_TOOLTIP",id:7},{name:"PC_PLACE_DETAIL",id:8},{name:"PC_TOP_GENERALCS",id:9},{name:"PC_POPUP_GENERALCS",id:10},{name:"MOBILE_FIY",id:11},{name:"PC_EXTERNAL_GENERALCS",id:12},{name:"CRMS",id:13},{name:"DMOS",id:14},{name:"PC_PLACE_PHOTOBTN",id:15},{name:"PC_EXTERNAL_PLACECS",id:16},{name:"PC_TOOLTIP_GENERALCS",
id:17},{name:"SEARCHREG",id:18},{name:"CS_OPERATOR",id:19},{name:"OPERATOR",id:20},{name:"CLICK_RIGHT",id:1},{name:"ICON_NEWPLACE",id:2},{name:"SEARCH_NORESULT",id:3},{name:"SEARCH_LIST_BOT",id:4},{name:"ROUTE_NORESULT",id:5},{name:"ROUTE_LIST_BOT",id:6},{name:"TOOLTIP_PLACE",id:7},{name:"DETAIL_PLACE",id:8},{name:"LABEL_TOP",id:9},{name:"LABEL_OTHER_POPUP",id:10},{name:"DEFAULT",id:12},{name:"DETAIL_PLACE_PHOTOBTN",id:15},{name:"TOOLTIP_ETC",id:17},{name:"TOOLTIP_ADDR",id:30},{name:"TOOLTIP_BUSSTOP",
id:62},{name:"TOOLTIP_SUBWAYSTATION",id:63},{name:"DETAIL_BUS",id:64},{name:"DETAIL_SUBWAYSTATION",id:65},{name:"FROM_ROADVIEW",id:66}],s=null;this.open=function(a){g(a)};this.openCsGeneralFromEvent=function(){g({type:"general",channel:"LABEL_TOP"});q.click("control","fiy")};this.openCustomerRequest=function(a){var a=a||{},b={};if(a.address){b.type="general";b.rawInfo={x:a.coords.getX(),y:a.coords.getY(),address:a.address,relatedAddress:a.relatedAddress,relatedPrefixAddress:a.relatedPrefixAddress,
zipcode:a.zipcode,zonenum:a.zonenum,hcode:a.hcode,bcode:a.bcode,code:a.code}}else if(a.type)b.type=a.type;else if(a.confirmId){b.type="updatePlace";b.rawInfo={confirmId:a.confirmId}}else if(a.busStopId){b.type="busStop";b.rawInfo=a.rawData.raw()}else if(a.subwayId){b.type="subway";b.rawInfo={subwayId:a.subwayId,subwayLineId:a.subwayLineId,name:a.name}}else b.type=a.category=="D"?"generalExternal":"map";if(a.coords){b.rawInfo=b.rawInfo||{};b.rawInfo.x=a.coords.getX();b.rawInfo.y=a.coords.getY()}b.channel=
a.channel||"LABEL_TOP";g(b)};this.isActivated=function(){return s?true:false}}));Ba.prototype.visible_=!1;Ba.prototype.setFlagSearch=function(a){var b=a.waypoints,c=b.length-1;this.mapFlagList_.forEach(function(a){a.setMap(null)},this);b.forEach(function(a,b){var f=null,f=this.mapFlagList_[b]?this.mapFlagList_[b]:new la;f.setVisible(true);f.setMap(this.map_);this.mapFlagList_[b]=f;a!=null?this.mapFlagList_[b].setPosition(a.coords):this.mapFlagList_[b].setMap(null);this.mapFlagList_[b].onChange.clear();
this.mapFlagList_[b].onRemoveFlag.clear();this.mapFlagList_[b].onChange.add(this.changeFlag_,this);this.mapFlagList_[b].onRemoveFlag.add(this.removeFlag_,this);b==0?this.mapFlagList_[b].setType("origin"):b==c?this.mapFlagList_[b].setType("dest"):this.mapFlagList_[b].setType("via"+b)},this);this.setViaFlagCnt(a);this.mapFlagList_.length=b.length;this.viaScout_.setEnabled(b.slice(1,-1).filter(Boolean).length<5)};Ba.prototype.setViaFlagCnt=function(a){a=a.getViaCount();this.viaCount_=Math.max(1,a)};
Ba.prototype.changeFlag_=function(a){var b=a.getCoords();this.onChange.notify({index:this.getIndex_(a),coords:b})};Ba.prototype.getIndex_=function(a){return idx=this.mapFlagList_.indexOf(a)==-1?a==this.originFlag_?0:this.mapFlagList_.length-1:this.mapFlagList_.indexOf(a)};Ba.prototype.addViaFlag_=function(a){this.onAdd.notify(a.getCoords())};Ba.prototype.removeFlag_=function(a){this.onRemove.notify(this.mapFlagList_.indexOf(a))};Ba.prototype.show=function(a){this.panel_.setClass("Fold",!a);this.setVisibleFlagPanel_(true);
this.expanded_=a;this.setVisibleFlags_(a)};Ba.prototype.addExpandEvent_=function(){this.panel_.onEnter.add(this.expand_,this);this.panel_.onLeave.add(this.fold_,this)};Ba.prototype.expand_=function(){if(!this.expanded_){this.timeout=null;this.timeout=setTimeout(function(a){return function(){a.expandAnimate_();clearTimeout(a.timeout)}}(this),200)}};Ba.prototype.fold_=function(){this.timeout&&clearTimeout(this.timeout);if(!this.expanded_&&!this.floating_){this.foldAnimate_();this.floating_=false}};
Ba.prototype.expandAnimate_=function(){var a=this.panel_;a.addClass("FlagAnimating");var b=jQuery(this.wrapPanel_.getElement());b.find(".viaWrap").animate({left:39},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style")});b.find(".destWrap").animate({left:77},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style");a.removeClass("Fold FlagAnimating")})};Ba.prototype.foldAnimate_=function(){var a=this.panel_,b=jQuery(this.wrapPanel_.getElement());b.find(".viaWrap").animate({left:3},
this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style")});b.find(".destWrap").animate({left:3},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style");a.addClass("Fold")})};Ba.prototype.hide=function(){this.visible_=false;this.setVisibleFlagPanel_(false);this.setVisibleFlags_(false)};Ba.prototype.setVisibleFlagPanel_=function(a){(this.visible_=a)?this.map_.addControl(this.wrapPanel_.getElement(),daum.maps.ControlPosition.TOPLEFT):this.map_.removeControl(this.wrapPanel_.getElement())};
Ba.prototype.setVisibleFlags_=function(a){var b=this.mapFlagList_.length-1;this.mapFlagList_.forEach(function(c,d){d!=0&&d!=b?c.setVisible(a&&this.viaVisible_):c.setVisible(a)},this)};Ba.prototype.setViaVisible=function(a){a?this.panel_.removeClass("Flag-noVia"):this.panel_.addClass("Flag-noVia");this.viaVisible_=a&&this.visible_;this.viaFlag_.setVisible(a);var b=this.mapFlagList_.length-1;this.mapFlagList_.forEach(function(a,d){d!=0&&d!=b&&a.setVisible(this.viaVisible_)},this)};Ba.prototype.getViaVisible=
function(){return!this.panel_.hasClass("Flag-noVia")};Ba.prototype.setOrigin=function(a,b){if(a){this.originFlag_.setMap(this.map_);this.originFlag_.setCoords(a,b)}else this.originFlag_.setMap(null)};Ba.prototype.setDest=function(a,b){if(a){this.destFlag_.setMap(this.map_);this.destFlag_.setCoords(a,b)}else this.destFlag_.setMap(null)};Ba.prototype.setVia=function(a,b){this.viaFlag_.setMap(this.map_);this.viaFlag_.setCoords(a,b)};Ba.prototype.resetOrigin=function(){this.originFlag_.setMap(null)};
Ba.prototype.resetDest=function(){this.destFlag_.setMap(null)};Ba.prototype.resetVia=function(){this.viaFlag_.setMap(null)};define("controller/FlagController",["map/Map"],R(Ba));I.prototype.findAoi=function(a){if(a.pointExtension||a.lineData){this.aoiController_.clear();this.aoiController_.callAfterLoad(function(){this.aoiController_.setHighlightMode(a.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(a.id))}.bind(this))}a.pointExtension?this.aoiController_.find(a.id):a.lineData&&this.aoiController_.findAddress(a)};
I.ORIGIN_WHICH_="Origin";I.VIA_WHICH_="Via";I.DEST_WHICH_="Dest";I.prototype.which_=I.ORIGIN_WHICH_;I.prototype.changeActive_=function(){if(this.getActive()){g.$("info.route").setVisible(true);g.$("info.route.searchBox").setVisible(true);if(!this.withRoadview_){this._viewLayout.setMapOnly();this.withRoadview_=false;this.map_.setKeyboardShortcuts(true)}this.notifyFlagSearch_();this.handleRoute_();this.flagSearchResultController.show()}else{Bb.disposeAll();this.flagSearchResultController.hide();this.carRouteSearchController.setActive(false);
this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false)}};I.prototype.setFlagSearch=function(a){this.flagSearch_=a;this.notifyFlagSearch_()};I.prototype.setWaypointWithoutRoute=function(a,b){var c="";b instanceof Ca||(c=b instanceof Y?"B"+b.id:b.subway instanceof Ea?"M"+b.subway.id:"P"+(b.placeid||b.id));c=new Za(b.coords,b.name,c);a==I.ORIGIN_WHICH_?this.flagSearch_.setWaypoint(0,c):this.flagSearch_.setWaypoint(this.flagSearch_.getLastIndex(),c);this.methodView_.clearEstimateTime();
this.notifyFlagSearch_();this.resetWaypoint();this.keywordSearchController.mainMapController.clearThemePoiControlView()};I.prototype.notifyFlagSearch_=function(){this.methodView_.setActive(this.flagSearch_.getValuableWaypoints().length>=2);this.flagController_.setFlagSearch(this.flagSearch_);this.waypointSearchBoxController_.setFlagSearch(this.flagSearch_)};I.prototype.addDragViaStop_=function(a){var b=a.index+1;Za.findByCoords(a.position||null,function(a){this.flagSearch_.addWaypoint(b,a);this.flagSearch_.setWaypoints(this.flagSearch_.getValuableWaypoints());
this.clearAllRoute_();this.setRoute()},this)};I.prototype.addViaFlag_=function(a){this.clearAoi();this.findByWaypoint_(a,null,null,null)};I.prototype.removeFlag_=function(a){a==0||a==this.flagSearch_.getLastIndex()?this.flagSearch_.setWaypoint(a,null):this.flagSearch_.removeWaypoint(a);this.notifyFlagSearch_();if(this.flagSearch_.isOriginDest()){this.clearAllRoute_();this.setRoute()}else this.resetRoute_()};I.prototype.changeFlag_=function(a){var b=a.index,a=a.coords;this.onChangeFlag.notify();this.findByWaypoint_(a,
null,null,b);this.aoiController_.clear()};I.prototype.addWaypointViaBox_=function(){this.flagSearch_.addWaypoint(this.flagSearch_.getLastIndex(),null);this.notifyFlagSearch_()};I.prototype.removeWaypointBox_=function(a){this.flagSearch_.removeWaypoint(a);this.notifyFlagSearch_();a=this.flagSearch_.isViaEmpty();if(this.flagSearch_.isOriginDest()&&!a){this.clearAllRoute_();this.setRoute()}};I.prototype.changeWaypointBox_=function(a){var b=a.from,a=a.to;this.flagSearch_.isViaEmpty();this.flagSearch_.addWaypoint(a,
this.flagSearch_.removeWaypoint(b));this.notifyFlagSearch_();if(this.hashMap[this.lastMethod_].getRoute()){this.clearAllRoute_();this.setRoute()}};I.prototype.resetWaypoint=function(){this.home_.show();this.clearAllRoute_();Application.infoWindowManager.close()};I.prototype.searchWaypointBox_=function(a){var b=a.index;this.flagSearch_.activeIndex=b;var a=a.keyword,c=I.VIA_WHICH_;if(b==0)c=I.ORIGIN_WHICH_;else if(b==this.flagSearch_.getLastIndex())c=I.DEST_WHICH_;this.keywordSearchController.mainMapController.clearThemePoiControlView();
this.roadviewController.close();this.flagSearchResultController.setKeyword(a,c)};I.prototype.loadFlagResult_=function(){this.methodView_.clearEstimateTime();this.flagSearch_.getValuableWaypoints().length>=2&&this.methodView_.setActive(true);this.clearAllRoute_();Application.roadviewController.close();Application.windowController.updateHeight();Application.roadviewController.removeLastMarker()};I.prototype.setCoords_=function(a){var b=a.coords||null,c=this.flagSearch_.activeIndex,a=new Za(b,a.name||
null,a.id||null,null,a.pointType||null);this.flagSearch_.setWaypoint(c,a);Application.map.setCenter(b);Application.map.setLevel(3);this.notifyFlagSearch_();this.flagSearch_.getValuableWaypoints().length>=2&&this.methodView_.setActive(true).clearEstimateTime()};I.prototype.clearAllRoute_=function(){this.carRouteSearchController.clearRoute();this.transitRouteSearchController.clearRoute();this.walkRouteSearchController.clearRoute();this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);
this.walkRouteSearchController.setActive(false)};I.prototype.setRoute=function(){var a=this.flagSearch_.getValuableWaypoints();if(a.length>=2){this.flagSearch_.setWaypoints(a);this.notifyFlagSearch_();this.flagSearchResultController.hide();this.methodView_.setActive(false).setActive(true).setEstimateTime();g.$("info.noFlagPlace").setVisible(false);g.$("info.flagsearch").show().addClass("Flagsearch-result");this.home_.hide();this.methodView_.setIndex(this.lastMethod_);this.infoWindowManager_.close();
switch(this.lastMethod_){case "car":this.carRouteSearchController.find();break;case "transit":this.transitRouteSearchController.find();break;case "walk":this.walkRouteSearchController.find()}this.aoiController_.clear();this.aoiController_.callAfterLoad(this.aoiController_.clear)}};I.prototype.loadRoute_=function(){this.setMethodView_();this.onLoadedRoute.notify()};I.prototype.reset=function(){this.flagSearch_=Oa.create();this.methodView_.setActive(false);this.notifyFlagSearch_();this.flagSearchResultController.clear();
Application.infoWindowManager.close();this.reset_();this.home_.show();this.isSelectFlagBtn=false};I.prototype.resetRoute_=function(){this.clearAllRoute_();this.methodView_.clearEstimateTime();this.getActive()&&g.$("info.route").setVisible(true);Application.windowController.updateHeight()};I.prototype.reset_=function(){this.waypoints_=null;this.methodView_.setActive(false);this.resetRoute_();this.aoiController_.clear()};I.prototype.getWaypoints=function(){return this.flagSearch_.getValuableWaypoints()};
I.prototype.setDefaultOption=function(a){this.carRouteSearchController.setMode(a)};I.prototype.setOrigin=function(a,b,c){this.findByWaypoint_(a,b,c,0)};I.prototype.setVia=function(a,b,c){this.flagSearch_.getViaCount()>=5?alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4."):this.findByWaypoint_(a,b,c,null)};I.prototype.setDestination=function(a,b,c){this.findByWaypoint_(a,b,c,this.flagSearch_.getLastIndex())};I.prototype.findByWaypoint_=
function(a,b,c,d){b?this.setWaypoint_(new Za(a,b,c),d):Za.findByCoords(a,function(a){this.setWaypoint_(a,d)},this)};I.prototype.clearAoi=function(){this.aoiController_.clear()};I.prototype.setWaypoint_=function(a,b){b!==null?this.flagSearch_.setWaypoint(b,a):this.flagSearch_.addFirstEmptyViaWaypoint(a);this.keywordSearchController.mainMapController.clearThemePoiControlView();this.notifyFlagSearch_();if(this.flagSearch_.isOriginDest()){this.clearAllRoute_();this.setRoute()}};I.prototype.isComplete=
function(){return this.flagSearch_.isOriginDest()};I.prototype.getViaVisible=function(){return this.flagSearch_.getViaCount()>0};I.prototype.closeRoadview_=function(){Application.roadviewController.close()};I.prototype.clickMethod_=function(a){this.methodView_.setIndex(a);this.handleRoute_();g.$("info.body").scrollTo(0)};I.prototype.handleRoute_=function(){this.lastMethod_=this.methodView_.getIndex()||this.lastMethod_;if(this.hashMap[this.lastMethod_].getRoute()){this.methodView_.setIndex(this.lastMethod_);
this.setMethodView_();this.flagSearch_.getValuableWaypoints()}else this.setRoute()};I.prototype.showValidCondition_=function(){if(this.flagSearch_.getWaypoints().length>=2&&!this.flagSearch_.getWaypoints()[0]){alert("\ucd9c\ubc1c\uc9c0\ub97c \uc815\ud655\ud788 \uc9c0\uc815\ud574\uc8fc\uc138\uc694.");this.waypointSearchBoxController_.setFocus(0)}else{alert("\ub3c4\ucc29\uc9c0\ub97c \uc815\ud655\ud788 \uc9c0\uc815\ud574\uc8fc\uc138\uc694.");this.waypointSearchBoxController_.setFocus(this.flagSearch_.getWaypoints().length-
1)}};I.prototype.setMethodView_=function(){Application.infoWindowManager.close();Application.roadviewController.close();Application.roadviewController.removeLastMarker();this.flagSearchResultController.clear();g.$("info.flagsearch").addClass("Flagsearch-result");switch(this.lastMethod_){case "car":this.transitRouteSearchController.setActive(false);this.carRouteSearchController.setActive(true);this.walkRouteSearchController.setActive(false);break;case "transit":this.carRouteSearchController.setActive(false);
this.transitRouteSearchController.setActive(true);this.walkRouteSearchController.setActive(false);break;case "walk":this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(true);break;default:console.assert(false)}};I.prototype.doQuickSearchOrigin=function(a){this.doQuickSearch_(I.ORIGIN_WHICH_,a)};I.prototype.doQuickSearchDest=function(a){this.doQuickSearch_(I.DEST_WHICH_,a)};I.prototype.doQuickSearchOriginDest=function(a,
b){this.destKeyword_=b;var c=this.modelQuick_=new x;c.setSearchBusStop(true);c.onChange.add(this.loadQuickSearchOriginDest_,this);c.setKeyword(a)};I.prototype.loadQuickSearchOriginDest_=function(){var a=this.modelQuick_.addresses[0]||this.modelQuick_.places[0]||this.modelQuick_.reviews[0];if(a){this.setOrigin(a.coords,a.name);this.doQuickSearchDest(this.destKeyword_)}};I.prototype.doQuickSearch_=function(a,b){var c=new x;c.setSearchBusStop(true);c.onChange.add(function(){var b=c.addresses[0]||c.places[0]||
c.reviews[0];if(b)switch(a){case I.ORIGIN_WHICH_:this.setOrigin(b.coords,b.name);break;case I.DEST_WHICH_:this.setDestination(b.coords,b.name);break;default:console.assert(false)}},this);c.setKeyword(b)};I.prototype.setDefaultModeCar=function(){this.lastMethod_="car"};I.prototype.setDefaultModeTransit=function(){this.lastMethod_="transit"};I.prototype.setDefaultModeWalk=function(){this.lastMethod_="walk"};I.prototype.buildParams=function(a){if(this.carRouteSearchController.getActive()||this.transitRouteSearchController.getActive()||
this.walkRouteSearchController.getActive()){var b=this.getWaypoints();a.rt=b.map(function(a){return a&&a.coords?a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0):","}).join(",");var c=b.length-1,d="";b.forEach(function(b,f){if(b!=null){a["rt"+(f+1)]=b.name;d=d+((b.id?b.id:"")+(f!=c?",":""))}});a.rtIds=d;if(this.carRouteSearchController.getActive()&&this.carRouteSearchController.getMethod())a.carOption=this.carRouteSearchController.getMethod();if(this.transitRouteSearchController.getActive()){a.target=
"traffic";if(b=this.transitRouteSearchController.getBoundModeIndex()){a.transitBoundMode=b;a.transitOption=this.transitRouteSearchController.getInterModeIndex()}else a.transitOption=this.transitRouteSearchController.getModeIndex()}if(this.walkRouteSearchController.getActive())a.target="walk"}else if(this.getActive()){b=this.flagSearch_;if(b.isEmptyOriginDest()&&b.isViaEmpty()){b=Application.map.getCenter();a.urlX=b.getX()|0;a.urlY=b.getY()|0;a.urlLevel=Application.map.getLevel()}else{b=b.getWaypoints();
a.rt=b.map(function(a){return a&&a.coords?a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0):","}).join(",");c=b.length-1;d="";b.forEach(function(b,f){a["rt"+(f+1)]=b?b.name:"";d=d+((b&&b.id?b.id:"")+(f!=c?",":""))});a.rtIds=d}}};I.prototype.noResultPlace=function(a,b){this.searchWaypointBox_({index:a,keyword:b});this.waypointSearchBoxController_.setSearchBox(a,b)};I.prototype.initResultList=function(){this.flagSearchResultController.initResultList()};define("controller/FlagSearchController",
"map/Map manager/ViewLayout controller/CarRouteSearchController controller/FlagSearchResultController controller/TransitRouteSearchController controller/WalkRouteSearchController map/InfoWindowManager controller/FlagController controller/KeywordSearchController controller/RoadviewController manager/AoiManager controller/WaypointSearchBoxController".split(" "),R(I));da.prototype.initResultList=function(){this.infoRoute.show();g.$("info.flagsearch").hide()};da.prototype.setCoords_=function(a){this.onCoords.notify(a)};
da.prototype.setPage=function(a){this.model_.setPage(a)};da.prototype.setOption_=function(a){this.singleViewMode_=false;switch(a){case 0:this.model_.setAllMode();q.click(q.ROUTE_METHOD,"search_all_option");break;case 1:this.findPlaces();t.logPathSearchIn("place_tab");break;case 2:this.findAddresses();t.logPathSearchIn("address_tab");break;case 3:this.findBusStops();t.logPathSearchIn("bus_tab");break;default:console.assert(false)}};da.prototype.setKeyword=function(a,b){this.model_.clear();this.group_.setActiveWithoutFeedback(0);
this.model_.setKeyword(a);this.flagViewType=b||this.flagViewType};da.prototype.findAddresses=function(){if(this.singleViewMode_){this.model_.setAddressMode(true);this.model_.setPage(2)}else this.model_.setAddressMode();this.group_.setActiveWithoutFeedback(2);q.click(q.ROUTE_METHOD,"search_address_option")};da.prototype.clickAddress_=function(a){var b=this.model_.addresses[a],c=b.id;this.setCoords_({coords:b.coords,name:b.name,id:b.docid});this.aoiController_.clear();if(b.lineData){this.aoiController_.callAfterLoad(function(){var a=
this.aoiController_.getCoordsBounds(c);a&&this.map_.setBounds(a);this.aoiController_.clickMarker(c)}.bind(this));this.aoiController_.findAddress(b)}else!this.model_.hasBounds()&&!this.model_.whatsHere&&this.map_.setCenter(b.coords);this.clickListView_(a,"ADDRESS");q.click("route","address")};da.prototype.findPlaces=function(){if(this.singleViewMode_){this.model_.setPlaceMode(true);this.model_.setPage(2)}else this.model_.setPlaceMode();this.group_.setActiveWithoutFeedback(1);q.click(q.ROUTE_METHOD,
"search_place_option")};da.prototype.showMediumTooltip_=function(a,b){this.setCoords_({coords:a.coords,name:a.name,id:a.subway?"M"+a.subway.id:"P"+a.id,pointType:a.subway?"SUBWAYSTATION":"PLACE"});this.infoWindowManager_.createPlaceWithMedium(a,b,false,"route").onClose.add(function(){this.activeItem_=null},this)};da.prototype.showRoadview_=function(a){var b=a.index,c="ico_mn_b"+b+".png";switch(a.level){case 0:c="ico_mn_b"+b+".png";break;case 1:c="ico_ms_"+b+".png";break;case 2:c="ico_mp_"+b+".png"}this.roadviewController_.setViewpointWithMarker(a.roadview,
"http://t1.daumcdn.net/localimg/localimages/07/2009/map/icon/"+c,a.roadview.pan,a.roadview.tilt,0,a,this.model_.isThemeMode())};da.prototype.showStoreview=function(a){this.roadviewController_.showStoreView(a.storeview,0,null,this.model_.isThemeMode())};da.prototype.clickPlace_=function(a){console.assert(a>=0);this.clickListView_(a,"PLACE");var b=this.activeItem_=this.model_.places[a],a=this.placeMarkers_.at(this.placeMarkerIndex_[a]);this.setMarkerActive_(a);this.setCoords_({coords:b.coords,name:b.name,
id:b.subway?"M"+b.subway.id:"P"+b.id,pointType:b.subway?"SUBWAYSTATION":"PLACE"});this.showMediumTooltip_(b,a);!this.model_.hasBounds()&&!this.model_.whatsHere&&this.map_.setCenter(b.coords);this.aoiController_.clear();if(b.pointExtension){this.aoiController_.callAfterLoad(function(){this.aoiController_.clickMarker(b.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(b.id))}.bind(this));this.aoiController_.find(b.id)}q.click("route","place_name")};da.prototype.setMarkerActive_=function(a){if(this.marker){this.marker.setZIndex(2);
this.marker.setHover(false);this.marker.setActive(false)}if(a){a.setZIndex(3);a.setActive(true);this.marker=a}else this.marker=null};da.prototype.findBusStops=function(){if(this.singleViewMode_){this.model_.setBusStopMode(true);this.model_.setPage(2)}else this.model_.setBusStopMode();this.group_.setActiveWithoutFeedback(3);q.click(q.ROUTE_METHOD,"search_busstop_option")};da.prototype.clickBusStop_=function(a){var b=this.model_.busStops[a];this.setCoords_({coords:b.coords,name:b.name,id:"B"+b.id});
this.clickListView_(a,"BUSSTOP");q.click("route","busstop")};da.prototype.clickAddrSuggest_=function(a){this.setKeyword(a)};da.prototype.clear=function(){this.placeMarkers_.clear();this.activeItem_=null};da.prototype.clickListView_=function(a,b){this.infoWindowManager_.close();this.placeListView_.setIndex(-1);this.busStopListView_.setIndex(-1);this.addressListView_.setIndex(-1);var c=null;if(a!=null){switch(b){case "ADDRESS":c=this.addressListView_;break;case "PLACE":c=this.placeListView_;break;case "BUSSTOP":c=
this.busStopListView_}c.setIndex(a)}};da.prototype.load_=function(){this.infoWindowManager_.close();var a=this.model_;this.clear();this.resetSwap_();g.$("info.flagsearch").show().removeClass("Flagsearch-result");g.$("info.flagsearch").removeClass("Flagsearch-Noresult");g.$("info.noFlagPlace").setVisible(false);g.$("info.flagsearch.options").show();this.infoRoute.hide();Application.windowController.showInfoAndTop();a.isBusStopMode()?this.loadBusMessage_():this.loadMessage_();var b=this.spellcheckView_;
if(a.spellCandidate[0]){g.$("info.flagsearch.spellcheck.titleText").show();g.$("info.flagsearch.spellcheck.title").setText(a.getKeyword());b.showCandidate(a.spellCandidate[0])}else b.hide();b="";a.isAllMode()?b="all":a.isPlaceMode()?b="place":a.isAddressMode()?b="address":a.isBusStopMode()&&(b="bus");b={tab:b};b.in_map=a.hasBounds()?1:0;b.mkey=+new Date+"_"+Math.ceil(Math.random()*32767);b.sorttype=a.sort||0;b.analysis=a.analysis;if((a.isAllMode()||a.isPlaceMode())&&a.getCidx()!=null)b.cidx=a.getCidx();
var c=new daum.maps.CoordsBounds;this.singleViewMode_=false;this.singleViewType_=null;if(a.isAllMode()){var d=0,e=["places","addresses","busStops"],f=0;e.forEach(function(b,c){if(a[b].length>0){d++;f=c}});if(d==1){this.singleViewMode_=true;this.singleViewType_=e[f]}}if(a.isAllMode()&&!this.singleViewMode_){a.places.splice(5);a.addresses.splice(3);a.busStops.splice(3)}a.isPlaceMode()&&a.places.length>0?g.$("info.flagsearch.addNewPlace").show():g.$("info.flagsearch.addNewPlace").hide();var h=this.addressListView_;
h.clear();var j=jQuery.extend({},b,{cpg:a.page+","+a.addresses.length});g.$("info.flagsearch.address.cnt").setText(String.formatNumber(a.addressCount));a.addresses.forEach(function(b,c){var d=h.addItem(new Lb(this.flagViewType,b,a.inferredKeyword));d.setSeq(c);d.setDssAddressObj(j)},this);h.setCount(a.addresses.length,a.isAllMode()?a.addressCount:0);h=this.placeListView_;g.$("info.flagsearch.place.cnt").setText(String.formatNumber(a.placeCount));h.clear();var l=jQuery.extend({},b,{cpg:a.page+","+
a.places.length}),k=[],n=[],y=[],o=new daum.maps.CoordsBounds;a.places.forEach(function(b,d){var e=h.addItem(new Ja(this.flagViewType,b));y.push(b.id);c.extend(b.coords);e.setIndex(b.index);e.setCoords(b.coords);e.setName(String.cut(b.name,20),a.inferredKeyword);e.setRoadview(b.roadview);e.setCategory(b.category);e.setPhone(b.phone[0]);e.setDssPlaceObj(l);if(b.newAddress){e.setAddress(String.cut(b.newAddress,25));e.setSubAddress(String.cut(b.address,25))}else e.setAddress(String.cut(b.address,25));
e.setDupData(b.dup_data);e.setConfirmId(b.id);e.setIntercity(b.intercity,b.intercityId,b.name);e.onDupDataClick.add(this.clickDupItem_,this);e.onOver.add(function(){f.setHover(true);if(this.activeItem_!=b){this.miniTooltipManager_.createPlace(b);this.miniTooltipManager_.open()}},this);e.onOut.add(function(){f.setHover(false);this.miniTooltipManager_.close()},this);if(b.hasCoords()){var f;f=b.pointExtension?z.createLinecourse(b.index,b.coords):z.createPlace(b.index,b.coords);f.onClick.add(function(){this.clickPlaceMarker_(d);
e.sendDssLog("_marker_place")},this);if(e){f.onClick.add(function(){e.getPanel().bringToTop()},this);f.onOver.add(function(){e.setHover(true);if(this.activeItem_!=b){this.miniTooltipManager_.createPlace(b);this.miniTooltipManager_.open()}},this);f.onOut.add(function(){e.setHover(false);this.miniTooltipManager_.close()},this)}k[d]=n.length;n.push(f);o.extend(b.coords)}},this);for(this.placeMarkerIndex_=k.map(function(a){return n.length-1-a});n[0];)this.placeMarkers_.add(n.pop());h.setCount(a.places.length,
a.isAllMode()?a.placeCount:0);h=this.busStopListView_;h.clear();a.busRecommend=="busstop"&&a.busRecommendTop&&this.swapAddressForBusStop_();var p=jQuery.extend({},b,{cpg:a.page+","+a.busStops.length});g.$("info.flagsearch.busstop.cnt").setText(String.formatNumber(a.busStopCount));a.busStops.forEach(function(a,b){var c=h.addItem(new Gb(this.flagViewType));c.setSeq(b);c.setDssBusStopObj(p);c.setCoords(a.coords);c.setTitle(a.name,a.direction);c.setRegion(a.region)},this);h.setCount(a.busStops.length,
a.isAllMode()?a.busStopCount:0);this.paginationView_.setTotal(a.isAllMode()?0:(a.pageCount||a.addressCount||a.busStopCount)/15);this.paginationView_.setPage(a.page);this.model_.isHighway&&this.swapAddressForPlace_();if(a.busRecommend=="busstop"&&a.busRecommendTop&&this.model_.busStops[0])this.clickBusStop_(0);else if(this.model_.addresses[0]&&!this.model_.isHighway){this.roadviewController_.close();this.clickAddress_(0)}else if(this.model_.places[0])this.clickPlace_(0);else if(this.model_.busStops[0])this.clickBusStop_(0);
else{g.$("info.flagsearch.spellcheck.titleText").hide();this.noFlagPlace(a)}this.onLoad.notify();require("log/Tiara").log("/fake/search");b=jQuery.extend({},b,{});if(!c.isEmpty())b.rbounds=c.getSouthWest().getX()+","+c.getSouthWest().getY()+","+c.getNorthEast().getX()+","+c.getNorthEast().getY();if(a.trans_map_type){b.trans_map_type=a.trans_map_type;b.sq=a.spellCandidate[0]}if(this.result_click){b.result_click=this.result_click;this.result_click=null;b.oq=this.result_click_sq;this.result_click_sq=
null;b.trans_map_type=this.trans_map_type}e="start";this.flagViewType==I.VIA_WHICH_?e="via":this.flagViewType==I.DEST_WHICH_&&(e="end");if(a.isAllMode()){b.cnt=[a.placeCount,a.addressCount,a.busesCount,a.busStopCount,a.placeAdCount||0].join();b.pg=a.page;b.cids=y.join(",");t.logPathSearchWithType(a.getKeyword(),e,b)}else{b.pg=a.page;if(a.isPlaceMode())b.cids=y.join(",");t._path_type?t.logPathSearchKeyword(a.getKeyword(),b):t.logPathSearchWithType(a.getKeyword(),e,b)}};da.prototype.clickDupItem_=function(a){ja.findPlace(a,
function(a){this.dupMarker_?this.dupMarker_.setPosition(a.coords):this.dupMarker_=z.fakeMarker(a.coords);this.setCoords_({coords:a.coords,name:a.name,id:"P"+a.id});this.showMediumTooltip_(a,this.dupMarker_)},this);this.clickListView_(null);this.setMarkerActive_(null)};da.prototype.clickPlaceMarker_=function(a){console.assert(a>=0);var b=this.activeItem_=this.model_.places[a],c=this.placeMarkers_.at(this.placeMarkerIndex_[a]);this.clickListView_(a,"PLACE");this.setMarkerActive_(c);this.setCoords_({coords:b.coords,
name:b.name,id:b.subway?"M"+b.subway.id:"P"+b.id,pointType:b.subway?"SUBWAYSTATION":"PLACE"});this.showPlaceInfowindow_(b,c);this.aoiController_.clear();if(b.pointExtension){this.aoiController_.callAfterLoad(function(){this.aoiController_.clickMarker(b.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(b.id),200)}.bind(this));this.aoiController_.find(b.id)}};da.prototype.swapAddressForBusStop_=function(){jQuery("#info\\.flagsearch\\.busstop").insertBefore(jQuery("#info\\.flagsearch\\.address"))};
da.prototype.swapAddressForPlace_=function(){jQuery("#info\\.flagsearch\\.place").insertBefore(jQuery("#info\\.flagsearch\\.address"))};da.prototype.resetSwap_=function(){jQuery("#info\\.flagsearch\\.address").insertBefore(jQuery("#info\\.flagsearch\\.place"));jQuery("#info\\.flagsearch\\.busstop").insertAfter(jQuery("#info\\.flagsearch\\.place"))};da.prototype.showPlaceInfowindow_=function(a,b){if(a.hasCoords()){var c=this.infoWindowManager_.createPlace(a,b,"route");c.onClose.add(function(){this.activeItem_=
null},this);b&&b.setActive&&c.onClose.add(function(){b.setActive(false)})}else Ua(a.getDaumPlaceUrl())};da.prototype.loadMessage_=function(){var a=this.model_;g.$("info.flagsearch.correction").setVisible(a.trans_map_type=="RESULT_JUNGDAP_REDIRECT");if(a.originalKeyword){var b=a.getKeyword();if(a.guideMessage&&a.guideMessage.length){var c=a.guideMessage[0],d=c.region||"";d&&c.bunji&&(d=d+(" "+c.bunji));switch(c.type){case "global":case "user_location":b=c.keyword;break;case "location_only":b=d;break;
case "located_query":case "near_by_query":case "located_branch":b=d+" \uc8fc\ubcc0 "+c.keyword}}g.$("info.flagsearch.correction.orig").setText(a.originalKeyword);g.$("info.flagsearch.correction.new").setText(b);g.$("info.flagsearch.correction.orig2").setText(a.originalKeyword)}b=g.$("info.flagsearch.message");b.show();c=g.$("info.flagsearch.divided");if(a.homonyms[0]||a.guideMessage){this.messageView.setVisible(true);this.busMessageView.setVisible(false);this.messageView.setKeyword(a.getKeyword());
this.messageView.setSubNumber(a.sn_query);this.messageView.setBound(a.retry);this.messageView.setGuideData(a.guideMessage,a.homonyms,null,a.premiumKeyword);b.addChild(this.messageView.getPane());c.show()}a.trans_map_type&&this.messageView.hideTitle()};da.prototype.loadBusMessage_=function(){var a=this.model_;this.busMessageView.setVisible(true);this.messageView.setVisible(false);var b=g.$("info.flagsearch.message");b.show();this.busMessageView.setData(a.originalKeyword,a.currentGuide,a.nextGuide);
b.addChild(this.busMessageView.getPane())};da.prototype.findLiterally=function(){this.model_.setLiteral(true)};da.prototype.findSnSelected=function(a){this.model_.setSnSelected(true,a)};da.prototype.noFlagPlace=function(a){Application.flagSearchController.methodView_.setActive(false);g.$("info.flagsearch").addClass("Flagsearch-Noresult");g.$("info.noFlagPlace").setVisible(true);g.$("info.noFlagPlace.keyword").setText(a.getKeyword());if(this.model_.isAllMode()){g.$("info.noFlagPlace.optionKeyword").setText("\uac80\uc0c9\uacb0\uacfc");
a=true;this.model_.placeCount==0&&(this.model_.busStopCount==0&&this.model_.addressCount==0)&&(a=false);a||g.$("info.flagsearch.options").hide();this.onNoResult.notify(this.model_.getKeyword())}else this.model_.getMode()=="place"?g.$("info.noFlagPlace.optionKeyword").setText("\uc7a5\uc18c\uac80\uc0c9\uacb0\uacfc"):this.model_.getMode()=="busstop"?g.$("info.noFlagPlace.optionKeyword").setText("\ubc84\uc2a4\uac80\uc0c9\uacb0\uacfc"):g.$("info.noFlagPlace.optionKeyword").setText("\uc8fc\uc18c\uac80\uc0c9\uacb0\uacfc")};
da.prototype.show=function(){this.placeMarkers_.show()};da.prototype.hide=function(){this.placeMarkers_.hide()};da.prototype.setTransMapTypeLog=function(a){this.trans_map_type=a;this.result_click="Y";this.result_click_sq=this.model_.getKeyword()};define("controller/FlagSearchResultController","map/Map map/MiniTooltipManager map/InfoWindowManager controller/RoadviewController manager/AoiManager controller/HistoryController".split(" "),R(da));define("controller/HistoryController",[],R(function(){function a(){try{A.localStorage.setItem("test",
"1");A.localStorage.removeItem("test");return!!A.localStorage&&!!A.JSON}catch(a){return false}}function b(a){a||(a="all");var b=E+"disabled",b=F&&JSON.parse(localStorage.getItem(b));return jQuery.isArray(b)&&jQuery.inArray(a,b)!==-1}function c(a){var c=E+a,a=jQuery.inArray(a,U.route)!==-1?s.ROUTE:s.LAYER;return F&&!b(a)&&JSON.parse(localStorage.getItem(c))}function d(a,b){var c=E+a;b.length>0?F&&localStorage.setItem(c,JSON.stringify(b)):F&&localStorage.removeItem(c)}function e(b){var c,d;if(a())for(c in v)if(v.hasOwnProperty(c)&&
(!b||b==v[c])){d=E+v[c];localStorage.removeItem(d)}}function f(a){var b=c(a.type);b.splice(a.idx,1);b.forEach(function(a,b){a.idx=b});d(a.type,b)}function h(a,b){a instanceof Array?a.some(function(c,d){var e=j(c),f=j(b);if(JSON.stringify(e)===JSON.stringify(f)){a.splice(d,1);return true}}):a=[];a.unshift(b);a.splice(Z);a.forEach(function(a,b){a.idx=b});return a}function j(a){var b=["type","key","route_form"],c={},d;for(d in a)if(a.hasOwnProperty(d)&&jQuery.inArray(d,b)!==-1)if(d=="route_form"){c[d]=
[];a[d].forEach(function(a,b){var e={},f;for(f in a)a.hasOwnProperty(f)&&f!="name"&&(e[f]=a[f]);c[d][b]=e})}else c[d]=a[d];return c}function g(){var a,b,d,e=[],f=[],h=[];for(d in v)if(v.hasOwnProperty(d)){a=v[d];b=c(a);(ea[a]=b)&&jQuery.inArray(a,D)!==-1&&(e=e.concat(b));b&&jQuery.inArray(a,q)!==-1&&(f=f.concat(b));b&&jQuery.inArray(a,K)!==-1&&(h=h.concat(b))}a=function(a,b){return a.createTime<b.createTime?1:a.createTime>b.createTime?-1:0};e.sort(a);e.splice(Z);ea[r]=e;f.sort(a);f.splice(Z);ea[u]=
f;h.sort(a);h.splice(Z);ea[w]=h;o.notify()}function k(a){if(a){var b=c(a.type),b=h(b,a);d(a.type,b);g()}}function n(a){var b=U[a];a&&b?b.forEach(function(a){e(a)}):e();g()}function y(a,b){var c=null,d;if(d=F)a:{for(var e in v)if(v.hasOwnProperty(e)&&a===v[e]){d=true;break a}d=false}d&&(c=jQuery.extend(true,{},{type:a,createTime:(new Date).getTime()},b));return c}var o=this.onChange=new m,p=this.onClick=new m,s=this.VIEW_TYPE={ALL:"all",LAYER:"layer",ROUTE:"route"},v=this.TYPE_LIST={BUS_STOP:"busstop",
PLACE:"place",ADDRESS:"address",SUBWAY_STATION:"subwaystation",SUBWAY_STATION_NAME:"subwaystationname",BUS_LINE:"busline",BUS_STOP_LINE:"busstopline",CAR:"route_car",TRANSIT:"route_pubtrans",WALK:"route_walk",SUBWAY:"route_subway"},r=this.SEARCH_TYPE="search",u=this.POI_TYPE="pois",w=this.ROUTE_TYPE="route",D=[v.BUS_STOP,v.SUBWAY_STATION,v.PLACE,v.ADDRESS,v.BUS_LINE],q=[v.BUS_STOP,v.SUBWAY_STATION,v.PLACE,v.ADDRESS],K=[v.CAR,v.TRANSIT,v.WALK],U={layer:[v.BUS_STOP,v.SUBWAY_STATION,v.PLACE,v.ADDRESS,
v.BUS_LINE,v.SUBWAY_STATION_NAME,v.BUS_STOP_LINE],route:[v.CAR,v.TRANSIT,v.WALK,v.SUBWAY]},E="history_list_",Z=50,F=a()&&!b(),ea={};g();this.TYPE_LIST=v;this.SEARCH_TYPE=r;this.POI_TYPE=u;this.ROUTE_TYPE=w;this.addPoi=function(a,b){var c=y(a,{key:(b.docid||b.id).toString(),name:b.name,x:b.coords.getX(),y:b.coords.getY()});k(c)};this.addBusLine=function(a,b){var c=y(a,{key:b.id+"",name:b.name});k(c)};this.addRoute=function(a,b){if(b.length>1){var c=b[b.length-1],d=[];d.push(B.getRouteData(b[0]));a!==
v.TRANSIT&&b.slice(1,-1).map(function(a){d.push(B.getRouteData(a))});d.push(B.getRouteData(c));c=y(a,{route_form:d});k(c)}};this.addSubwayRoute=function(a,b){var c=[];c.push({name:b.sfullname,key:b.sid+"",x:0,y:0,poi_type:"SUBWAYSTATION"});c.push({name:b.efullname,key:b.eid+"",x:0,y:0,poi_type:"SUBWAYSTATION"});c=y(a,{startName:b.sname,endName:b.ename,subwayRegion:b.subwayRegion,route_form:c});k(c)};this.addSubwayStationName=function(a,b){var c=y(a,{name:b.name,key:b.stationId+"",regionId:b.regionId});
k(c)};this.getHistory=function(a){return ea[a]||[]};this.historyClick=function(a){a=jQuery(a.currentTarget).data();a.type&&(a=ea[a.type][a.idx]||a);p.notify(a)};this.removeHistory=function(a){a.preventDefault();a.stopPropagation();a=jQuery(a.currentTarget).data();f(a);g()};this.clearRouteHistory=function(){n(s.ROUTE)};this.clearLayerHistory=function(){n(s.LAYER)};this.disableHistory=function(b,c){if(a()){b=!!b;if(!c)c=s.ALL;var d=E+"disabled",e=F&&JSON.parse(localStorage.getItem(d));if(jQuery.isArray(e)){var f=
e.indexOf(c);f!==-1&&e.splice(f,1);b&&e.push(c)}else e=[c];localStorage.setItem(d,JSON.stringify(e));n(c);c==s.ALL&&(F=!b)}};this.getDisabled=b}));gd.prototype.loadStory_=function(){jQuery("#info\\.main\\.notice\\.more").click(function(){q.click("left","notice_more")});jQuery("#info\\.main\\.notice\\.text1").click(function(){q.click("left","notice_1")});jQuery("#info\\.main\\.notice\\.text2").click(function(){q.click("left","notice_2")});jQuery("#info\\.main\\.notice\\.text3").click(function(){q.click("left",
"notice_3")})};define("controller/HomeInfoController",["map/Map"],R(gd));"use strict";define("controller/IndoorMapController",["map/Map","map/MapTypeControl","map/MapTileManager","controller/MapToolController"],R(function(a,b,c,d){var e,f,h,j,g;function k(a){daum.maps.event.addListener(a,"mousemove",function(){if(q)return false;!D&&!K&&a.setOptions(e)});daum.maps.event.addListener(a,"mouseout",function(){if(q)return false;!D&&!K&&a.setOptions(f)})}function n(a){for(var b=[],c=[],d=new daum.maps.CoordsBounds,
a=a.split(","),e,f,h=0;h<a.length;h=h+2){e=Number(a[h]);f=Number(a[h+1]);if(!isNaN(f)){c.push(e);c.push(f);e=new daum.maps.Coords(e,f);d.extend(e);b.push(e)}}return{shape:c,coords:b,bounds:d}}function y(b){var c=w||a.getLevel()>3||!a.isRoadmap(),b=!c&&!D&&b,d=h[a.getLevel()],e;K=false;for(var g in u)if(u.hasOwnProperty(g)){var k=u[g];if(c){K=true;e=j}else e=b?f:j;k.polygon.setOptions(e);k.polygon.setOptions({strokeWeight:d})}c&&r(false)}function o(){var b=a.getBounds(),c=[],d,e;for(e in u)if(u.hasOwnProperty(e)){d=
u[e];b.intersects(d.bounds)&&c.push(e)}return c}function p(a){var b;a:{if(a instanceof daum.maps.Coords){b=o();for(var c=a.getX(),a=a.getY(),d,e,f=0;d=b[f];f++){d=u[d];e=new ib.Polygon(d.shape);if(e.isContain(c,a)){b=d;break a}}}b=false}return!!b}function s(){return Object.keys(u).length===0?true:o().length>0?true:false}function v(b){if(D){b=b||1;a.getLevel()<b?a.setLevel(b,{animate:{complete:function(){r(false)},duration:100}}):r(false)}}function r(a){D=a;b.setIndoor(a)}g={fillColor:"#f0f6ff",strokeColor:"#7794b6",
strokeStyle:"solid"};f={fillOpacity:0.5,strokeOpacity:0.7};e={fillOpacity:0.7,strokeOpacity:0.9};j={fillOpacity:1.0E-4,strokeOpacity:1.0E-4};h={1:2,2:1.5,3:1.5};var u={},w=false,D=false,q=false,K=false,U=this.onOver=new m;(function(){Object.keys(u).length===0?require("server").indoorPolygon(null,function(b){var b=b||new Ga,b=b.find("value"),c,d,e,f,j,r,o=h[a.getLevel()];jQuery(b).each(function(b,h){c=n(h.text("coords"));j=c.coords;r=c.shape;if(h.text("hole")){d=n(h.text("hole"));r=r.concat(d.shape);
j=[c.coords,d.coords]}e=new daum.maps.Polygon({map:a,path:j});e.setOptions(g);e.setOptions({strokeWeight:o});k(e);f="p"+h.text("objectid");u[f]={shape:r,polygon:e,bounds:c.bounds}});y(true)}):y(true)})();daum.maps.event.addListener(a,"maptypeid_changed",function(){a.isRoadmap()||r(false);D=b.isIndoorActive();y(!D)});daum.maps.event.addListener(a,"zoom_changed",function(){D&&!s()?v():y(!D);var b=a.getLevel(),b=h[b];if(!D&&b)for(var c in u)u.hasOwnProperty(c)&&u[c].polygon.setOptions({strokeWeight:b})});
daum.maps.event.addListener(a,"dragend",function(){s()||v()});c.onOverlay.add(function(a){if(a!=="indoor"&&a!=="roadview"){w=c.get("bicycle")||c.get("usedistrict")||c.get("bboundary")||c.get("hboundary")||c.get("air")||c.get("traffic")||c.get("terrain")?true:false;r(false);y(true)}});d.onClickTool.add(function(){q=true});d.onComplete.add(function(){q=false});this.checkPolygonAreaContainPoint=p;this.handleClick=function(a){var b=false;if(q||K)return false;if(p(a)){b=true;Application.infoWindowManager.closeWithoutNotify();
D||r(true)}else D&&v();return b};this.compareRange=function(a){var b=false,a=p(a);!D&&a&&(b=true);U.notify(b);return a||b}}));Hb.prototype.changeActive_=function(){this.getActive()&&this.placeMarkers_[0]?this.show():this.clear()};Hb.prototype.clear=function(){this.placeMarkers_.forEach(function(a){a.setMap(null)})};Hb.prototype.show=function(){this.placeMarkers_.forEach(function(a){a.setMap(this.map_)}.bind(this))};Hb.prototype.loadIssuedMap_=function(){var a=this.model_;this.clear();g.$("info.issue.place.issueCnt").setText(a.places.length);
g.$("info.issue").show();var b=new daum.maps.CoordsBounds,c=this.issuePlaceListView_;a.places.forEach(function(a,e){var f;f=c.addItem();f.setName(a.name);f.setCoords(a.coords);f.setImage(a.imgUrl);f.setDesc(a.desc);if(a.hasCoords()){var h=null,h=e<15?z.createAddress(a.coords):z.issuePlace(a.coords);h.setMap(this.map_);h.setPosition(a.coords);daum.maps.event.addListener(h,"click",function(){this.infowindowManager_.createIssuedPlace(a,h)}.bind(this));this.placeMarkers_.push(h);b.extend(a.coords)}},
this);this.map_.setBounds(b)};Hb.prototype.setIssue=function(a){this.model_.setIssue(a)};Hb.prototype.clickPlace_=function(a){this.placeMarkers_.at(this.placeMarkerIndex_[a])};Hb.prototype.getIssueMode=function(){return this.getActive()&&this.placeMarkers_.at(0)};define("controller/IssueMapController",["map/Map","controller/WindowController","map/InfoWindowManager"],R(Hb));define("controller/KeywordBannerController",["controller/RoadviewController"],R(function(){function a(a){var b="pubtrans/intercity/timetable";
a&&(b=b+"?type=island");A.open(b,"_blank","width=870,height=597,scrollbars=no,resizable=yes")}var b=jQuery("#info\\.main\\.banner");b.find(".banner").click(function(){switch(d){case "bus":a(false);break;case "ferry":a(true)}});var c={bus:"bus",intercityBus:"bus",ferry:"ferry",island:"ferry"},d="";this.show=function(a){if(a){a=c[a];b.removeClass().addClass("keywordBanner").addClass(a).show();d=a}};this.hide=function(){b.removeClass().hide()}}));L.prototype.redrawAoiIfActive_=function(){if(this.getActive()){this.aoiController_.redrawLines();
this.areaSearchController_.restoreFocus()}};L.prototype.deselectMarkers_=function(){this.placeMarkers_.setMarkerActive(-1);this.busStopMarkers_.setMarkerActive(-1);this.addressMarker_.setZIndex(2)};L.prototype.selectSubAddress_=function(a){var b=a.address,c=this.addressMarker_;c.setPosition(b.coords);c.setZIndex(5);c.setMap(null);c.id=b.id;this.deselectMarkers_();this.clickListView(this.model_.addresses.indexOf(b),"ADDRESS");this.activeItem_=b;this.relatedAddressMarker_.setMap(this.map_);this.relatedAddressMarker_.setPosition(a.coords);
this.map_.panTo(a.coords);this.infoWindowManager_.close();var d=new Ca;jQuery.extend(d,a.address);b=a.model;d.infowindowSubAddress=b;if(d.subBuildingList&&d.subBuildingList.length)d.infowindowSubBuilding=d.subBuildingList[a.index];if(d.relatedZipcode)d.zipcode=d.relatedZipcode[a.index]||d.zipcode;if(d.relatedZonenum)d.zonenum=d.relatedZonenum[a.index]||d.zonenum;d.coords=new daum.maps.Coords(b.x,b.y);d.id="id_"+b.x+b.y+d.regionId;this.infoWindowManager_.createAddress(d,this.relatedAddressMarker_,
a.address);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(a.model.type=="old"){a=function(){this.areaSearchController_.focus(d.id);this.areaSearchController_.renderById(d.id,true)}.bind(this);if(this.areaSearchController_.getAreaSearch(d.id))a();else{this.areaSearchController_.fetch(d);this.areaSearchController_.callAfterLoad(d.id,a)}}};L.prototype.onSubAddressMarkerClick_=function(){};L.prototype.onSubAddressItemClick_=function(a){this.onSubAddressMarkerClick_=
this.selectSubAddress_.bind(this,a);this.selectSubAddress_(a)};L.prototype.onPlaceMarkerClick=function(a,b){this.clickPlaceMarker_(a);this.miniTooltipManager_.close();b&&b.getPane().bringin();b&&b.dssClickHandler("marker_place")};L.prototype.onPlaceMarkerOver=function(a,b){a&&a.setHover(true);if(b.pointExtension){b.aoiCoords=this.aoiController_.getMarkerPosition(b.id)||b.coords;this.showMiniTooltip_(b,ua.AOI);this.aoiController_.highlight(b.id)}else if(this.activeItem_!=b){this.showMiniTooltip_(b,
ua.PLACE);this.aoiController_.highlight(b.id)}this.areaSearchController_.blurAll(true)};L.prototype.onPlaceMarkerOut=function(a){a&&a.setHover(false);this.miniTooltipManager_.close();this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()};L.prototype.setTransMapTypeLog=function(a){this.trans_map_type=a;this.result_click="Y";this.result_click_sq=this.model_.getKeyword()};L.prototype.submit_=function(){t.updateQIndex();this.whatsHereController_.clearCache();var a=this.queryPanel_.val();
q.click("navi","menu_map_search",{param1:a});if(a=="")alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");else{g.$("info.main").show();this.infoWindowManager_.close();this.mainMapController.tileClear();this.themeMapController_.setActive(false);this.bounds_||t.log("search_q_type",a,{typeid:"window"});this.queryBtn_.blur();this.queryPanel_.blur();this.suggestInstance_.hide();g.$("info.busTab").hide();this.bounds_?this.model_.setBounds(this.map_.getBounds()):this.model_.setBounds(null);
this.model_.setFilterId(void 0);this.setActive(true);this.setKeyword(a);Application.favoriteController.reset();Application.roadviewController.close();Application.roadviewController.removeLastMarker()}};L.prototype.getKeyword=function(){return this.model_.loaded?this.model_.getKeyword():""};L.prototype.getThemeId=function(){return this.model_.themeId};L.prototype.setKeywordParams=function(a){this.model_.setKeywordParams(a)};L.prototype.setKeyword=function(a,b){this.windowController_.setCollapse(false);
this.model_.setKeyword(a,false,b)};L.prototype.setWhatsHereKeyword=function(a){if(this.themeMapController_.getActive()){this.themeMapController_.setActive(false);this.changeActive_()}t.log("search_q_type",a.name,{typeid:"here"});this.bounds_=false;this.setTrackBounds(false);this.model_.setWhatsHereKeyword(a)};L.prototype.setPage=function(a){if(this.model_.isBusTabMODE()){this.busRegion?this.model_.setBusRegionId(this.busRegion.id):this.model_.setBusRegionId(null);this.busType?this.model_.setBusTypeId(this.busType.id):
this.model_.setBusTypeId(null)}this.model_.setPage(a)};L.prototype.changePlaceSortOption_=function(){t.log("search_q_type",this.model_.getKeyword(),{typeid:"option",tab:this.model_.isPlaceMode()?"place":"all",sorttype:this.placeSortOptions_.getOption()});this.model_.setSort(this.placeSortOptions_.getOption());this.model_.isThemeMode()?this.model_.setPage(1):this.model_.setPlaceMode()};L.prototype.findAll=function(){this.model_.setAllMode();this.infoHeaderView_.setOption(0)};L.prototype.findPlaces=
function(){if(this.singleViewMode_){this.model_.setPlaceMode(true);this.model_.setPage(2)}else this.model_.setPlaceMode();this.infoHeaderView_.setOption(1)};L.prototype.findAddresses=function(){if(this.singleViewMode_){this.model_.setAddressMode(true);this.model_.setPage(2)}else this.model_.setAddressMode();this.infoHeaderView_.setOption(2)};L.prototype.findBuses=function(){this.aoiController_.clear();this.busType=this.busRegion=null;if(this.busState_==null){if(this.singleViewMode_){this.model_.setBusMode(0,
true);this.model_.setPage(2)}else this.model_.setBusMode(0);g.$("info.busTab").hide();g.$("info.noPlace").show()}else{g.$("info.busTab").show();this.busTab.setActiveWithoutFeedback(this.busState_);if(this.singleViewMode_){this.model_.setBusMode(this.busState_,true);this.model_.setPage(2)}else this.model_.setBusMode(this.busState_)}this.infoHeaderView_.setOption(3)};L.prototype.changeBusTab_=function(a){this.model_.setBusRegionId(null);this.model_.setBusTypeId(null);this.model_.setBusMode(a);this.busType=
this.busRegion=null;switch(a){case 0:t.logSearchIn("busname_tab");break;case 1:t.logSearchIn("busstop_tab")}};L.prototype.findSurround=function(){this.setTrackBounds(false);this.model_.setBounds(this.map_.getBounds());this.model_.setThemeId(12,null,"\uc8fc\ubcc0\uc815\ubcf4")};L.prototype.clickListView=function(a,b){this.infoWindowManager_.close();this.hideBusLine_();this.placeListView_.setIndex(-1);this.busstopsListView_.setIndex(-1);this.addressListView_.setIndex(-1);var c=null;if(a!=null){switch(b){case "ADDRESS":c=
this.addressListView_;break;case "PLACE":c=this.placeListView_;break;case "BUSSTOP":c=this.busstopsListView_}c.setIndex(a)}};L.prototype.clickPlace_=function(a,b){console.assert(a>=0);var c=this.placeMarkerIndex_[a],d=this.activeItem_=this.model_.places[a];this.setMarkerActive_(this.placeMarkers_,c);this.miniTooltipManager_.close();this.landmarkMarkers_.clear();q.click("mapsearch","place_name");this.clickListView(a,"PLACE");this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();
if(d.pointExtension){if(this.aoiController_.getAoi(d.id)){var e=this.aoiController_.getCoordsBounds(d.id);e&&!this.model_.hasBounds()&&this.map_.setBounds(e);this.aoiController_.clickListItem(d.id)}else{this.renderAllAoi_();this.aoiController_.callAfterLoad(function(){var a=this.aoiController_.getCoordsBounds(d.id);a&&!this.model_.hasBounds()&&this.map_.setBounds(a);this.aoiController_.clickListItem.bind(this.aoiController_,d.id)}.bind(this))}this.aoiController_.setMapEvent()}else{this.areaSearchController_.blurAll();
this.aoiController_.clickListItem(d.id)}c=this.placeMarkers_.at(c);this.showMediumTooltip_(d,c,b)};L.prototype.showMediumTooltip_=function(a,b,c){if(a){if(!a.pointExtension&&!this.model_.hasBounds()){this.map_.setLevel(c?c:3);this.map_.setCenter(a.coords)}setTimeout(function(){this.infoWindowManager_.createPlaceWithMedium(a,b,true,"search").onClose.add(function(){this.activeItem_=null},this)}.bind(this),100)}};L.prototype.showRoadview_=function(a){var b=a.index,c="ico_mn_b"+b+".png";switch(a.level){case 0:c=
"ico_mn_b"+b+".png";break;case 1:c="ico_ms_"+b+".png";break;case 2:c="ico_mp_"+b+".png"}this.roadviewController_.setViewpointWithMarker(a.roadview,"http://t1.daumcdn.net/localimg/localimages/07/2009/map/icon/"+c,a.roadview.pan,a.roadview.tilt,0,a,this.model_.isThemeMode())};L.prototype.showStoreview=function(a){this.roadviewController_.showStoreView(a.storeview,0,null,this.model_.isThemeMode())};L.prototype.clickPlaceMarker_=function(a){console.assert(a>=0);this.clickListView(a,"PLACE");var b=this.activeItem_=
this.model_.places[a],a=this.placeMarkerIndex_[a];this.setMarkerActive_(this.placeMarkers_,a);a=this.placeMarkers_.at(a);this.showPlaceInfowindow_(b,a);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(b.pointExtension&&!this.aoiController_.getAoi(b.id)){this.renderAllAoi_();this.aoiController_.callAfterLoad(this.aoiController_.clickMarker.bind(this.aoiController_,b.id))}else this.aoiController_.clickMarker(b.id)};L.prototype.onAoiMousedown_=function(a){if(a.model instanceof
ec)this.clickPlaceMarker_(a.index);else if(a.model instanceof Ca){var b=this.activeItem_=this.model_.addresses[a.index];this.deselectMarkers_();this.clickListView(a.index,"ADDRESS");a=this.addressMarker_;a.setMap(this.map_);b.lineData&&this.aoiController_.clickAddressItem(b,true);this.infoWindowManager_.createAddressWithNoPan(b,a);this.relatedAddressMarker_.setMap(null)}};L.prototype.showPlaceInfowindow_=function(a,b){a.hasCoords()?b?this.infoWindowManager_.createPlace(a,b,"search").onClose.add(function(){this.activeItem_=
null},this):this.infoWindowManager_.createPlace(a):Ua(a.getDaumPlaceUrl())};L.prototype.clickBusStops_=function(a,b){console.assert(a>=0);this.clickListView(a,"BUSSTOP");var c=this.activeItem_=this.model_.busStops[a],d=this.busStopMarkers_.at(a);this.setMarkerActive_(this.busStopMarkers_,a);Y.find(c.id,function(a){if(a){this.roadviewController_.close();if(!b&&!this.model_.getBounds()&&!this.model_.whatsHere){this.map_.setLevel(3);this.map_.setCenter(a.coords)}this.infoWindowManager_.createBusStop(a,
null,null,d)}},this);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent()};L.prototype.clickAddress_=function(a){console.assert(a>=0);this.deselectMarkers_();this.landmarkMarkers_.clear();this.clickListView(a,"ADDRESS");var b=this.activeItem_=this.model_.addresses[a];b.bhtype&&b.bhtype.search("B")>-1?this.localInfoController_.setRegionCodeType("B"):this.localInfoController_.setRegionCodeType("H");var c=function(){this.areaSearchController_.focus(b.id);if(!this.areaSearchController_.renderById(b.id)){this.map_.setLevel(3);
this.map_.setCenter(b.coords)}}.bind(this),d=this.addressMarker_;d.setMap(this.map_);d.setPosition(b.coords);d.setZIndex(5);d.id=b.id;var e=this.addressListView_.getItemViews();d.item=e[a];this.aoiController_.clear();this.aoiController_.removeMapEvent();if(b.lineData)this.aoiController_.clickAddressItem(b);else if(!this.model_.getBounds()&&!this.model_.whatsHere){this.map_.setLevel(3);this.map_.setCenter(b.coords)}q.click("mapsearch","address");this.clickAddressMarker_=function(a){this.infoWindowManager_.createAddress(b,
d,null,a)}.bind(this);this.clickAddressMarker_(b.maybeAreaSearch);this.relatedAddressMarker_.setMap(null);this.areaSearchController_.clearMap();b.maybeAreaSearch?this.areaSearchController_.getAreaSearch(b.id)?c():this.areaSearchController_.callAfterLoad(b.id,c):this.areaSearchController_.clearMapEvent()};L.prototype.clickAddressMarker_=null;L.prototype.changeActive_=function(){if(this.getActive()){g.$("info.main").show();g.$("search.keyword").setVisible(true);if(!this.themeMapController_.getActive()){this._viewLayout.setMapOnly();
this.map_.setKeyboardShortcuts(true)}if(this.model_.loaded&&!this.model_.coordinates){this.map_.relayout();if((this.model_.isAllMode()||this.model_.isAddressMode())&&!this.model_.target){var a=this.addressMarker_.getPosition();a&&(a.getX()&&a.getY())&&this.addressMarker_.setMap(this.map_)}this.placeMarkers_.show();this.busStopMarkers_.show();this.infoHeaderView_.show()}else{this.windowController_.showInfoAndTop();if(this.themeMapController_.getActive()){g.$("info.main").hide();this.recommendView_.hide();
this.themeMapController_.show()}else{this.themeMapController_.hide();(!this.queryPanel_.val()||this.model_.coordinates)&&this.recommendView_.show();this.model_.coordinates&&this.addressMarker_.setMap(this.map_)}}g.$("info").scrollTo(0);this.issueMapController.setActive(true);this.mainMapController.showKeywordTile();this.itemIdMarker&&this.itemIdMarker.setMap(this.map_)}else{this.infoHeaderView_.hide();this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.hide();
this.busStopMarkers_.hide();this.landmarkMarkers_.hide();this.issueMapController.setActive(false);this.recommendView_.hide();this.mainMapController.hideKeywordTile();this.hideBusLine_();this.themeMapController_.hide();this.itemIdMarker&&this.itemIdMarker.setMap(null)}jQuery("#titleSystemTooltip").hide();this.infoWindowManager_.close();this.windowController_.updateHeight()};L.prototype.hide=function(){this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.hide();
this.busStopMarkers_.hide();this.landmarkMarkers_.hide();this.mainMapController.hideKeywordTile()};L.prototype.hideBusLine_=function(){this.busItemController_&&this.busItemController_.hide();this.busLineController_.setActive(false)};L.prototype.getActiveBoundsButton=function(){return this.bounds_&&this.boundsButton_.getActive()};L.prototype.toggleBounds_=function(){this.setTrackBounds(this.bounds_=!this.bounds_);q.click("navi","navi_menu_map_inmapsearch")};L.prototype.setTrackBounds=function(a){this.boundsButton_.setActive(a);
this.boundscheck.attr("checked",a);if(a){a=this.queryPanel_.val();this.model_.setBounds(this.map_.getBounds());this.bounds_=true;if(a){if(this.themeMapController_.getActive()){this.themeMapController_.setActive(false);this.changeActive_()}this.setActive(true);this.setKeyword(a)}this.infoWindowManager_.close()}else this.model_.setBounds(null)};L.prototype.refresh_=function(){if((this.model_.isThemeMode()||this.bounds_&&this.model_.getKeyword()&&this.model_.hasBounds())&&!Application.roadviewController.getActive()&&
this.getActive()&&!this.map_.getBounds().equals(this.model_.getBounds())){this.model_.setBounds(this.map_.getBounds());this.model_.setPage(1)}};L.prototype.findLiterally=function(){this.model_.setLiteral(true)};L.prototype.findSnSelected=function(a){this.model_.setSnSelected(true,a)};L.prototype.findSubKeyword_=function(a){this.setKeyword(a)};L.prototype.loadMessage_=function(){var a=this.model_;g.$("info.search.correction").setVisible(a.trans_map_type=="RESULT_JUNGDAP_REDIRECT");if(a.originalKeyword){var b=
a.getKeyword();if(a.guideMessage&&a.guideMessage.length){var c=a.guideMessage[0],d=c.region||"";d&&c.bunji&&(d=d+(" "+c.bunji));switch(c.type){case "global":case "user_location":b=c.keyword;break;case "location_only":b=d;break;case "located_query":case "near_by_query":case "located_branch":b=d+" \uc8fc\ubcc0 "+c.keyword}}g.$("info.search.correction.orig").setText(a.originalKeyword);g.$("info.search.correction.new").setText(b);g.$("info.search.correction.orig2").setText(a.originalKeyword)}b=g.$("info.searchHeader.message");
b.show();if(a.homonyms[0]||a.guideMessage&&a.guideMessage.length){this.messageView.setVisible(true);this.busMessageView.setVisible(false);this.messageView.setSubNumber(a.sn_query);this.messageView.setBound(a.retry);this.messageView.setGuideData(a.guideMessage,a.homonyms,a.hasBounds(),a.premiumKeyword);b.addChild(this.messageView.getPane());g.$("info.main.options").removeClass("noUnderline")}else b.hide();if(a.hasBounds()){a.guideMessage&&a.guideMessage.length&&this.messageView.hideTitle();g.$("info.search.boundsTitle").show();
g.$("info.search.boundsTitle.text").setText(a.getKeyword())}else g.$("info.search.boundsTitle").hide();a.trans_map_type&&!this.bounds_&&this.messageView.hideTitle()};L.prototype.loadBusMessage_=function(){var a=this.model_;this.busMessageView.setVisible(true);this.messageView.setVisible(false);var b=g.$("info.searchHeader.message");b.show();this.busMessageView.setData(a.originalKeyword,a.currentGuide,a.nextGuide);b.addChild(this.busMessageView.getPane())};L.prototype.setOption_=function(a){Application.roadviewController.close();
g.$("info.search").hide();g.$("info.noPlace").hide();q.click("mapsearch","flag"+a,{param1:this.model_.getKeyword()});this.model_.setSort(0);this.model_.setBusRegionId(null);this.model_.setBusTypeId(null);this.singleViewMode_=this.reviewTabMode_=false;switch(a){case 0:this.findAll();break;case 1:this.findPlaces();t.logSearchIn("place_tab");break;case 2:this.findAddresses();t.logSearchIn("address_tab");break;case 3:this.findBuses();t.logSearchIn("bus_tab");break;default:console.assert(false)}};L.prototype.setTabActive_=
function(a){switch(a){case "route":Application.flagSearchController.setActive(true);break;case "bus":Application.busSearchController.setActive(true);break;case "subway":Application.subwaySearchController.setActive(true)}};L.prototype.hasAoi_=function(a,b){for(var c=false,d=0;d<b;d++)if(a[d].pointExtension||a[d].lineData){c=true;break}return c};L.prototype.renderAllAoi_=function(){for(var a=this.model_.isAllMode()?Math.min(5,this.model_.places.length):this.model_.places.length,b,c=0;c<a;c++){b=this.model_.places[c];
b.pointExtension&&this.aoiController_.find(b.id)}};L.prototype.checkBusKeyword=function(){var a=this.getKeyword().trim(),a=a.replace(/[-\ubc88]/g,"");return/^[0-9]+$/.test(a)};L.prototype.load_=function(){if(this.getActive()){var a=this.model_;g.$("info.body").scrollTo(0);this.addressMarker_&&this.addressMarker_.setPosition(new daum.maps.Coords(0,0));if(a.hasBounds()){a.addresses.length=0;a.addressCount=0;a.busesCount=0;a.buses.length=0;a.busStops.length=0;a.busStopCount=0}var b=a.getMode()==x.ALL;
this.singleViewMode_=false;this.singleViewType_=null;if(a.isAllMode()){var c=0,d=["places","addresses","buses","busStops"],e=[false,false,false,false],f=0;d.forEach(function(b,d){if(a[b].length>0){c++;f=d;e[d]=true}});if(c==1){this.singleViewMode_=true;this.singleViewType_=d[f]}else if(c==2&&e[2]&&e[3]){this.singleViewMode_=true;this.singleViewType_=a.busRecommend=="busname"?"buses":"busStops"}}if(a.isAllMode()&&!this.singleViewMode_){a.places.splice(5,15);a.addresses.splice(3,15);a.buses.splice(3,
15);a.busStops.splice(3,15)}a.isPlaceMode()&&a.places.length>0?g.$("info.addNewPlace").show():g.$("info.addNewPlace").hide();var d=this.getKeyword(),h=d.indexOf("\uc6b0\ud3b8\ubc88\ud638")!=-1;if(h){this.postCodeMessageKeyword=d.replace(/\uc6b0\ud3b8\ubc88\ud638/g,"").trim();this.postCodeMessage.show()}else this.postCodeMessage.hide();this.aoiController_.clear();this.aoiController_.setMapEvent();this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.resetSwap_();this.themeMapSearchController_.reset();
this.recommendView_.hide();this.onSearchLoad.notify();this.windowController_.updateHeight();this.miniTooltipManager_.close();var j=this.hasAoi_(a.places,a.isAllMode()?Math.min(a.places.length,5):a.places.length)||this.hasAoi_(a.addresses,a.addresses.length),l=false;this.bounds_||this.infoWindowManager_.close();this.infoHeaderView_.show();d="";if(a.isAllMode()){this.infoHeaderView_.setOption(0);this.themeMapSearchController_.setKeyword(this.getKeyword());d="all"}else if(a.isPlaceMode()){this.infoHeaderView_.setOption(1);
d="place"}else if(a.isAddressMode()){this.infoHeaderView_.setOption(2);d="address"}else if(a.isBusTabMODE()){this.infoHeaderView_.setOption(3);d="bus"}else if(a.isReviewMode()){this.infoHeaderView_.setOption(4);d="review"}d={tab:d};if((a.isAllMode()||a.isPlaceMode())&&a.getCidx()!=null)d.cidx=a.getCidx();if(a.isBusTabMODE()){if(a.getQaType())d.qatype=a.getQaType();if(a.getBusRegionId())d.regionid=a.getBusRegionId();if(a.getBusTypeId())d.bustypeid=a.getBusTypeId()}d.mkey=+new Date+"_"+Math.ceil(Math.random()*
32767);d.in_map=a.hasBounds()?1:0;if(a.category_){b=a.getMode()==x.ALL;d.cateid=a.category_;d.catedepth=a.categoryDepth_}d.sorttype=a.sort||0;d.analysis=a.analysis;if(a.dssSrcId)d.srcid=a.dssSrcId;g.$("info.search").show();jQuery("#titleSystemTooltip").hide();this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.clear();this.busStopMarkers_.clear();this.landmarkMarkers_.clear();this.issueMapController.clear();g.$("search.keyword").show();this.queryPanel_.val(a.getKeyword());
g.$("search.keyword.ad").setText("");a.isBusTabMODE()?a.hasBounds()||this.loadBusMessage_():this.loadMessage_();this.relatedKeywordController_.hide();this.relatedKeywordController_.render(a);var k=this.spellcheckView_;if(a.spellCandidate[0]){this.bounds_?g.$("info.searchHeader.spellcheck.titleresult").hide():g.$("info.searchHeader.spellcheck.titleresult").show();g.$("info.searchHeader.spellcheck.title").setText(a.getKeyword());k.showCandidate(a.spellCandidate[0])}else k.hide();if(a.isAllMode())this.busState_=
a.buses.length!=0&&a.busStops.length!=0?a.busRecommend=="busname"?0:1:a.buses.length!=0?0:a.busStops.length!=0?1:null;var n=new daum.maps.CoordsBounds,y=new daum.maps.CoordsBounds,o=new daum.maps.CoordsBounds;this.loadPlaceCategories_();var k=jQuery("#info\\.search\\.buses"),p=jQuery("#info\\.search\\.busstops");this.busItemController_&&this.busItemController_.hide();this.busItemController_=null;this.busLineController_.setActive(false);var s=this.busesListView_;s.clear();var m=this.busstopsListView_;
m.clear();if(a.busRecommend=="busname"){a.busRecommendTop?k.insertBefore(jQuery("#info\\.search\\.address")):k.insertAfter(jQuery("#info\\.search\\.place"));var r=jQuery.extend({},d,{cpg:a.page+","+a.buses.length});g.$("info.search.buses.cnt").setText(String.formatNumber(a.busesCount));a.buses.forEach(function(a,b){var c=s.addItem();c.setSeq(b);c.setDssBusObj(r);c.onClick.add(function(){this.landmarkMarkers_.clear();this.createLandmark_(a.landmarks);this.deselectMarkers_();this.clickListView(null);
this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.busLineController_.setData(a.id,true);this.busItemController_&&this.busItemController_.hide();var b=new Kb(a.id,c);this.busItemController_=b;Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a);b.activate()},this);c.setData(a)},this);s.setCount(a.buses.length,a.isAllMode()?a.busesCount:0);this.model_.isBusTabMODE()&&(a.busRegions.length>2||a.busTypes.length>2)&&s.setVisible(true,
false)}else s.setCount(0);if(a.busRecommend=="busstop"){a.busRecommendTop?p.insertBefore(jQuery("#info\\.search\\.address")):p.insertAfter(jQuery("#info\\.search\\.place"));var u=jQuery.extend({},d,{cpg:a.page+","+a.busStops.length});g.$("info.search.busstops.cnt").setText(String.formatNumber(a.busStopCount));a.busStops.forEach(function(a,b){var c=m.addItem();c.setData(a);c.setIcon(b);c.setDssBusStopObj(u);var d=z.createBusStop(b+1,a.coords);if(a){d.onClick.add(function(){this.miniTooltipManager_.close();
c&&c.getPane().bringin();this.clickBusStops_(b,true);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();c.sendDssLog("marker_busstop")},this);d.onOver.add(function(){c&&c.setHover(true);this.activeItem_!=a&&this.showMiniTooltip_(a,ua.BUSSTOP);this.aoiController_.dimAll();this.areaSearchController_.blurAll(true)},this);d.onOut.add(function(){c&&c.setHover(false);this.activeItem_!=a&&this.miniTooltipManager_.close();this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()},
this)}if(c){c.onClick.add(this.clickBusStops_,this);c.onOver.add(function(){this.setMarkerHover_(this.busStopMarkers_,b,true);this.activeItem_!=a&&this.showMiniTooltip_(a,ua.BUSSTOP);this.areaSearchController_.blurAll(true)},this);c.onOut.add(function(){this.setMarkerHover_(this.busStopMarkers_,b,false);this.miniTooltipManager_.close()},this)}c.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,item:a})},this);this.busStopMarkers_.add(d);y.extend(a.coords)},this);m.setCount(a.busStops.length,
a.isAllMode()?a.busStopCount:0);this.model_.isBusTabMODE()&&(a.busRegions.length>2||a.busTypes.length>2)&&m.setVisible(true,false)}else m.setCount(0);k=g.$("info.search.buses.regions").removeAllChildren();p=g.$("info.search.busstops.regions").removeAllChildren();k=a.busRecommend=="busname"?k:p;p=["LEFT","RIGHT"];if(a.busRegions.length>2){var w=a.busRegions.map(function(a){return a.name}),D=new Fc(w),w=this.busRegion?this.busRegion.name:w[0];D.setLabel(w);w=D.getPane();w.addClass("BusFilterSelectBoxView-"+
p.pop());k.addChild(w);D.onSelect.add(function(b){this.busRegion=b==0?null:a.busRegions[b];t.log("search_q_type",a.getKeyword(),{typeid:"filter",tab:this.model_.isBusesMODE()?"busname":"busstop",regionid:this.busRegion?this.busRegion.id:"",bustypeid:this.busType?this.busType.id:""});this.model_.setRepeatFlag(true);this.setPage(1)},this)}else this.busRegion=null;if(a.busTypes.length>2){w=a.busTypes.map(function(a){return a.name});D=new Fc(w);w=this.busType?this.busType.name:w[0];D.setLabel(w);w=D.getPane();
w.addClass("BusFilterSelectBoxView-"+p.pop());k.addChild(w);D.onSelect.add(function(b){this.busType=b==0?null:a.busTypes[b];t.log("search_q_type",a.getKeyword(),{typeid:"filter",tab:this.model_.isBusesMODE()?"busname":"busstop",regionid:this.busRegion?this.busRegion.id:"",bustypeid:this.busType?this.busType.id:""});this.model_.setRepeatFlag(true);this.setPage(1)},this)}else this.busType=null;var q=this.addressListView_;g.$("info.search.address.cnt").setText(String.formatNumber(a.addressCount));k=
jQuery("#info\\.search\\.address\\.retry");a.addressRetry?k.show():k.hide();q.clear();var K=jQuery.extend({},d,{cpg:a.page+","+a.addresses.length});a.addresses.forEach(function(b,c){var d=q.addItem();if(b.maybeAreaSearch){l=true;this.areaSearchController_.fetch(b)}d.setData(b,a.inferredKeyword);d.setSeq(c);d.setDssAddressObj(K);d.onFlagClick.add(function(a){this.onFlagClick.notify({type:a,item:b})},this);b.lineData?this.aoiController_.registerSearchResult({model:b,index:c}):d.onOver.add(function(){this.aoiController_.highlight(-1)},
this);d.onOver.add(function(){this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(b.id,true)},this);d.onOut.add(function(){this.areaSearchController_.restoreFocus()},this)},this);q.setCount(a.addresses.length,a.isAllMode()?a.addressCount:0);a.isThemeMode()?a.themeId==7?this.placeSortOptions_.setOptions([{name:"\ud718\ubc1c\uc720 \ucd5c\uc800\uac00\uc21c",value:20},{name:"\uacbd\uc720 \ucd5c\uc800\uac00\uc21c",value:22},{name:"LPG \ucd5c\uc800\uac00\uc21c",value:23}]):this.placeSortOptions_.setOptions([]):
a.sortType=="gas"?a.gasType=="lpg"?this.placeSortOptions_.setOptions([{name:"\uac70\ub9ac\uc21c",value:0},{name:"LPG \ucd5c\uc800\uac00\uc21c",value:23}]):this.placeSortOptions_.setOptions([{name:"\uac70\ub9ac\uc21c",value:0},{name:"\ucd5c\uc800\uac00\uc21c",list:[{name:"\ud718\ubc1c\uc720",value:20},{name:"\uace0\uae09\ud718\ubc1c\uc720",value:21},{name:"\uacbd\uc720",value:22}]}]):this.placeSortOptions_.setOptions([{name:"\uc815\ud655\ub3c4\uc21c",value:0},{name:"\uc778\uae30\ub3c4\uc21c",value:1}]);
this.placeSortOptions_.setOption(a.sort);q=this.placeListView_;g.$("info.search.place.cnt").setText(String.formatNumber(a.placeCount));q.clear();var U=[],E=[];this.bannerController_.hide();var Z=false,F=[],ea=[],fa=jQuery.extend({},d,{cpg:a.page+","+a.places.length});a.places.forEach(function(b,c){var d;if(!Z&&b.intercity){this.bannerController_.show(b.intercity);Z=true}d=q.addItem();ea.push(b.id);o.extend(b.coords);d.setSeq(c);d.setKeyword(this.model_.getKeyword());d.setDssPlaceObj(fa);d.setImage(b.level,
b.imgsrc);if(b.pointExtension){d.setAoiIcon(b.level,b.index);d.setCategory(null);d.setAddress(null)}else{d.setIcon(b.level,b.index);d.setCategory(b.placeCategory);d.setAddress(b.address,b.newAddress);d.setPhone(b.phone[0])}d.setCourseinfo(b.courseinfo);d.setCoords(b.coords);d.setOutLink(b);d.setRoadview(b.roadview,b.coords);d.setStoreview(b.storeview);d.setGas(b.gas);d.setFavorite(b);setTimeout(function(){d.setFavorite(b)},200);d.setDupData(b.dup_data);d.setTVShowInfo(b.tvshow_info);d.setIntercity(b.intercity,
b.intercityId,b.name);d.setRealEstates(b.realEstates);d.onFlagClick.add(function(a){this.onFlagClick.notify({type:a,item:b})},this);b.level==3&&d.setExactData(b.website);d.setCards(b.cardBenefits.filter(function(a){return a.ad}));b.gas||d.setScoreReviewCheckin(b.grade,b.vote,b.review);d.setName(b.name,a.inferredKeyword);b.level>0&&(b.level<3&&b.noAdReview)&&d.noAdReview();b.placeCategory&&b.placeCategory.id&&d.onCategory.add(function(){t.log("search_q_type",this.model_.getKeyword(),{typeid:"category",
tab:this.model_.isPlaceMode()?"place":"all",cateid:b.placeCategory.id});this.mainMapController.tileClear();a.setCategory(b.placeCategory)},this);b.event1&&d.setEvent(b.event1);d.onRoadViewWithCourse.add(function(){},this);d.onRoadview.add(function(){this.clickListView(c,"PLACE")},this);d.onDupDataClick.add(function(a){this.setMarkerActive_(null);this.clickListView(null);ja.findPlace(a,this.showMediumTooltip_,this)},this);if(b.hasCoords()){var e;if(b.pointExtension){e=b.index==0?z.createExactPlace(b.coords):
z.createLinecourse(b.index,b.coords);this.aoiController_.registerSearchResult({model:b,index:c,marker:e});F.push(b)}else e=b.level==3?z.createExactPlace(b.coords):b.level==2?z.createPremiumPlace(b.index,b.coords):b.level==1?z.createSpecialPlace(b.index,b.coords):z.createPlace(b.index,b.coords);A.__daumEVENT2&&(b.name&&b.name.indexOf("\uc5b4\ubca4\uc838\uc2a4")!=-1)&&e.setAvengersEvent();e.onClick.add(this.onPlaceMarkerClick.bind(this,c,d));e.onOver.add(this.onPlaceMarkerOver.bind(this,d,b));e.onOut.add(this.onPlaceMarkerOut.bind(this,
d));U[c]=E.length;E.push(e);if(d){b.pointExtension?d.onOver.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],true);if(this.activeItem_!=b){if(b.pointExtension){b.aoiCoords=this.aoiController_.getMarkerPosition(b.id)||b.coords;this.showMiniTooltip_(b,ua.AOI)}else this.showMiniTooltip_(b,ua.PLACE);this.aoiController_.highlight(b.id)}else this.aoiController_.redrawLines();this.areaSearchController_.blurAll(true)},this):d.onOver.add(function(){this.setMarkerHover_(this.placeMarkers_,
this.placeMarkerIndex_[c],true);this.activeItem_!=b&&this.showMiniTooltip_(b,ua.PLACE);this.aoiController_.highlight(b.id);this.areaSearchController_.blurAll(true)},this);d.onOut.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],false);this.miniTooltipManager_.close()},this)}n.extend(b.coords)}},this);q.setCount(a.places.length,a.isAllMode()?a.placeCount:0);require("server").searchOpenhour({confirmId:ea.join(",")},function(a){q.getItemViews().forEach(function(b){var c=
a.object(b.getId().toString());c&&b.setOpenhour(c)})});n.isEmpty()&&(n=y);for(this.placeMarkerIndex_=U.map(function(a){return E.length-1-a});E[0];)this.placeMarkers_.add(E.pop());!this.noJump_&&(a.places.length&&a.places[0].pointExtension&&(a.highlightedFirst&&a.places[0]&&a.places[0].level==0||a.places.length==1)&&!this.boundscheck.attr("checked"))&&this.aoiController_.callAfterLoad(this.clickPlace_.bind(this,0));g.$("info.noPlace").hide();var oa=false;if(!a.coordinates&&a.addresses.length==0&&a.buses.length==
0&&a.busStops.length==0&&a.places.length==0){j=a.getKeyword();if(a.hasBounds()){g.$("info.noPlaceInBounds.keyword").setText(j);g.$("info.noPlaceInBounds").show();g.$("info.main.options").removeClass("noUnderline");if(a.isAllMode())this.prevKeyword_==j?t.log("search_q_empty_in_map_drag",j):this.prevKeyword_=j}else{g.$("info.noPlace.keyword").setText(a.getKeyword());g.$("info.search.page").hide();!h&&this.setNoKeywordView(a,true)}a.isBusTabMODE()&&!(a.busRegions.length>2||a.busTypes.length>2)&&g.$("info.search").hide()}else{g.$("info.search").show();
this.paginationView_.setTotal(a.isAllMode()?0:(a.pageCount||a.addressCount||a.reviewCount)/15);this.paginationView_.setPage(a.page);if(a.coordinates){g.$("info.main.home").show();g.$("info.searchHeader.message").hide();g.$("info.busTab").hide();this.infoHeaderView_.hide();g.$("info.search").removeClass("themeMode");this.recommendView_.show();this.windowController_.updateHeight();h=this.addressMarker_;j=new Ca;j.name=a.coordinatesText;j.coords=a.coordinates;this.clickAddressMarker_=this.infoWindowManager_.createPoint.bind(this,
j,h,true,!!this.model_.whatsHere_);h.setPosition(a.coordinates);h.setMap(this.map_);if(!this.model_.whatsHere_){this.map_.setCenter(a.coordinates);this.map_.setLevel(3)}d.qkind="latlng";this.clickAddressMarker_()}else if(this.noJump_){if(a.addresses[0]&&!a.isHighway){j=a.addresses[0];this.clickListView(0,"ADDRESS");this.activeItem_=j;h=this.addressMarker_;h.setMap(this.map_);h.setPosition(j.coords);h.setZIndex(5);h.id=j.id;j.lineData&&this.aoiController_.clickAddressItem(j,true);this.clickAddressMarker_=
this.infoWindowManager_.createAddress.bind(this,j,h)}}else if(!a.hasBounds()&&!(a.busRecommend=="busname"&&a.busRecommendTop))if(!a.isBusTabMODE()&&a.busRecommend=="busstop"&&a.busRecommendTop&&a.busStops[0])this.clickBusStops_(0);else if(a.addresses[0]&&!a.isHighway)this.clickAddress_(0);else if(a.places[0]&&a.places[0]&&a.places[0].level==3&&!j){this.clickPlace_(0,a.exposure_level);oa=true}else if(!j&&a.highlightedFirst&&a.places[0]&&a.places[0].level==0||a.places.length==1){this.clickPlace_(0,
a.exposure_level);oa=true}else if(a.isBusTabMODE()){if(a.busRecommend=="busstop"){n=this.busStopMarkers_.getMarkerBounds();this.map_.setBounds(n,70)}}else if(!n.isEmpty()){this.map_.setBounds(n,70);this.map_.getLevel()<4&&this.map_.setLevel(4)}}this.highlightId_&&a.places.some(function(a,b){if(a.id==this.highlightId_){if(a.pointExtension)this.aoiController_.callAfterLoad(this.clickPlace_.bind(this,b));else{this.clickPlace_(b);oa=true}return true}},this);if(!oa&&F.length&&!l){this.aoiController_.enablePolylineEvent();
F.forEach(function(a){this.aoiController_.find(a.id)}.bind(this))}this.noJump_=false;this.highlightId_=this.filterId_=void 0;h=this.getTileParams_();a.tileSearch||(h=null);j=jQuery.extend({},d,{});j.q=a.getKeyword();this.mainMapController.setKeywordTileDssObj(j);this.mainMapController.setKeywordTile(h);this.mainMapController.showKeywordTile();a.hasBounds()||require("log/Tiara").log("/fake/search");h=a.getKeyword();d=jQuery.extend({},d,{});if(!o.isEmpty())d.rbounds=o.getSouthWest().getX()+","+o.getSouthWest().getY()+
","+o.getNorthEast().getX()+","+o.getNorthEast().getY();if(a.trans_map_type){d.trans_map_type=a.trans_map_type;d.sq=a.spellCandidate[0]||a.getKeyword();h=a.originalKeyword||a.getKeyword()}if(this.result_click){d.result_click=this.result_click;this.result_click=null;d.oq=this.result_click_sq;this.result_click_sq=null;d.trans_map_type=this.trans_map_type;h=a.originalKeyword||a.getKeyword()}a.target&&this.setTabActive_(a.target);a.isHighway&&this.swapAddressForPlace_();if(a.hasBounds()){if(j=a.getBounds())d.tbounds=
j.getSouthWest().getX()+","+j.getSouthWest().getY()+","+j.getNorthEast().getX()+","+j.getNorthEast().getY();this.map_.getCenter();d.tlvl=this.map_.getLevel()}if(b&&!t._type){d.pg=a.page;d.cids=ea.join(",");d.cnt=[a.placeCount,a.addressCount,a.busesCount,a.busStopCount,a.placeAdCount||0].join();t.logSearch(h,d)}else{d.pg=a.page;if(ea.length)d.cids=ea.join(",");t._type?t.logSearchKeyword(h,d):t.logSearch(h,d)}t._type="";this.isPageLoad=false}};L.prototype.swapAddressForPlace_=function(){jQuery("#info\\.search\\.place").insertBefore(jQuery("#info\\.search\\.address"));
this.isAddressPlaceSwap_=true};L.prototype.resetSwap_=function(){jQuery("#info\\.search\\.address").insertBefore(jQuery("#info\\.search\\.place"));this.isAddressPlaceSwap_=false};L.prototype.setMarkerActive_=function(a,b){this.deselectMarkers_();if(a){a.at(b).setMap(this.map_);a.setMarkerActive(b)}};L.prototype.createLandmark_=function(a){a&&a.forEach(function(a){this.landmarkMarkers_.add(z.createLandmark(a.coords));var c=new Rb;c.setData("BUSLANDMARK",a.coords,'<span class="name">'+a.name+"</span>");
this.landmarkMarkers_.add(c)},this)};L.prototype.setMarkerHover_=function(a,b,c){a.setHover(b,c)};L.prototype.showMiniTooltip_=function(a,b){switch(b){case ua.PLACE:this.miniTooltipManager_.createPlace(a);break;case ua.BUSSTOP:this.miniTooltipManager_.createBusStop(a);break;case ua.AOI:this.miniTooltipManager_.createAoi(a)}this.miniTooltipManager_.open()};L.prototype.getTileParams_=function(){var a=this.model_.getCidx(),b={query:this.model_.getInferredKeyword()||this.model_.getKeyword()};if(a!=null)b.cidx=
a;(a=this.model_.getCategory())&&(b={themeId:"c"+a,dimg:"b"});return b};L.prototype.reset=function(){this.queryPanel_.val("");t.logSearchIn("");this.getActive()&&g.$("info.main").show();g.$("info.main.home").show();g.$("info.noPlace").hide();g.$("info.searchHeader.message").hide();g.$("info.search.boundsTitle").hide();g.$("info.search.correction").hide();g.$("info.busTab").hide();g.$("info.addNewPlace").hide();jQuery("#titleSystemTooltip").hide();this.model_.clear();this.infoHeaderView_.hide();g.$("info.search").removeClass("themeMode");
this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.clear();this.hideBusLine_();this.busStopMarkers_.clear();this.landmarkMarkers_.clear();this.getActive()?this.recommendView_.show():this.recommendView_.hide();Application.favoriteController.reset();this.bounds_=false;this.activeItem_=null;this.boundsButton_.setActive(false);this.boundscheck.attr("checked",false);this.reviewTabMode_=false;this.mainMapController.clearKeywordTile();this.windowController_.updateHeight();
Application.infoWindowManager.close();this.bannerController_.hide();this.aoiController_.clear();this.spellcheckView_.hide();this.relatedKeywordController_.hide();this.relatedAddressController_.init();this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.themeMapController_.setActive(false);this.postCodeMessage.hide();this.itemIdMarker&&this.itemIdMarker.setMap(null);this.itemIdMarker=null};L.prototype.loadPlaceCategories_=function(){var a=this.model_,b=this.mainMapController,
c=g.$("info.search.place.breadcrumb");if(a.categoryPath[0]){c.setVisible(true);c.removeAllChildren();a.categoryPath.forEach(function(d,e,f){e>0&&c.addText(" > ");var k=new g("a");e+1==f.length&&k.addClass("current");k.setText(d.name);k.onClick.add(function(){k.hasClass("current")||a.setSort(0);t.log("search_q_type",a.getKeyword(),{typeid:"category",tab:a.isPlaceMode()?"place":"all",cateid:d.id});b.tileClear();a.setCategory(d)});c.addChild(k)});if(a.categoryChildren[0]){c.addText(" > ");var d=this.categoryChildrenTrigger_=
new g("a"),e=this.moreCategory_=new g("span","morecate");d.addClass("all");d.addChild(new g("span","allText","\uc804\uccb4"));d.addChild(e);var f=this.createCategoryChildren_(a.categoryPath);d.onClick.add(function(){e.setClass("expand",f.toggle().is(":visible"))},this);c.addChild(d)}}else c.setVisible(false)};L.prototype.createCategoryChildren_=function(a){var b=this.model_,c=this.mainMapController,d=this.categoryChildren_=jQuery('<ul class="CategoryChildren HIDDEN"></ul>');if(b.categoryChildren.length>
10){d.css("overflow","hidden");d.css("overflow-y","scroll")}b.categoryChildren.forEach(function(e){jQuery('<li href="#">'+e.name+"</li>").click(function(){c.tileClear();if(a)e.depth=a.length+1;t.log("search_q_type",b.getKeyword(),{typeid:"category",tab:b.isPlaceMode()?"place":"all",cateid:e.id});b.setCategory(e);d.remove()}).appendTo(d)});this.categoryChildrenTrigger_.toPane().append(d);return d};L.prototype.setNoKeywordView=function(a,b){var c=a.isReviewMode()||a.isAddressMode()||a.isBusTabMODE(),
d=a.getKeyword(),e="http://search.daum.net/search?w=tot&DA=54X&q="+encodeURIComponent(d);g.$("info.noPlace.keyword").setText(d);g.$("info.noPlace.daum.link").setExternalLink(e);jQuery(g.$("info.noPlace").getElement()).insertAfter(jQuery(g.$("info.search").getElement()));g.$("info.noPlace").show();g.$("info.noPlace.keyword.option").setText(a.isAddressMode()?"\uc8fc\uc18c":a.isReviewMode()?"\ub9ac\ubdf0":a.isBusTabMODE()?"\ubc84\uc2a4":a.isPlaceMode()?"\uc7a5\uc18c":b?"":"\uc7a5\uc18c");g.$("info.noPlace.register").setVisible(!c)};
L.prototype.clickAddrSuggest_=function(a){this.setKeyword(a,this.model_.getMode())};L.prototype.setHighlightId=function(a){this.highlightId_=a};L.prototype.setKeywordWithoutJump=function(a){this.noJump_=true;this.setKeyword(a)};L.prototype.setFilterId=function(a){this.filterId_=a;this.model_.setFilterId(a)};L.prototype.setLocalCode=function(a){this.model_.setLocalCode(a)};L.prototype.setDefaultSort=function(a){this.model_.setDefaultSort(a)};L.prototype.setDefaultLiterally=function(a,b){this.model_.setDefaultLiterally(a,
b)};L.prototype.getLiterally=function(){return this.model_.getLiterally()};L.prototype.setDefaultPage=function(a){this.model_.setDefaultPage(a)};L.prototype.clickFavoriteSearch=function(a){this.activeItem_=a;this.deselectMarkers_();this.clickListView(null)};define("controller/KeywordSearchController","options map/Map manager/ViewLayout controller/IssueMapController controller/WindowController map/InfoWindowManager controller/MainMapController map/MiniTooltipManager controller/RoadviewController controller/BusLineController factory/ButtonFactory controller/KeywordBannerController controller/LocalInfoController url manager/AoiManager controller/RelatedKeywordController controller/RelatedAddressController controller/ThemeMapController controller/ThemeMapSearchController controller/AreaSearchController controller/WhatsHereController controller/FiyFrameController controller/MapToolController manager/MapSuggest controller/HistoryController".split(" "),
R(L));nb.prototype.hasClass_=function(a,b){if(document.documentElement.classList)return a.classList.contains(b);if(a&&a.className){var c=a.className.match(/\S+/g);return c?c.indexOf(b)>=0:false}return false};nb.prototype.mousedownHandler=function(a){a.preventDefault();var b=a.target;if(this.hasClass_(b,"dragArea")||this.hasClass_(b.parentNode,"dragArea")){for(;b&&b.getAttribute&&b.getAttribute("sortId")==null;)b=b.parentNode;if(b&&b.getAttribute("sortId")!=null){this.targetSortId_=b.getAttribute("sortId");
this.target_=this.listArr_[this.targetSortId_];this.startY_=a.clientY;this.target_.getElement().style.position="relative";jQuery(document).mousemove(this.mousemoveHandler_).one("mouseup",this.mouseupHandler.bind(this))}}};nb.prototype.mousemoveHandler=function(a){a.preventDefault();this.listArr_[this.targetSortId_].addClass("WaypointBoxView-Drag");var a=a.clientY,b=this.container_.getHeight(),c=this.container_.getPosition().y,a=Math.max(c,Math.min(c+b,a)),a=a-this.startY_;this.target_.setPosition(void 0,
a);a=this.numberFromMove_(a);if(this.beforeMoveNum!=a){this.beforeMoveNum=a;this.rePositionPanel_(parseInt(this.targetSortId_,10),a)}};nb.prototype.mouseupHandler=function(a){jQuery(document).off("mousemove",this.mousemoveHandler_);this.listArr_[this.targetSortId_].removeClass("WaypointBoxView-Drag");a=this.numberFromMove_(a.clientY-this.startY_);a=Math.max(0,Math.min(this.listArr_.length-1,a));parseInt(this.targetSortId_,10)!=a?this.resortElementListArr_(parseInt(this.targetSortId_,10),a):this.listArr_[this.targetSortId_].setPosition(0,
0)};nb.prototype.numberFromMove_=function(a){a=Math.floor((a+this.CHILD_HEIGHT/2)/this.CHILD_HEIGHT);return parseInt(this.targetSortId_,10)+a};nb.prototype.rePositionPanel_=function(a,b){this.listArr_.forEach(function(b,c){if(c!=a){b.getElement().style.position="relative";b.setPosition(0,0)}});b=Math.max(0,Math.min(this.listArr_.length-1,b));if(a>b)for(var c=b;c<a;c++){this.listArr_[c].getElement().style.position="relative";this.listArr_[c].setPosition(0,this.CHILD_HEIGHT)}else for(c=b;c>a;c--){this.listArr_[c].getElement().style.position=
"relative";this.listArr_[c].setPosition(0,-this.CHILD_HEIGHT)}};nb.prototype.add=function(a,b){if(b==void 0)b=this.listArr_.length;this.listArr_.splice(b,0,a);this.resortElement_();return b};nb.prototype.removeToNumber=function(a){this.container_.removeChild(this.listArr_[a]);this.listArr_.splice(a,1);this.resortElement_()};nb.prototype.resortElementListArr_=function(a,b){this.listArr_.splice(b,0,this.listArr_.splice(a,1)[0]);this.resortElement_();this.onChange.notify({from:a,to:b})};nb.prototype.resortElement_=
function(){this.listArr_.forEach(function(a,c){a.getElement().setAttribute("sortId",c);a.getElement().style.zindex="100";a.setPosition(0,0);a.getElement().style.position="static";this.container_.addChild(a)},this);var a=this.listArr_.length-1;this.listArr_[a]&&this.listArr_[a].setPosition(0,0)};"use strict";define("controller/LocalInfoController",["map/Map","model/Weather","controller/LocalPlatformAdController"],R(function(a,b){function c(){var c=a.getCenter();rb.find(c,function(c){try{if(c){if(c.hcode)y=
c.hcode.code;var e=o=="B"?c.bcode:c.hcode,f=e.name1,h=e.name2,j=e.name3,r=!f&&!h&&!j||a.getLevel()>12?true:false;if(e.code&&!(e.code==g&&r==k)){var u=g=e.code;k=r;n=u;s.toggleClass("shortaddr",r);if(r){w=[];d(e.name0,"","")}else{w=[e.code1,e.code2,e.code3];d(f,h,j)}if(c.weather){U.show();var p=c.weather.temp,m=c.weather.desc;E.attr("src","http://t1.daumcdn.net/localimg/localimages/07/2016/pc/weather/ico_weather"+c.weather.icon+".png");E.attr("title",m);E.attr("alt",m);E.show();U.find(".temper").html(b.makeImgTemperTxt(p))}else U.hide()}}}catch(K){console.log(K)}})}
function d(a,b,c){[a,b,c].forEach(function(a,b){var c=D[b];c.text(a);c.parent().toggle(!!a)});j.notify(a+" "+b+" "+c)}function e(b){var d=P[p].empty(),e=0,j=w[p];b||(b="0");require("server").regionCode({code:b,base_code:o},function(b){f();b.find("value").forEach(function(b){var f=jQuery('<li><span class="check"></span><a href=#>'+b.text("name")+"</a></li>").click(function(){o=b.text("type");d.hide();h();w.length==0&&a.getLevel()>12&&a.setLevel(3);a.setCenter(new daum.maps.Coords(b.number("x"),b.number("y")));
require("log/Tiara").log("/fake/navi_region");c()}).appendTo(d);if(j==b.text("code")){f.addClass("list_active");e=f.position().top}f.hover(function(){jQuery(this).addClass("list_hover")},function(){jQuery(this).removeClass("list_hover")})});d.scrollTop(e-80)});d.show()}function f(){K[p].show();var a=D[p];a.addClass("box-ACTIVE");K[p].setPosition(a.offset().left-12)}function h(){for(var a=0,b=K.length;a<b;++a){D[a].removeClass("box-ACTIVE");K[a].hide()}}var j=this.onAddress=new m,g,k,n,y,o="H",p,s=
jQuery("#localInfo\\.map"),v=jQuery("#localInfo\\.map\\.province"),r=jQuery("#localInfo\\.map\\.county"),u=jQuery("#localInfo\\.map\\.town"),w=[],D=[v,r,u],P=[jQuery("#localInfoList\\.province\\.list"),jQuery("#localInfoList\\.county\\.list"),jQuery("#localInfoList\\.town\\.list")],K=[ca.$("localInfoList.province"),ca.$("localInfoList.county"),ca.$("localInfoList.town")];K.forEach(function(a,b){a.onHide.add(function(){D[b].removeClass("box-ACTIVE")});a.noClosePane(D[b])});[v,r,u].forEach(function(a,
b){a.click(function(){p=b;var a=null;switch(p){case 0:a=null;q.click("control","location_1");break;case 1:a=w[0];q.click("control","location_2");break;case 2:a=w[1];q.click("control","location_3");break;default:console.assert(false)}if(D[p].hasClass("box-ACTIVE"))h();else{h();e(a)}})});var U=jQuery("#localInfo\\.map\\.weather"),E=jQuery("#localInfo\\.map\\.weatherIcon");daum.maps.event.addListener(a,"idle",gb(200,c).trigger);c();this.getCode=function(){return n};this.getHCodeForLog=function(){return y||
n};this.getRegionCodeType=function(){return o};this.setRegionCodeType=function(a){o=a}}));define("controller/LocalPlatformAdController",["map/Map","model/LocalPlatformAd","map/InfoWindowManager","controller/RoadviewController"],R(function(a,b,c,d){function e(b){var c=z.localPlatformMarker(b==0?"GLOBAL":"LOCAL");daum.maps.event.addListener(c,"mouseover",function(){c.setZIndex(5);j[b].thumb.billboard.setMap(a)});daum.maps.event.addListener(c,"mouseout",function(){c.setZIndex(b==0?3:2);j[b].thumb.billboard.setMap(null)});
daum.maps.event.addListener(c,"click",function(){t.logAd("ad_marker_click",j[b].data[3]);setTimeout(function(){Ua(j[b].data[2]?j[b].data[2]:"http://place.map.daum.net/"+j[b].data[3])},100)});return c}function f(){n.hide();j.forEach(function(a){a.thumb.billboard.setMap(null);a.marker.setMap(null)})}function h(){var a=j[0],b=j[1];n.$("wrapper").attr("class");if(!a.data&&!b.data)n.animate({opacity:0},400,function(){f()});else{var c=a.data&&b.data&&g&&k?"localAdBoth":"other",d=n.hasClass("HIDDEN")?"HIDDEN":
"";n.removeClass().addClass("LocalAdBanner").addClass(d).addClass(c);c=a.data&&a.data[3];d=b.data&&b.data[3];(!n.is(":visible")||a.preConfirmId!=c||b.preConfirmId!=d)&&n.show().css("opacity",0).animate({opacity:1},400);n.find(".banner").each(function(a){var b=j[a],c=!(!b.data||!(a==0?g:k));jQuery(this).toggle(c);if(c){c=b.data[10]?b.data[10]:null;jQuery(this).find("img").attr("src",c?c:"");c=b.data[2]?b.data[2]:"http://place.map.daum.net/"+b.data[3];jQuery(this).find(".bannerHref").attr("href",c);
var d="";b.hcode&&(d=a==0?b.hcode.name2:b.hcode.name3);jQuery(this).find(".tagText").text(d);jQuery(this).find(".btnHref").attr("href",c);a=b.data[8]&&b.data[8].length>5?b.data[8]:"#";jQuery(this).find(".where").attr("href",a)}});a.preConfirmId=a.data?a.data[3]:null;b.preConfirmId=b.data?b.data[3]:null}}var j=[logical={marker:null,banner:null,data:null,code:null,hcode:null,visible:false,thumb:null},global={marker:null,banner:null,data:null,code:null,hcode:null,visible:false,thumb:null}];daum.maps.event.addListener(a,
"zoom_changed",function(){f()});var g=true,k=true,c=jQuery("#view\\.map"),n=G("LocalAdBannerView"),y=true;n.$("globalClose").click(function(){g=false;h()});n.$("logicalClose").click(function(){k=false;h()});c.append(n);n.find(".where").click(function(){var b=n.find(".where").index(this);if(jQuery(this).attr("href")=="#"){b=new daum.maps.Coords(j[b].data[0],j[b].data[1]);a.setCenter(b)}});n.find(".banner").hover(function(){var b=n.find(".banner").index(this);j[b].marker&&j[b].marker.setZIndex(5);j[b].thumb.billboard.setMap(a)},
function(){var a=n.find(".banner").index(this);j[a].marker.setZIndex(a==0?3:2);j[a].thumb.billboard.setMap(null)});n.find(".bannerHref").click(function(){var a=n.find(".bannerHref").index(this);t.logAd("ad_banner_click",j[a].data[3])});d.onShow.add(function(){k=g=false;n.hide()});d.onCloseRoadview.add(function(){k=g=true;n.show()});j.forEach(function(a,b){a.marker=e(b);var c=b==0,d=G("LocalAdThumbnailView"),c=new daum.maps.Billboard({zIndex:c?4:3,position:new daum.maps.Coords(0,0),content:d.get(0),
clickable:true});a.thumb={billboard:c,pane:d}});this.show=function(c){if(y){var c=c||{},d=c.code||Application.localInfoController.getCode();if(d)if(a.getLevel()>9||!jQuery("#search\\.tab1").hasClass("keyword-ACTIVE"))f();else{j.forEach(function(e,f){var h=e.data&&e.data[3],j=f==0?d.substring(0,5):d.substring(0,7);if(b.find(j)){e.data=b.find(j);var g;var k=e.data;isVisible=jQuery("#search\\.tab1").hasClass("keyword-ACTIVE");if(k){g=k&&k[7].toUpperCase()=="O"?true:false;var l=k[6],k=k[5].split("-"),
n=l.split("-"),l=new Date(k[0],+k[1]-1,k[2]),k=(new Date(n[0],+n[1]-1,+n[2]+1)).getTime(),n=(new Date).getTime();g=!g||!(l<=n&&n<=k)?false:true}else g=false;e.visible=g;e.code=j;e.hcode=c}else{e.visible=false;e.code=null}if(e.visible){j=new daum.maps.Coords(e.data[0],e.data[1]);e.marker.setPosition(j);e.marker.setMap(a);if(e.data[3]==null||e.data[3]!=h){h=e.thumb;j=e.data;h.billboard.setPosition(new daum.maps.Coords(j[0],j[1]));g=j[11]?j[11]:null;h.pane.$("thumbnail").attr("src",g?g:"");h.pane.$("name").text(String.cut(j[4],
8))}}else{e.data=null;e.marker.setMap(null);e.thumb.billboard.setMap(null)}});h(d)}}else f()};this.hide=function(a){f(a)};this.clear=function(){j.forEach(function(a){a.thumb&&a.thumb.billboard.setMap(null)})};this.setActive=function(a){y=a;!a&&f()}}));O.prototype.getHistory=function(){return this.skyviewHistoryIndex_?this.YEAR[this.skyviewHistoryIndex_]:null};O.prototype.getMap=function(){return this.map_};O.prototype.dblclickMap_=function(a){var b=this.map_.getLevel(),c=this.map_.getMapTypeId();
(b==0&&!this.map_.isRoadmap()||b==1&&c==daum.maps.MapTypeId.ROADMAP)&&!Application.roadviewController.getActive()&&Application.roadviewController.showByDblClick(a.coords)};O.prototype.clickMap_=function(a){this.infoWindowManager_.close();var b=a.coords,c=a.point;this.clickHandlers_.some(function(a){return a.handleClick(b,c)})};O.prototype.isRoadviewActive=function(){return this.mapTypeControl_.isRoadviewActive()};O.prototype.isTrafficActive=function(){return this.mapTypeControl_.isTrafficActive()};
O.prototype.isAccidentActive=function(){return this.mapTypeControl_.isAccidentActive()};O.prototype.isCctvActive=function(){return this.mapTypeControl_.isCctvActive()};O.prototype.isStoreviewActive=function(){};O.prototype.setStoreviewActive=function(){};O.prototype.getUrlObject=function(){var a=this.map_.getCenter(),b=this.map_.getLevel();return{x:a.getX()|0,y:a.getY()|0,level:b,scale:0.3125*(1<<b),map_type:this.map_.isRoadmap()?"TYPE_MAP":"TYPE_SKYVIEW"}};O.prototype.rightclickMap_=function(a){this.rightclickHandlers_.some(function(b){return b.handleRightclick(a)})};
O.prototype.setRoadviewLineActive=function(a){this.mapTypeControl_.overrideRoadview(a)};O.prototype.setTrafficLineActive=function(a){this.mapControlView_.setTrafficActive(a)};O.prototype.deactivateTraffic=function(){this.mapControlView_.deactivateTraffic()};O.prototype.setTrafficActiveForState=function(a){this.mapControlView_.setTrafficActiveForState(a)};O.prototype.setTrafficCctvId=function(a){this.mapTypeControl_.setCctvId(a)};O.prototype.showCctv=function(){this.mapControlView_.showCctv()};O.prototype.showTraffic=
function(){this.mapControlView_.showTraffic()};O.prototype.toolHandler_=function(a){this.mapControlView_.deactivateAll();switch(a){case qa.DISTANCE:this.mapControlView_.setToolActive(a,!this.tool.isDistance());this.tool.distance_();break;case qa.AREA:this.mapControlView_.setToolActive(a,!this.tool.isArea());this.tool.area_();break;case qa.RADIUS:this.mapControlView_.setToolActive(a,!this.tool.isRadius());this.tool.radius_();break;case qa.NEWPLACE:this.mapControlView_.setToolActive(a,!this.tool.isNewPlace());
this.tool.newPlace_();break;case qa.NEWPLACE_INFO_CLOSE:this.tool.newPlaceInfoOff();break;case qa.CLEAR:this.tool.overlaysClear()}};daum.maps.MapTypeId.SKYVIEW__=daum.maps.MapTypeId.SKYVIEW;daum.maps.MapTypeId.HYBRID__=daum.maps.MapTypeId.HYBRID;O.COPYRIGHT=function(a){return[new daum.maps.TilesetCopyright("Imagery \u24d2 20"+a+" TerraMetrics","TerraMetrics",9),new daum.maps.TilesetCopyright('Imagery <span style="_height:18px;_display:inline-block;_filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\'http://i1.daumcdn.net/dmaps/apis/samah.png\',sizingMethod=image);vertical-align:middle"><img width="54" height="18" src="http://i1.daumcdn.net/dmaps/apis/samah.png" alt="" style="vertical-align:middle;_visibility:hidden"/></span> \u24d2 20'+
a+" Samah","Samah")]};"08 09 10 11 12 13 14 15".split(" ").forEach(function(a){O["SKYVIEW"+a]=new daum.maps.Tileset(256,256,function(b,c,d){return"http://map"+Math.abs(b%4)+".daumcdn.net/map_skyview_past/20"+a+"/L"+d+"/"+c+"/"+b+".jpg"},O.COPYRIGHT(a),true,0,14);daum.maps.Tileset.add("SKYVIEW"+a,O["SKYVIEW"+a]);daum.maps.Tileset.add("HYBRID"+a,O["SKYVIEW"+a])});O.prototype.handleHistory_=function(a){this.skyviewHistoryIndex_=a;var b=this.map_.getMapTypeId()==daum.maps.MapTypeId.HYBRID,c=[void 0,"15",
"14","13","12","11","10","09","08"][a]||"__";if(!this.args.hdi&&!this.args.hdh){daum.maps.MapTypeId.SKYVIEW=daum.maps.MapTypeId["SKYVIEW"+c];daum.maps.MapTypeId.HYBRID=daum.maps.MapTypeId["HYBRID"+c]}this.map_.setMapTypeId(daum.maps.MapTypeId[b?"HYBRID":"SKYVIEW"]);this.mapTypeControl_.logMapTypeId(this.map_.getMapTypeId());this.historyLegendView_&&this.closeHistoryLegend_();b=this.YEAR=[void 0,2015,2014,2013,2012,2011,2010,2009,2008];c=[void 0,["\uc11c\uc6b8","\uacbd\uae30","\uc778\ucc9c","\uc138\uc885",
"\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4"],["\uc11c\uc6b8","\uc778\ucc9c","\uc81c\uc8fc\ub3c4","\uacbd\uae30\ub3c4 \uc77c\ubd80","\ucda9\uccad\ub0a8\ub3c4 \uc77c\ubd80","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80"],["\uac15\uc6d0\ub3c4","\uacbd\uc0c1\ubd81\ub3c4","\ucda9\uccad\ubd81\ub3c4","\ucda9\uccad\ub0a8\ub3c4",
"\uc804\ub77c\ubd81\ub3c4","\uc804\ub77c\ub0a8\ub3c4"],["\uc11c\uc6b8\ud2b9\ubcc4\uc2dc","\uc81c\uc8fc\ub3c4","6\ub300 \uad11\uc5ed\uc2dc","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uacbd\uae30\ub0a8\ubd80","\uc804\ub77c\ubd81\ub3c4 \uc77c\ubd80","\ucda9\uccad\ubd81\ub3c4","\uacbd\uc0c1\ubd81\ub3c4 \ub0a8\ubd80","\ucda9\uccad\ub0a8\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4 \uc77c\ubd80"],["\uc11c\uc6b8/\uacbd\uae30","6\ub300 \uad11\uc5ed\uc2dc","\uac15\uc6d0\ub3c4","\uacbd\uc0c1\ubd81\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4",
"\ucda9\uccad\ubd81\ub3c4 \ub0a8\ubd80","\ucda9\uccad\ub0a8\ub3c4 \uc11c\ubd80","\uc804\ub77c\ubd81\ub3c4","\uc804\ub77c\ub0a8\ub3c4","\uc6b8\ub989\ub3c4"],["\uc11c\uc6b8/\uacbd\uae30","6\ub300\uad11\uc5ed\uc2dc","\uac15\uc6d0 \ub3d9\ubd80","\uac15\uc6d0 \uc11c\ubd80","\ucda9\uccad\ubd81\ub3c4 \ubd81\ubd80","\ucda9\uccad\ub0a8\ub3c4","\uc804\ub77c\ubd81\ub3c4 \uc11c\ubd80","\uc804\ub77c\ub0a8\ub3c4","\uacbd\uc0c1\ubd81\ub3c4 \ub0a8\ubd80","\uacbd\uc0c1\ub0a8\ub3c4","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"],
["\uc11c\uc6b8","6\ub300\uad11\uc5ed\uc2dc","\uacbd\uae30\ub3c4","\uac15\uc6d0\ub3c4","\ucda9\uccad\ub0a8/\ubd81\ub3c4","\uc804\ub77c\ub0a8/\ubd81\ub3c4","\uacbd\uc0c1\ub0a8/\ubd81\ub3c4","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"]];if(b[a]&&c[a]){a=this.historyLegendView_=new Jc(b[a],c[a]);this.frameDecorator_.onResize.add(a.handleMapFrame.bind(a));a.onClose.add(this.closeHistoryLegend_,this);a.onSwitch.add(this.resetSkyviewHistory_,this);this.map_.addControl(a.getPanel().getElement(),
daum.maps.ControlPosition.BOTTOMLEFT);this.map_.relayout()}};O.prototype.closeHistoryLegend_=function(){if(this.historyLegendView_){this.map_.removeControl(this.historyLegendView_.getPanel().getElement());this.historyLegendView_=null}};O.prototype.resetSkyviewHistory_=function(){this.mapTypeControl_.setLatestSkyview()};O.prototype.tileClear=function(){this.keywordTileParams=null;this.clearThemePoiControlView()};O.prototype.clearThemePoiControlView=function(){this.themePoiControlView.clearAll()};O.prototype.setKeywordTile=
function(a){this.keywordTileParams=a};O.prototype.setKeywordTileDssObj=function(a){this.keywordTileDssObj=a};O.prototype.showKeywordTile=function(){this.themePoiControlView.getActive()||this.setActiveKeywordTile()};O.prototype.hideKeywordTile=function(){if(!this.themePoiControlView.getActive()){this.poiTileController.clearTile();this.setTileExtenstion(false)}};O.prototype.clearKeywordTile=function(){this.keywordTileDssObj=this.keywordTileParams=null;if(!this.themePoiControlView.getActive()){this.poiTileController.clearTile();
this.setTileExtenstion(false)}};O.prototype.setActiveKeywordTile=function(){if(this.keywordTileParams&&jQuery("#info\\.main").is(":visible")){var a=this.keywordTileParams;if(a.themeId){this.poiTileController.setThemeTile(a);this.setTileExtenstion(a.dimg=="b"?"keyword":"theme")}else{this.poiTileController.setKeywordTileDssObj(this.keywordTileDssObj);this.poiTileController.setKeywordTile(a);this.setTileExtenstion("keyword")}}else{this.poiTileController.clearTile();this.setTileExtenstion(false)}};O.prototype.setTileExtenstion=
function(a){if(a){this.mapControlView_.setExtensionVisible(true);this.mapControlView_.setKeywordTile(a)}else this.mapControlView_.setExtensionVisible(false)};O.prototype.getThemePoiControlView=function(){return this.themePoiControlView};O.prototype.setTerrain=function(a){this.mapTypeControl_.setTerrain(a)};O.prototype.isTerrain=function(){return this.mapTypeControl_.isTerrainActive()};O.prototype.setBike=function(a){this.mapTypeControl_.setBike(a)};O.prototype.isBike=function(){return this.mapTypeControl_.isBikeActive()};
O.prototype.isHybrid=function(){return this.mapTypeControl_.isHybridActive()};O.prototype.setWeather=function(a,b){this.mapTypeControl_.setWeather(a,b)};O.prototype.getWeather=function(){return this.mapTypeControl_.getWeather()};O.prototype.isUsedistrict=function(){return this.mapTypeControl_.isUsedistrictActive()};O.prototype.setUsedistrict=function(a,b){this.mapTypeControl_.setUsedistrictParam(a,b)};O.prototype.getUsedistrict=function(){return this.mapTypeControl_.getUsedistrictParam()};O.prototype.setIndoor=
function(a){this.mapTypeControl_.setIndoor(a)};O.prototype.isIndoor=function(){return this.mapTypeControl_.isIndoorActive()};define("controller/MainMapController","map/Map manager/ViewLayout controller/RoadviewLineController controller/MapToolController controller/MapCursorController controller/PoiController controller/MapMenuController map/MapTypeControl view/MapControlView view/FrameDecorator controller/IndoorMapController view/ThemePoiControlView controller/ThemePoiMarkerController controller/PoiTileController controller/LocalPlatformAdController manager/AoiManager map/InfoWindowManager map/MiniTooltipManager params".split(" "),
R(O));define("controller/MapCursorController",["map/Map","controller/MapToolController","controller/PoiController","controller/PoiTileController","controller/IndoorMapController"],R(function(a,b,c,d,e){var f=false;e.onOver.add(function(b){if(f!=b){a.setCursor(b?"pointer":null);f=b}},this);var h=false;c.onOver.add(function(b){if(h!=b){a.setCursor(b?"pointer":null);h=b}},this);var j=false;d.onOver.add(function(b){if(j!=b){a.setCursor(b?"pointer":null);j=b}},this);var g="ActiveXObject"in A?"url(http://i1.daumcdn.net/dmaps/apis/cursor/closedhand.cur.ico), move":
"url(http://i1.daumcdn.net/dmaps/apis/cursor/closedhand.cur.ico) 7 5, url(http://i1.daumcdn.net/dmaps/apis/cursor/closedhand.cur.ico), move";daum.maps.event.addListener(a,"dragstart",function(){if(f||h||j){a.setCursor(g);j&&d.showMiniTooltip(false)}});daum.maps.event.addListener(a,"dragend",function(){if(f||h||j){a.setCursor("pointer");j&&d.showMiniTooltip(true)}});daum.maps.event.addListener(a,"mousemove",function(a){if(!b.isArea()&&!(b.isDistance()||b.isRadius()|b.isNewPlace())){var f=a.coords,
h=a.point;[e,d,c].some(function(a){return a.compareRange(f,h)},this)}})}));$a.prototype.handleRightclick=function(a){this.coords_=a.coords;var a=a.point,b=g.$("view").getSize();this.pointMarker_.setPosition(this.coords_);this.pointMarker_.setMap(this.map_);this.panel_.toPane().css("cursor","default");this.panel_.show();this.panelParent_.setPosition(this.coords_);this.panelParent_.setMap(this.map_);var c=this.panel_.getSize();this.panel_.setClass("upContext",a.y+c.height>b.height);this.panel_.setClass("leftContext",
a.x+c.width>b.width);this.menu_via_.unbind("click");if(Application.transitRouteSearchController.getActive()){this.menu_via_.unbind("click");this.menu_via_.addClass("disabled")}else{this.menu_via_.click(this.viaDirection_.bind(this));this.menu_via_.removeClass("disabled")}return true};$a.prototype.hide=function(){this.panelParent_.setMap(null);this.pointMarker_.setMap(null)};$a.prototype.favorite_=function(){this.hide();Ca.findWhatsHere(this.coords_,this.searchByAddressFavorite_,this);q.click("rightmenu",
"favorite")};$a.prototype.searchByAddressFavorite_=function(a){a={type:"point",display1:a&&a.name||"",x:Math.round(this.coords_.getX()),y:Math.round(this.coords_.getY()),level:this.map_.getLevel()};a.key=a.x+"|"+a.y;Application.favoriteController.add(a)};$a.prototype.startDirection_=function(){this.windowController_.setCollapse(false);this.hide();Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setOrigin(this.coords_);q.click("rightmenu",
"select_start")};$a.prototype.viaDirection_=function(){q.click("rightmenu","select_via");this.windowController_.setCollapse(false);this.hide();Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setVia(this.coords_)};$a.prototype.endDirection_=function(){this.hide();this.windowController_.setCollapse(false);Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setDestination(this.coords_);
q.click("rightmenu","select_end")};$a.prototype.whatsHere_=function(){this.hide();this.whatsHereController_.fetch(this.coords_.getX(),this.coords_.getY(),this.loadWhatsHere_.bind(this));q.click("rightmenu","what_here")};$a.prototype.loadWhatsHere_=function(a){var b=Application.keywordSearchController;this.windowController_.setCollapse(false);b.setActive(true);if(a)b.setWhatsHereKeyword(a);else{b.reset();b.recommendView_.hide();this.windowController_.updateHeight();g.$("info.noSuchPlace").show()}};
$a.prototype.doZoom_=function(a,b,c){this.hide();var d=this.map_,e=d.getCenter(),f=this.coords_,b=new daum.maps.Coords(b*e.getX()+c*f.getX(),b*e.getY()+c*f.getY());d.setLevel(d.getLevel()+a);d.setCenter(b)};$a.prototype.zoomIn_=function(){if(this.map_.getLevel()<=1){this.hide();alert("\ub354 \uc774\uc0c1 \ud655\ub300\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}else this.doZoom_(-1,0.5,0.5)};$a.prototype.zoomOut_=function(){if(this.map_.getLevel()>=qa.MAX_LEVEL){this.hide();alert("\ub354 \uc774\uc0c1 \ucd95\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}else this.doZoom_(1,
2,-1)};$a.prototype.strange_=function(){this.hide();Application.fiyFrameController.openCustomerRequest({type:"map",channel:"CLICK_RIGHT",coords:this.coords_});q.click("rightmenu","ndm_event")};$a.prototype.newPlace_=function(){this.hide();Application.fiyFrameController.openCustomerRequest({type:"newPlace",channel:"CLICK_RIGHT",coords:this.coords_});q.click("rightmenu","newplace")};define("controller/MapMenuController",["map/Map","controller/WindowController","controller/WhatsHereController"],R($a));
ba.prototype.deactive_=function(){};ba.prototype.copylistToggle=function(){if(this.copylist_.getVisible()){a=g.$("tool.map.copy");a.removeClass("list-ACTIVE");this.copylist_.hide()}else{var a=g.$("tool.map.copy");this.copylist_.show();a.addClass("list-ACTIVE");Application.subwaySearchController.getActive();this.copylist_.setPosition(null,a.getPosition().y+20)}};ba.prototype.onHidelist_=function(){g.$("tool.map.copy").removeClass("list-ACTIVE")};ba.prototype.createUrl=function(){var a={};Application.roadviewController.getActive()&&
Application.roadviewController.setUrl(a);if(this.map_.isRoadmap())a.map_type="TYPE_MAP";else{a.map_type="TYPE_SKYVIEW";a.map_hybrid=Application.mainMapController.isHybrid()?"true":"false"}if(Application.mainMapController.isTerrain())a.map_terrain="on";if(Application.mainMapController.isBike())a.map_bicycle="on";if(Application.mainMapController.getWeather())a.map_weather=Application.mainMapController.getWeather();if(Application.mainMapController.isUsedistrict())a.map_usedistrict=Application.mainMapController.getUsedistrict();
if(Application.mainMapController.isIndoor())a.map_indoor="on";if(Application.mainMapController.isStoreviewActive())a.sv="1";if(Application.mainMapController.isRoadviewActive())a.map_attribute="ROADVIEW";var b=0;Application.mainMapController.isTrafficActive()&&(b=b+La.TRAFFIC);Application.mainMapController.isAccidentActive()&&(b=b+La.ACCIDENT);Application.mainMapController.isCctvActive()&&(b=b+La.CCTV);if(b)a.traffic_state=b;if(Application.keywordSearchController.getActive()){if(b=Application.keywordSearchController.getThemeId())a.theme=
b;else{var b=Application.keywordSearchController.getKeyword(),c=Application.keywordSearchController.themeMapController_.getActive();if(b){a.q=b;if(Application.keywordSearchController.getLiterally()!=null)a.cidx=Application.keywordSearchController.getLiterally();if(Application.keywordSearchController.getActiveBoundsButton())a.currentBound=true}else if(c){a.thememap=true;if(b=Application.keywordSearchController.themeMapController_.getActiveThemeId())a.thememapId=b}}b=this.map_.getCenter();a.urlX=b.getX()|
0;a.urlY=b.getY()|0;b=this.map_.getLevel();Application.roadviewController.getActive()&&Application.roadviewController.getLastLevel()&&(b=Application.roadviewController.getLastLevel());a.urlLevel=b}if(Application.flagSearchController.getActive()){a.target="car";Application.flagSearchController.buildParams(a)}else if(Application.busSearchController.getActive()){switch(Application.busSearchController.getMode()){case "number":if(Application.busSearchController.getBusNumberKeyword())a.busnumsrch=Application.busSearchController.getBusNumberKeyword();
else if(Application.busSearchController.getFavoriteBus())a.busfavoritesrch=Application.busSearchController.getFavoriteBus();break;case "stop":a.busstopsrch=Application.busSearchController.getBusStopKeyword();break;case "region":a.busrgnsrch=Application.busSearchController.getRegionCode();break;default:a.target="traffic";a.opt="2"}if(this.busSearchController.getRegionName()&&Application.busSearchController.getMode()!="region")a.gname=this.busSearchController.getRegionName()}if((b=Application.infoWindowManager.getState())&&
b.id)a.itemId=b.id;if(Application.subwaySearchController.getActive()){a.target="subway";a.STARTNAME=Application.subwaySearchController.controller.getStartStationName();a.ENDNAME=Application.subwaySearchController.controller.getEndStationName();a.REGION=Application.subwaySearchController.searchController.getRegionId()}if(b&&b.busstopid)a.busStopId=b.busstopid;return a};ba.prototype.copyUrl=function(){this.copylist_.hide();var a=this.copyPanel_=ca.$("shareUrl");a.showDimmed();this.clipbutton_=yd("shareUrl.url.copy",
this.handleCopyUrl_.bind(this));a.onHide.add(function(){this.clipbutton_.dispose();this.copyUrlData=null}.bind(this));if(Application.subwaySearchController.getActive()){this.copyPanel_.addClass("ShareUrl-subway");var b=Application.subwaySearchController.createUrl(),b=location.href.replace(/\?.*/,"").replace(/\#/,"")+"?"+jQuery.param(b);g.$("shareUrl.url.text").setValue(b);this.clipbutton_.set(b);g.$("shareUrl.type").hide()}else{this.copyPanel_.removeClass("ShareUrl-subway");this.shortUrl_="";g.$("shareUrl.type").show();
this.setLongUrl()}g.$("shareUrl.closer").onClick.set(a.hide,a);g.$("shareUrl.type.longUrl").onClick.set(this.setLongUrl,this);g.$("shareUrl.type.shortUrl").onClick.set(this.setShortUrl,this);g.$("shareUrl.type.shortUrl.help").onEnter.set(this.showCopyUrlHelp,this);g.$("shareUrl.type.shortUrl.help").onLeave.set(this.hideCopyUrlHelp,this)};ba.prototype.handleCopyUrl_=function(){alert("\ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");this.copyPanel_.hide();this.urlType_==ba.LONG_URL&&q.click("control",
"url")};ba.prototype.showCopyUrlHelp=function(){g.$("shareUrl.help").setVisible(true)};ba.prototype.hideCopyUrlHelp=function(){g.$("shareUrl.help").setVisible(false)};ba.LONG_URL="long";ba.SHORT_URL="short";ba.prototype.setLongUrl=function(){var a=this.copyUrlData||this.createUrl(),a=location.href.replace(/\?.*/,"").replace(/\#/,"")+"?"+jQuery.param(a);this.clipbutton_.set(a);g.$("shareUrl.url.text").setValue(a);g.$("shareUrl.type.longUrl").addClass("ACTIVE");g.$("shareUrl.type.shortUrl").removeClass("ACTIVE");
this.urlType_=ba.LONG_URL};ba.prototype.setShortUrl=function(){g.$("shareUrl.type.longUrl").removeClass("ACTIVE");g.$("shareUrl.type.shortUrl").addClass("ACTIVE");if(this.shortUrl_){this.clipbutton_.set(this.shortUrl_);g.$("shareUrl.url.text").setValue(this.shortUrl_)}else{var a=this.copyUrlData||this.createUrl(),a=Object.keys(a).map(function(b){return b+"="+(""+a[b]).replace(/&/g,"%26")}).join("&");require("server").shortUrl({param:a},this.shortUrlLoad_.bind(this))}};ba.prototype.shortUrlLoad_=function(a){a=
a.text("dkey");this.shortUrl_=require("url").DMAPS_DISPATCH+"/"+a;g.$("shareUrl.url.text").setValue(this.shortUrl_);this.clipbutton_.set(this.shortUrl_);q.click("control","shortUrl_"+q.MODE);this.urlType_=ba.SHORT_URL};ba.prototype.copyUrlWithData=function(a){this.copyUrlData=a;this.copyUrl()};ba.prototype.save_=function(a){this.deactive_();Application.saveMapImage=this.saveMap.bind(this);if(Application.subwaySearchController.getActive())Application.subwaySearchController.save_(a);else{Ua("etc/save.jsp",
400,350,{noscroll:true});q.click("control","save")}};ba.prototype.copyMap_=function(a){this.copylist_.hide();if(Application.subwaySearchController.getActive())Application.subwaySearchController.scrap_(a);else{var a=Application.mainMapController.getUrlObject(),b=this.map_.isRoadmap()?"TYPE_MAP":"TYPE_SKYVIEW",c=Application.weatherWindowController.getState(),d=this.map_.getMapTypeId()==daum.maps.MapTypeId.HYBRID,e=location.href.replace(/[?#].*/,"")+"?urlX="+a.x+"&urlY="+a.y,e=e+("&urlLevel="+a.level+
"&map_type="+b+"&map_hybrid="+d+"&SHOWMARK=true");c&&(e=e+"&weather=true");var a={x:a.x,y:a.y,scale:Math.max(1.25,a.scale),baseUrl:e},f=G("ScrapMapFrame"),a="./etc/scrap.jsp?"+jQuery.param(a);f.$("frame").attr("src",a);this.forefront.create(f,{dimmed:true,closer:".close",beforeClose:function(){f.$("frame").attr("src","")}});q.click("control","scrap")}};ba.prototype.email_=function(){var a=this.map_.getCenter(),b=a.getX()|0,a=a.getY()|0,c=this.map_.getLevel(),d=2.5*Math.pow(2,c-3),e=require("url").MAP2_DAUM_NET;
Ua("http://hmstage.daum.net/hanmailex/Compose.daum?"+jQuery.param({BODY:'<a href="http://map.daum.net/?urlX='+b+"&amp;urlY="+a+"&amp;urlLevel="+c+'" target=_blank><img width=630 height=350 src="'+e+"/map/mapservice?MX="+b+"&amp;MY="+a+"&amp;SCALE="+d+'&amp;IW=630&amp;IH=350&amp;COORDSTM=WCONGNAMUL"></a><br>'}),850,600,{resizable:"yes"});q.click("control","mail")};ba.prototype.print_=function(a){if(Application.subwaySearchController.getActive())Application.subwaySearchController.print_(a);else if(Application.carRouteSearchController.getActive()&&
Application.carRouteSearchController.route_)Application.carRouteSearchController.print();else if(Application.transitRouteSearchController.getActive()&&Application.transitRouteSearchController.route_)Application.transitRouteSearchController.setRouteToPrint(null);else if(Application.flagSearchController.walkRouteSearchController.getActive()&&Application.flagSearchController.walkRouteSearchController.printRoute())Application.flagSearchController.walkRouteSearchController.print();else{var a=this.map_.getCenter(),
b=this.map_.getMapTypeId(),c=b===daum.maps.MapTypeId.SKYVIEW?"s":b===daum.maps.MapTypeId.HYBRID?"h":"m";c!="m"&&["08","09","10","11","12","13"].some(function(a){if(daum.maps.MapTypeId.SKYVIEW==daum.maps.MapTypeId["SKYVIEW"+a]){c=c+a;return true}});a="etc/print.jsp?c="+a.getX()+","+a.getY()+","+this.map_.getLevel()+"&t="+c;Ua(a,680,760);q.click("control","print")}};ba.prototype.overlays_=[];ba.prototype.distanceTool_="";ba.prototype.areaTool_="";ba.prototype.radiusTool_="";ba.prototype.newPlaceTool_=
"";ba.prototype.newPlaceChannel_=null;ba.prototype.newPlaceQuery_=null;ba.prototype.distance_=function(){this.deactive_();var a=this.isDistance();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a)this.onComplete.notify();else{a=new cd(this.map_);a.activate();this.overlays_.push(a);this.workingTool_=a;q.click("control","length1");this.onClickTool.notify()}};ba.prototype.area_=function(){this.deactive_();var a=this.isArea();if(this.workingTool_){this.workingTool_.close();this.workingTool_=
null}if(a)this.onComplete.notify();else{a=this.areaTool_=new bd(this.map_);a.activate();this.overlays_.push(a);this.workingTool_=a;q.click("control","area");this.onClickTool.notify()}};ba.prototype.radius_=function(a){this.deactive_();var b=this.isRadius();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(b)this.onComplete.notify();else{b=this.radiusTool_=new ld(this.map_);b.activate();this.overlays_.push(b);this.workingTool_=b;!a&&q.click("control","radius");this.onClickTool.notify()}};
ba.prototype.newPlace_=function(){this.deactive_();var a=this.isNewPlace();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a){this.newPlaceDeactive();this.onComplete.notify()}else{a=this.newPlaceTool_=new kd(this.map_,this.newPlaceChannel_,this.newPlaceQuery_);a.closeCallback(this.handleRightclick.bind(this));a.activate();this.newPlaceActive();this.newPlaceInfoOff();this.overlays_.push(a);this.workingTool_=a;q.click("control","newplace");this.onClickTool.notify()}};ba.prototype.isDistance=
function(){return this.workingTool_ instanceof cd};ba.prototype.isArea=function(){return this.workingTool_ instanceof bd};ba.prototype.isRadius=function(){return this.workingTool_ instanceof ld};ba.prototype.isNewPlace=function(){return this.workingTool_ instanceof kd};ba.prototype.isToolActivate=function(){return!!this.workingTool_};ba.prototype.newPlaceInfoOn=function(a,b){jQuery(".MapControlView .add_place").addClass("add_on");jQuery(".tileTool").hasClass("HIDDEN")||jQuery(".tileTool .extensionText").hide();
this.newPlaceChannel_=a;this.newPlaceQuery_=b};ba.prototype.newPlaceInfoOff=function(){jQuery(".MapControlView .add_place").removeClass("add_on");this.newPlaceQuery_=this.newPlaceChannel_=null};ba.prototype.newPlaceActive=function(){jQuery(".MapControlView .add_place").addClass("active_tool")};ba.prototype.newPlaceDeactive=function(){jQuery(".MapControlView .add_place").removeClass("active_tool")};ba.prototype.clear=function(){this.deactive_();this.clear_();this.workingTool_=null};ba.prototype.clear_=
function(){Application.roadviewController.close();Application.infoWindowManager.close();Application.keywordSearchController.reset();Application.flagSearchController.reset();Application.busSearchController.reset();Application.aoiManager.clearAll();Application.mainMapController.tileClear();this.localPlatformAdController_.clear();this.onReset.notify(null)};ba.prototype.overlaysClear=function(){this.overlays_.forEach(function(a){a.close()});this.overlays_.length=0;this.workingTool_=null};ba.prototype.handleClick=
function(a){if(this.workingTool_){this.newPlaceDeactive();this.workingTool_.handleClick(a);return true}return false};ba.prototype.handleRightclick=function(a){if(this.workingTool_){this.workingTool_.freeze(a);this.workingTool_=null;this.deactive_();this.newPlaceDeactive();this.onComplete.notify();return true}return false};ba.prototype.saveMap=function(a,b){var c=0.3125*(1<<this.map_.getLevel()),d=this.map_.getCenter(),e=null,f=null,e=typeof a!="undefined"?a:g.$("view.map").getWidth(),f=typeof b!=
"undefined"?b:g.$("view.map").getHeight();e>2048&&(e=2048);f>2048&&(f=2048);var h=d.getX()|0,d=d.getY()|0,c="./saveMap.jsp?SCALE="+c+"&MX="+h+"&MY="+d,h=Application.mainMapController.getHistory(),d=Application.mainMapController.mapTypeControl_.isHybridActive(),c=this.map_.isRoadmap()?c+"&type=roadmap":d?c+"&type=hybrid":c+"&type=skyview",c=c+("&S=0&IW="+e+"&IH="+f+"&LANG=0&COORDSTM=WCONGNAMUL");h&&(c=c+("&YEAR="+Application.mainMapController.getHistory().toString().replace(/^\d\d/,"")));location.href=
c};define("controller/MapToolController",["map/Map","controller/BusSearchController","controller/FiyFrameController","controller/LocalPlatformAdController","dom/forefront"],R(ba));"use strict";define("controller/MapappController",["jquery","dom/forefront","core/PaneFactory"],function(a,b,c){var d=c.create("Mapapp");a("#mapapp").click(function(){b.create(d,{closer:".close"})})});mb.prototype.setActive=function(a){a=!!a;if(this.active_!=a){this.active_=a;this.onActive.notify(null)}return this};mb.prototype.getActive=
function(){return this.active_};define("controller/NoticeController",["options","dom/forefront"],R(function(a,b){function c(a,b,c){var d=false;if(b==void 0)jQuery.cookie("noNotice"+a.id)!=1&&(d=true);else{c=c||1;b?jQuery.cookie("noNotice"+a.id,1,{expires:0}):jQuery.cookie("noNotice"+a.id,1,{expires:c});d=b}return d}function d(){var a=G("noticePopup"),d=b.create(a);a.$("close").click(function(){c(e,false,14);d.hide()});a.appendTo("body");d.show()}var e={id:2};a.notice_popup=="Y"&&c(e)&&d()}));define("controller/PoiController",
["map/Map","map/InfoWindowManager","map/MapTypeControl","controller/IndoorMapController"],R(function(a,b,c,d){function e(){var b=a.getBounds(),b={minx:b.getSouthWest().getX(),miny:b.getSouthWest().getY(),maxx:b.getNorthEast().getX(),maxy:b.getNorthEast().getY(),level:a.getLevel()};Ub.findAll(b,h)}function f(b){var c=12&0.3125*(1<<a.getLevel());return ib(b.map(function(a){if(a.points)return a.points;var b=a.coords.getX(),d=a.coords.getY(),a=b-c,e=d-c,b=b+c,d=d+c;return[a,e,a,d,b,d,b,e]}))}function h(a){var b=
a.places;if(b.length){r=b;u=f(b)}else{r.length=0;u=ib([])}b=a.addresses;if(b.length){w=b;D=f(b)}else{w.length=0;D=ib([])}b=a.busStops;if(b.length){P=b;K=f(b)}else{P.length=0;K=ib([])}a=a.subwayStations;if(a.length){U=a;E=f(a)}else{U.length=0;E=ib([])}}function j(e){var f=a.getMapTypeId(),h=false;c.isIndoorActive()&&d.checkPolygonAreaContainPoint(e)&&(h=true);if(f!=daum.maps.MapTypeId.SKYVIEW&&!h||f==daum.maps.MapTypeId.SKYVIEW&&c.isHybridActive()){o=e;f=K.findAt(e.getX(),e.getY());if(f=P[f]){n(f);
return true}f=E.findAt(e.getX(),e.getY());if(f=U[f]){e=new Ea(new Ga(f));b.createSubwayStation(e);return true}f=u.findAt(e.getX(),e.getY());if(f=r[f]){g(f);return true}f=D.findAt(e.getX(),e.getY());if(f=w[f]){k(f);return true}}return false}function g(c){c.confirmid&&ja.findPlace(c.confirmid,function(c){if(c){b.createPlace(c,o);q.click("map","poiclick");t.logMapLabel(c.coords,Application.localInfoController.getHCodeForLog(),c.id,{level:a.getLevel(),maptype:a.isRoadmap()?"MAP":"SKYVIEW"})}})}function k(){require("server").getJibunShape({x:o.getX(),
y:o.getY()},function(a){var c=new Ca(a);c.zonenum=a.text("new_zipcode");c.oldname=a.text("old.name");c.otherName=a.text("old.name");c.key=a.text("docid");b.createAddress(c,o)});q.click("map","poiclick_address")}function n(a){if(a.id)if(a.grouped){var c=new Id;c.id=a.id;c.coords=new daum.maps.Coords(a.x,a.y);b.createBusStopGroup(c)}else Y.find(a.id,function(a){a.id&&b.createBusStop(a)})}function y(a,b){if(p==b.x&&s==b.y)return v;var c=[K,E,u,D].some(function(b){return!!(b.findAt(a.getX(),a.getY())>=
0)});p=b.x;s=b.y;v=c;Z.notify(c);return c}var o=null,p=0,s=0,v=false,r=[],u=ib([]),w=[],D=ib([]),P=[],K=ib([]),U=[],E=ib([]),Z=this.onOver=new m;daum.maps.event.addListener(a,"idle",gb(250,e).trigger);e();this.handleClick=function(a){return j(a)};this.compareRange=function(a,b){return y(a,b)}}));"use strict";define("controller/PoiTileController",["map/Map","map/InfoWindowManager","map/MiniTooltipManager","map/MapTileManager"],R(function(a,b,c,d){function e(a,b,c){var d=c,c=c+5;return d>=0&&-7488>>
c<=a&&a<=68E4>>c&&-102176>>c<=b&&b<=635E3>>c}function f(){d.set("theme",true)}function h(){g();if(v){D=true;if(P){d.set("theme",false);E()}}else j()}function j(){D=false;w=v=null;P&&d.set("theme",false)}function g(){for(var a in x)x.hasOwnProperty(a)&&delete x[a];x={}}function k(a){var b={};b.id=a.text("ID");b.name=a.text("NAME");b.category=a.text("CATE")||"";b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b}function n(b){if(D&&P){var c=b.getX(),b=b.getY(),d=a.getLevel(),f=1<<d;
B=f;var h=(b*3.2+48E4)/f,f=parseInt((c*3.2+24E4)/f/256,10),h=parseInt(h/256,10);if(f<0||h<0||!e(f,h,d))return false;var j=d+"_"+f+"_"+h;if(x[j])z=x[j];else if(Z!=d||F!=f||ea!=h){Z=d;F=f;ea=h;var g=require("url").TILE_SEARCH_IMG_NET+"/tmap/"+r+"/L"+d+"/"+h+"/"+f+".png?output=jsonp";jQuery.ajax(g,{data:v,timeout:5E3,dataType:"jsonp",jsonpCallback:"L"+d+"_"+h+"_"+f,cache:true,success:function(a){x[j]=(new Ga(a)).array("value").map(k)}})}return p(c,b)}return false}function y(a){if(a&&J){b.createPlace(a);
K=a}}function o(a){if(a&&J){b.createBusStop(a);K=a}}function p(b,c){var d=null;z.forEach(function(a){var e=a.coords.getX(),f=a.coords.getY(),h=1.8*B;b>e-h&&(b<e+h&&c>f-h&&c<f+h)&&(d=a)});if(d){if(!J||J&&d.id!=J.id){C.setPosition(d.coords);C.setMap(a);J=d;s(true)}}else{C.setMap(null);J=null;s(false)}U.notify(!!d);return!!d}function s(a){if(a&&J){if(!K||+J.id!=+K.id){c.openDot();c.createDot(J)}}else c.closeDot()}var v="",r="",u="",w=null,D=false,P=true,K=null,U=this.onOver=new m;daum.maps.MapTypeId.THEME||
daum.maps.Tileset.add("THEME",new daum.maps.Tileset(256,256,function(a,b,c){return!e(a,b,c)?"":require("url").TILE_SEARCH_IMG_NET+"/tmap/"+r+"/L"+c+"/"+b+"/"+a+".png?"+v}));d.setId("theme",daum.maps.MapTypeId.THEME);var E=gb(500,f).trigger;this.setOptions=function(a){setOptions_(a)};this.setKeywordTile=function(a){var b=jQuery.param(a);if(v!=b){v=b;r="msearch";u="keyword";h()}C.setImage((a.dimg=="r"?"red":"blue")=="blue"?zb:A)};this.setThemeTile=function(a){v=jQuery.param(a);r=a.themeId=="busStop"?
"bsearch":"msearch";u="theme";h();C.setImage((a.dimg=="b"?"blue":"red")=="blue"?zb:A)};this.clearTile=function(){j()};this.setVisible=function(a){(P=a)&&D?f():d.set("theme",false)};this.setKeywordTileDssObj=function(a){w=a};var Z=null,F=null,ea=null,z=[],x={};daum.maps.event.addListener(a,"zoom_changed",g);var B=0,J=null;b.onClose.add(function(){K=null});var A=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/dot_r.png",new daum.maps.Size(10,10),{offset:new daum.maps.Point(5,
5),spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)}),zb=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/dot_b.png",new daum.maps.Size(10,10),{offset:new daum.maps.Point(5,5),spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)}),C=new daum.maps.Marker({position:null,image:A,clickable:false});this.compareRange=function(a,b){return n(a,b)};this.handleClick=function(){var a;if(J){if(r=="bsearch")Y.find(J.id,o);else{ja.findPlace(J.id,
y);if(u=="keyword"){q.click("control","dotsearch_dotclick");if(w){a={confirmid:J.id,tab:w.tab,in_map:w.in_map,sorttype:w.sorttype};if(w.cidx!=void 0)a.cidx=w.cidx;t.log("tile_circle_click",w.q,a)}}}q.click("dotsearch","dotclick");c.close();a=true}else a=false;return a};this.showMiniTooltip=function(a){s(a)};this.getTileInfo=function(){return{imgPath:r,paramStr:v}}}));fb.prototype.add=function(a){this.buttons_.push(a);a.onClick.add(this.clickButton_,this)};fb.prototype.setActive=function(a){if(!this.buttons_[a].getActive()){this.setActiveWithoutFeedback(a);
this.onChange.notify(a)}};fb.prototype.clickButton_=function(a){var b=this.buttons_.indexOf(a.currentPanel);console.assert(b>=0);this.buttons_.forEach(function(a,d){d!=b&&a.setActive(false)});this.onChange.notify(b)};fb.prototype.setActiveWithoutFeedback=function(a){console.assert(this.buttons_[a]);this.buttons_.forEach(function(b,c){b.setActive(c==a)})};fb.prototype.getButtonLength=function(){return this.buttons_.length};define("controller/RelatedAddressController",["jquery","model/RelatedAddress",
"view/RelatedAddressView"],function(a,b,c){function d(a,b,c){g[a]=g[a]||{};g[a][b]=c}function e(a){j.notify(a)}function f(){h.notify()}var h=new m,j=new m,g={};return{init:function(){g={}},newList:function(a,c){var e,f,h=c.dataType,j=[];if(h==1||h==2){e="new";f="\uc0c8\uc8fc\uc18c"}else{e="old";f="\uc9c0\ubc88\uc8fc\uc18c"}var g=c.relatedPrefixAddress||"";a.split(";").forEach(function(a){j.push(new b(a,e,f,g))},this);d(c.id,"parent",c);return j},renderItem:function(a,b){var h=new c(a,b);h.onItemClick.add(e);
h.onFolderClick.add(f);d(b.id,"view",h);return h},onFolderClick:h,onItemClick:j}});define("controller/RelatedKeywordController",["jquery"],function(a){function b(){var b=a(this).data("keyword");n.notify(b);c({sub_q:b})}function c(b){b=a.extend({main_q:f},b);t.log("related_search_q",null,b)}function d(){g.show();k.hide();j.removeClass(e)}var e="showMore",f=null,h=[],j=a("#info\\.related\\.keyword"),g=j.find(".more.closed"),k=j.find(".more.opened"),n=new m;g.on("click",function(){a(this).hide();k.show();
j.addClass(e)});k.on("click",function(){d()});return{render:function(a){var d=a.relkey,e=j.find(".wrapKeywords"),k=[];if(d){f=a.getKeyword();c();h=d.split(",");h.forEach(function(a){k.push('<a href="#" data-keyword="'+a+'">'+a+"</a>")});k=k.join(", ");e.html(k);e.find("a").on("click",b);j.show();e.height()>38&&g.show()}else f=null},show:function(){j.show()},hide:function(){j.hide();d()},onSubClick:n}});S.prototype.createRoadview_=function(a){var b=require("url"),a={streetJsonUrl:b.STV_MAPS_DAUM_NET+
"/roadview-search/searchNodeInfo.do?TYPE=w&OUTPUT=json&ID=",aroundJsonUrl:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo?SEARCH_TYPE=2&TYPE=w&OUTPUT=json",storeviewInfoTagUrl:b.STV_MAPS_DAUM_NET+"/roadview-search/storeviewinfotag?output=jsonp&detail=Y&storePanoId=",mapSearchPoiApiUrl:b.LOCAL_SEARCH_DAUM_NET+"/theme.daum?category=Y&sort=2&cpage=1&page_size=15&service=roadview",serviceName:"local",pastStreetToolbar:"true",pastStreetVersion:a||"0",titlebar:"true",viewerUrl:b.ROADVIEW_SWF,roadviewAR:true,
imageQuality:1,showBuildingInfoPopup:"true",showBuildingInfoTooltip:"true",showLandMark:"true",showAroundInfoBar:"true"};if(b.STOREVIEWDATAFLASH)a.storeviewXmlUrl=b.STOREVIEWDATAFLASH;b=new daum.maps.Roadview(this.panel_.getElement(),a);daum.maps.event.addListener(b,"panoid_changed",this.moved_.bind(this));daum.maps.event.addListener(b,"viewpoint_changed",this.panChanged_.bind(this));S.flashCallback={onChangedFindwaySequence:this.checkpoint_.bind(this),roadviewDss:this.tiara_.bind(this),callMapJS:this.roadViewToolbar_.bind(this)};
jQuery.extend(b.getBridge(),S.flashCallback);this.station_=new pe(b,new oe(b),this.stationInfoChanged_.bind(this));daum.maps.event.addListener(b,"init",this.successFlashView.bind(this));return b};S.prototype.viewer_=function(){return this.normalRoadview_};S.prototype.active_=!1;S.prototype.getActive=function(){return this.active_};S.RADIUS=[30,40,50,70,100,150,250,350,450,900,1800,3600,7200,14400,28800];S.prototype.didDecoratorResize_=function(){if(this.viewer_()&&this.active_){this.viewer_().relayout();
document.body.className=document.body.className+" ";var a=this.viewer_().getPosition();(a.getX()||a.getY())&&this.map_.setCenter(a)}};S.prototype.showNearby=function(a,b){if(this.viewer_()){swfobject&&swfobject.ableflash&&require("view/FlashPlayerDownloadView").show();this.walker_.setPosition(a);this.walker_.getState()&&this.walker_.release();this.client_.getNearestPanoId(a,b||S.RADIUS[this.map_.getLevel()]||S.RADIUS[0],this.jump_.bind(this,a));this.lastMarkerVisibleState_=3}else require("view/FlashPlayerDownloadView").show()};
S.prototype.openRoadview_=function(a){if(this.failed_){this.normalRoadview_.remove();this.successView_=this.failed_=false;try{this.normalRoadview_=this.createRoadview_()}catch(b){}}Application.infoWindowManager.close();this.successView_||this.setFailTimer_();g.$("view").addClass("View-ACTIVE");if(!this.active_){if(a){this.lastCenter_=this.map_.getCenter();this.lastLevel_=this.map_.getLevel()}this._lastMarker.set(null);this.isStoreView_||Application.mainMapController.setRoadviewLineActive(true);this.panel_.removeClass("roadview-HIDDEN");
this.panel_.show();this.viewer_().show();this._doRoadviewLayout();this._windowController.updateHeight();Application.busLineController.closeLayer();this.active_=true;this.onShow.notify();this.escapeZoomLevel=this.map_.getLevel();this.map_.setLevel(3);require("log/Tiara").log("/fake/roadview_showViewer")}};S.prototype._doRoadviewLayout=function(){this.routing_&&!this.storeView_?this._viewLayout.setRoadviewWithWideMap():this._viewLayout.setRoadviewWithMiniMap();this.map_.setKeyboardShortcuts(false);
this.walker_.setFloat(false)};S.prototype.stationInfoChanged_=function(a){var b=this.station_.isActive(),c=this.station_.getInfo();if(b)if(c.type=="AREA_STORE"){this.storeName_=c.name||"\uc2a4\ud1a0\uc5b4\ubdf0";this._viewLayout.setRoadviewOnly();this.isStoreView_=true}else{this.subwayOverViewer.onSubwayEnter(c);this.subwayOverViewer.onSubwayMove(c);this.panChanged_();a=="enterArea"?q.click("roadview","enterstation"):a=="changedStation"&&q.click("roadview","changedStationMapPosition")}else if(c.type==
"AREA_STORE"){Application.mainMapController.setRoadviewLineActive(true);this._viewLayout.setRoadviewWithMiniMap();this.isStoreView_=false}else this.subwayOverViewer.onSubwayLeave()};S.prototype.panChanged_=function(){if(this.getActive()){var a=this.station_.getInfo(),b=this.viewer_().getViewpoint().pan;if(a&&a.type=="station")this.subwayOverViewer.onWalkerRotate(b);else this.walker_.setPan(b)}};S.prototype.isActivated=function(){return this.panel_.getVisible()};S.prototype.closeRoadview_=function(){if(this.active_){var a=
this.walker_.getPosition();this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true);this.viewer_().hide();g.$("localInfo").show();this.walker_.setFloat(true);if(this.lastCenter_){this.map_.setCenter(this.lastCenter_);this.map_.setLevel(this.lastLevel_);this.lastCenter_=null}else this.map_.setCenter(a);Application.mainMapController.setRoadviewLineActive(false);this.onCloseRoadview.notify();this.success=this.active_=false;this.stopTimer_=null;if(!Application.mainMapController.isRoadviewActive()&&
this.lastMarkerVisibleState_==3){this.lastData_=this.viewer_().send("getAreaId")||{panoId:this.viewer_().getPanoId(),pan:0,tilt:0,zoom:0,coords:this.viewer_().getPosition()};this._lastMarker.set(this.viewer_().getPosition());this._lastMarker.setTitle(this.isStoreView_?"\uc774\uc804 \uc2a4\ud1a0\uc5b4\ubdf0 \uc9c0\uc810":"\uc774\uc804 \ub85c\ub4dc\ubdf0 \uc9c0\uc810");this.walker_.setPosition(this.viewer_().getPosition())}this.lastMarkerVisibleState_=0;this.map_.setLevel(this.escapeZoomLevel)}};S.prototype.jump_=
function(a,b){this.showStartLog_&&t.logRoadview("start_roadview",b||0,a,Application.localInfoController.getHCodeForLog());this.showStartLog_=false;if(b){this.openRoadview_();this.viewer_().setPanoId(b,a)}else if(this.getActive())this.walker_.setPosition(this.viewer_().getPosition());else if(this.walker_.getVisible()){this.walker_.setFloat(true);this.map_.panTo(a)}};S.prototype.moved_=function(){switch(this.lastMarkerVisibleState_){case 2:this.lastMarkerVisibleState_=3;break;case 0:this.lastMarkerVisibleState_=
this.isStoreView_?1:2;break;case 1:if(this.active_)this.lastMarkerVisibleState_=2}if(this.getActive()){var a=this.viewer_().getPosition();this.map_.setCenter(a);this.walker_.setFloat(false);this.walker_.setPosition(a)}};S.prototype.show=function(a,b){if(this.viewer_()){swfobject&&swfobject.ableflash&&require("view/FlashPlayerDownloadView").show();this.nodeClickLog=false;this.openRoadview_();b&&this._viewLayout.setRoadviewOnly();this.viewer_().setPanoIdAndViewpoint(a.panoId,a,a.coords);this.walker_.release();
this.walker_.show();this.walker_.setFloat(false);this.walker_.setPosition(a.coords);this.map_.setCenter(a.coords)}else require("view/FlashPlayerDownloadView").show()};S.prototype.close=function(){this.closeRoadview_();this.subwayOverViewer.hide();this.isStoreView_=false};S.prototype.removeLastMarker=function(){this._lastMarker&&this._lastMarker.set(null)};S.prototype.copy=function(){this.copyOpen_()};S.prototype.scrap=function(){var a=document.flash_scrap_form;Ua("",680,625,{name:"roadviewScrap"});
var b=this.getScrapData_();a.elements.panoid.value=b.panoId;a.elements.pan.value=b.pan;a.elements.tilt.value=b.tilt;a.elements.panoX.value=b.panoX;a.elements.panoY.value=b.panoY;a.elements.caption.value=b.caption||"";a.elements.storeId.value=b.storeId||"";a.method="post";a.action="./etc/roadviewScrap.jsp";a.target="roadviewScrap";a.submit()};S.prototype.getScrapData_=function(){if(this.viewer_()){var a=this.map_.getCenter(),b=this.viewer_().getViewpoint(),c=this.station_.getInfo(),a={caption:c.type==
"station"?c.name+"\uc5ed":c.address,panoX:a.getX()|0,panoY:a.getY()|0,panoId:this.viewer_().getPanoId(),pan:b.pan|0,tilt:b.tilt|0,zoom:b.zoom};if(this.viewer_().send("getAreaType")=="AREA_STORE"){a.storeId=this.viewer_().send("getAreaId");a.caption=this.storeName_}a.caption=encodeURI(a.caption);return a}};S.prototype.setUrl=function(a){this.viewer_().send("getAreaType")=="AREA_STORE"?a.store=this.viewer_().send("getAreaId")+"_"+this.viewer_().send("getPanoId"):a.panoid=this.viewer_().getPanoId();
var b=this.viewer_().getViewpoint();a.pan=b.pan.toFixed(1);a.tilt=b.tilt.toFixed(1);a.zoom=b.zoom};S.prototype.copyOpen_=function(a){Application.mainMapController.tool.copyUrl(a);q.click("roadview","viewer_url")};S.prototype.setWalkerVisible=function(a,b){a&&Application.infoWindowManager.close();a?b?this.walker_.hold():this.walker_.show():this.walker_.hide();this.walker_.setFloat(true)};S.prototype.setSubwayPanoId=function(a){this.viewer_().setPanoId(a)};S.prototype.showTooltip=function(){var a=g.$("roadviewInfoBox.tool.info");
if(this.viewer_().getTooltip()){a.removeClass("infoActive");a.addClass("info");this.viewer_().setTooltip(false)}else{a.removeClass("info");a.addClass("infoActive");this.viewer_().setTooltip(true)}q.click("roadview","viewer_poi_onoff")};S.prototype.updateFavorites=function(){this.viewer_()&&this.viewer_().send("refreshBookmark")};S.prototype.addFavorite_=function(a,b){var c=["place","busstop","busstopline","busline","roadview","storeview","subwaystation"];if(this.viewer_()&&jQuery.inArray(b.type,c)!==
-1){var d;if(b.type=="busstop")Y.find(b.itemid,function(b){if(b.id){d=B.createFromBusStop(b);a.add(d)}});else if(b.type=="busstopline"){var e=b.itemid.split("@");e.length==2&&e[0]&&Y.find(e[0],function(b){if(b.id){d=B.createFromBusStopAndBusLine(b,{id:e[1]});a.add(d)}})}else if(b.type=="place")ja.findPlace(b.itemid,function(b){if(b){d=B.createFromPlace(b);a.add(d)}});else if(b.type=="subwaystation"){var f=new Ea;f.id=b.itemid;f.fetchDetail(function(){if(f.isLoaded()){d=B.createFromPlace(f);a.add(d)}})}else if(b.type==
"busline")X.findBusLine(b.itemid,function(b){if(b.id){d=B.createFromBusLine(b);a.add(d)}});else if(b.type=="storeview"||b.type=="roadview"){var c=this.map_.getCenter(),h=this.viewer_().getViewpoint();d={x:c.getX()|0,y:c.getY()|0,pan:h.pan|0,tilt:h.tilt|0,zoom:h.zoom|0};if(this.viewer_().send("getAreaType")=="AREA_STORE"){d.type="storeview";d.key=this.viewer_().send("getAreaId");d.spot_id=this.viewer_().send("getPanoId");d.display1=this.storeName_}else{c=this.station_.getInfo();d.type="roadview";d.key=
this.viewer_().getPanoId();d.display1=c.type=="station"?c.name+"\uc5ed":c.address}d.type&&a.add(d)}}};S.prototype.removeFavorite_=function(a,b){var c=null;if(b.type&&b.itemid){c={type:b.type,key:b.itemid};if(b.type=="busstopline"){var d=b.itemid.split("@");c.key=d[0];c.buslines=d[1]}a.remove(c)}};S.prototype.setViewpointWithMarker=function(a,b,c,d,e,f,h){if(this.viewer_()){swfobject&&swfobject.ableflash&&require("view/FlashPlayerDownloadView").show();this.openRoadview_(h);e=a.coords;this.lastMarkerVisibleState_=
this.viewer_().getPanoId()==a.panoId?2:0;this.viewer_().setViewpointWithMarker(a.panoId,e.getX(),e.getY(),{id:f.id,storeId:f.storeview,northPan:c,tilt:d,imageUrl:b,label:f.name,confirmid:f.id,phone:f.phone[0]||"",address:f.address,grade:f.star,vote:f.vote,reviewCount:f.review,comment:f.desc,LAST_CATE_DEPTH:1,CATE_NAME_DEPTH1:f.category||"",last_cate_name:f.category||"",poiImageUrl:f.imgsrc,poiNewAddress:f.newAddress,source:f.sourceName});this.walker_.setFloat(false);this.walker_.setPosition(e);e.getX()!=
0&&e.getY()&&e&&this.map_.setCenter(e)}else require("view/FlashPlayerDownloadView").show()};S.prototype.changePan_=function(){var a=this.viewer_().getViewpoint();a.pan=this.walker_.getPan();this.viewer_().setViewpoint(a)};S.prototype.tiara_=function(a,b){switch(a){case "i_flash_player_version":a=a+b.replace(/\s+/g,"").replace(/,/g,"_");break;case "i_smartJump_FPHS":a=a.replace("FPHS",b)}q.click("roadview",a)};S.prototype.setRouteData=function(a,b){if(b||!(this.routingData_&&this.routingData_.type!=
a)){var c=b?{timestamp:Date.now(),type:a,data:b}:null;this.routingData_=c;if(this.viewer_())this.viewer_().getBridge().getFindwayData=function(){return c};this.routing_=!!b}};S.prototype.checkpoint_=function(a){if(this.nodeClickLog){var b=this.viewer_().getPosition(),c=this.viewer_().getPanoId();t.logRoadview("node_click_rv",c,b,Application.localInfoController.getHCodeForLog(),{route_type:this.routingData_.type})}this.nodeClickLog=true;this.onCheckpoint.notify(a)};S.prototype.roadViewToolbar_=function(a,
b){var c=null;switch(a){case "bookmark":this.addFav_(b);break;case "urlcopy":this.copy();break;case "embedcopy":this.scrap();break;case "close":this.fiyFrameController_.isActivated()||this.close();var d=this.map_.getMapTypeId();this.map_.isRoadmap()?require("log/Tiara").log("/fake/imagemap"):d==daum.maps.MapTypeId.HYBRID?d==daum.maps.MapTypeId.HYBRID__||d==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview"):require("log/Tiara").log("/fake/pastview"):d==daum.maps.MapTypeId.HYBRID__||
d==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview_hybridoff"):require("log/Tiara").log("/fake/pastview_hybridoff");break;case "report":var d=this.viewer_().getViewpointWithPanoId(),e={};if(b.type=="building"||!b.id){e={type:"roadview",rawInfo:{panoX:b.x,panoY:b.y,panoId:d.panoId,pan:d.pan,tilt:d.tilt,zoom:d.zoom}};if(b.type=="building"){q.click("roadview","tooltip_building_fiy");e.rawInfo.roadviewFrom="building"}else{q.click("roadview","fiy");e.rawInfo.roadviewFrom="fiybtn";
e.channel="LABEL_TOP"}}else if(b.type=="busstop"){e={type:"busStop",rawInfo:{roadviewFrom:"busstop",id:b.id}};q.click("roadview","tooltip_busstop_fiy")}else if(b.type=="theme_subway"){e={type:"subway",rawInfo:{roadviewFrom:"subway",id:b.id}};q.click("roadview","tooltip_subway_fiy")}else{e={type:"updatePlace",rawInfo:{roadviewFrom:b.type||"innerBuilding",id:b.id},channel:"TOOLTIP_PLACE"};q.click("roadview","tooltip_place_fiy")}if(!e.channel)e.channel="FROM_ROADVIEW";this.fiyFrameController_.open(e);
break;case "waypoint":this._windowController.setCollapse(false);this.onWaypoint.notify({type:b.type,coords:new daum.maps.Coords(b.x,b.y),name:b.name?unescape(b.name):void 0});break;case "showLogin":this.authController_.request();break;case "fare":d=new X;e=b.HCODE.substring(0,2);b.HCODE&&Ua(d.getFareUrl(e),710,550);break;case "allBusLine":this.close();d=Application.busSearchController;d.setActive(true);d.findByOne(b.BUSLINE);break;case "closeFrame":this._frameDecorator.collapse();break;case "openFrame":this._frameDecorator.expand();
break;case "alert":alert(unescape(b.message||""));break;case "favoriteList":d=null;if(A.Application){var f=Application.favoriteController;if(d=f.getList())var h=["place","busstop","busstopline","busline","roadview","storeview","subwaystation"],d=jQuery.map(d,function(a){if(jQuery.inArray(a.type,h)!==-1){var b={type:a.type,itemid:a.key,id:a.seq,name:a.display1,pan:a.pan,tilt:a.tilt,zoom:a.zoom};if(b.type=="busstopline")b.itemid=b.itemid+("@"+a.buslines);return b}})}return d||[];case "addFavorite":c=
this.addFavorite_.bind(this);case "removeFavorite":c||(c=this.removeFavorite_.bind(this));if(A.Application){f=Application.favoriteController;this.authController_.isLogin()?c(f,b):f.openLoginPopup(function(){c(f,b);var a=jQuery("#info\\.favorite");a.find(".map_login").hide();a.find(".favorite_interlock").show()})}}};S.prototype.showStoreView=function(a,b,c,d,e){if(this.viewer_()){swfobject&&swfobject.ableflash&&require("view/FlashPlayerDownloadView").show();this.isStoreView_=true;this.openRoadview_(d);
this._viewLayout.setRoadviewOnly();this.viewer_().setStoreId(a,b||0);c&&this.viewer_().setViewpoint(c);this.lastMarkerVisibleState_=e?3:0;this.map_.setLevel(3)}else require("view/FlashPlayerDownloadView").show()};S.prototype.initFailFlashLayer_=function(){var a=g.$("failFlashMap.close"),b=g.$("failflash");b.setVisible(false);g.$("failFlashMap.mapview").hide();g.$("failFlashMap.close").hide();a.onClick.add(function(){this.closeRoadview_();b.setVisible(false)},this);g.$("failFlashMap.mapview").onClick.add(function(){this.closeRoadview_();
b.setVisible(false)},this)};S.prototype.setFailTimer_=function(){if(!this.stopTimer_){this.failed_=false;this.stopTimer_=new bb(15E3,function(){this.successView_!=true&&this.viewErrorMessage()}.bind(this),false);this.stopTimer_.start()}};S.prototype.viewErrorMessage=function(){this.failed_=true;var a=g.$("failflash");a.setVisible(true);g.$("failFlashMap.mapview").show();g.$("failFlashMap.close").show();this.isStoreView_?a.setSrcPng("http://localimg.daum-img.net/localimages/07/2010/map/popup/alert_storview.png"):
a.setSrcPng("http://localimg.daum-img.net/localimages/07/2010/map/popup/alert_roadview.png");this.isStoreView_=false;this.stopTimer_=null};S.prototype.CSS3D_SUPPORT=/AppleWebKit/.test(navigator.userAgent)&&(!/Chrome/.test(navigator.userAgent)||/Android/.test(navigator.userAgent));S.prototype.successFlashView=function(){this.CSS3D_SUPPORT&&q.click("roadview","css_roadview");this.successView_=true;g.$("failflash").setVisible(false);this.stopTimer_&&this.stopTimer_.stop();this.stopTimer_=null;this.failed_&&
!this.isStoreView_&&this._viewLayout.setRoadviewWithMiniMap();this.panChanged_()};S.prototype.getLastLevel=function(){return this.lastLevel_};S.prototype.restore_=function(){var a=this.lastData_;if(typeof a=="string")this.showStoreView(a);else{this.lastMarkerVisibleState_=2;this.show(a)}};S.prototype.showByDblClick=function(a){this.showStartLog_=this.dbClickActive_=true;this.showNearby(a)};S.prototype.setDbClickActive=function(a){this.dbClickActive_=a};S.prototype.getDbClickActive=function(){return this.dbClickActive_};
define("controller/RoadviewController","map/Map manager/ViewLayout view/FrameDecorator map/LastRoadviewMarker params controller/WindowController view/FlashPlayerDownloadView controller/FiyFrameController controller/AuthController".split(" "),R(S));yc.prototype.active_=!1;yc.prototype.setActive=function(a){if(this.active_!=a){this.active_=!!a;a?this.mapTileManager_.set("roadview",true):this.mapTileManager_.set("roadview",false)}};yc.prototype.handleClick=function(a){if(this.active_){Application.roadviewController.showStartLog_=
true;Application.roadviewController.showNearby(a);q.click("roadview","viewer_line");return true}return false};define("controller/RoadviewLineController",["map/MapTileManager"],R(yc));Ib.prototype.setThumnail=function(a){this.thumnail_="http://t1.daumcdn.net/thumb/C364x304-620"+("-0@0.33x/?fname=/map/rvdrive"+a.split("suggest")[1].replace(/\.jpg/,"")+"_DV.jpg")};Ib.prototype.overRoadView_=function(){var a=this.roadviewPreview_=new Yc(this.thumnail_,"overRoadview");this.infoBody.scroll(jQuery.proxy(this.outRoadView_,
this));var b=this.roadview_.offset().left-7,c=this.roadview_.offset().top-4;a.setPosition(b,c);a.attach();a.onLeave.add(this.outRoadView_,this);a.onEmpty.add(this.outRoadView_,this);a.onClick.add(function(){this.onClick.notify(null)},this);this.enterFixTimer_=new bb(200,this.outRoadView_.bind(this));this.enterFixTimer_.start();a.onEnter.add(function(){this.enterFixTimer_.stop()},this);this.onOver.notify()};Ib.prototype.outRoadView_=function(){if(this.roadviewPreview_!=null){this.roadviewPreview_.detach();
this.roadviewPreview_=null;this.infoBody.off("scroll",this.outRoadView_);this.onLeave.notify(null)}};"use strict";define("controller/RoughMapFrameController",["dom/forefront","url"],R(function(a,b){var c="__daum$Rough"+(+new Date).toString(36);A[c]={onClose:function(){a.close();e=null},onSizeChanged:function(a){if(e){var b=+a.width;b<600&&(b=600);b=b+52;b>jQuery(A).width()&&(b=jQuery(A).width());a=+a.height;a<300&&(a=300);a=a+227+4;a>jQuery(A).height()-50&&(a=jQuery(A).height()-50);var d=e.$("frame");
e.css({width:b,height:a,marginLeft:-(b/2)});d.css({width:b,height:a});b=d[0].contentWindow||{};b[c]&&b[c].update&&b[c].update()}}};var d=b.EMBED_ROUGHMAP_URL,e=null;this.open=function(b){b.namespace=c;e=G("RoughMapFrame");b=d+"?"+jQuery.param(b);e.$("frame").attr("src",b);a.create(e,{dimmed:true})}}));$b.prototype.showMap_=function(){Application.keywordSearchController.getActive()&&Application.keywordSearchController.reset();Application.keywordSearchController.setActive(true);q.click("navi","menu_mapsearch");
require("log/Tiara").log("/fake/searchClick")};$b.prototype.showCarRoute_=function(){Application.flagSearchController.getActive()&&Application.flagSearchController.reset();Application.flagSearchController.setActive(true);q.click("navi","menu_route");require("log/Tiara").log("/fake/carRouteClick")};$b.prototype.showBus_=function(){Application.busSearchController.getActive()&&Application.busSearchController.reset();Application.busSearchController.setActive(true);q.click("navi","navi_bus");require("log/Tiara").log("/fake/busClick")};
$b.prototype.showSubway_=function(){Application.subwaySearchController.getActive()&&Application.subwaySearchController.reset_();Application.subwaySearchController.setActive(true);q.click("navi","menu_subway");require("log/Tiara").log("/fake/subwayClick")};$b.prototype.showFavorite_=function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(true);q.click("navi","menu_favorite");require("log/Tiara").log("/fake/favoriteClick")};
define("controller/SearchTabController",[],R($b));tb.prototype.add=function(a,b,c){a.onClick.add(this.click_,this);a.onEnter.add(function(){a.setActive(true)});a.onLeave.add(function(){a.setActive(false)});this.buttons_.push(a);this.values_.push(b);this.texts_.push(c);if(this.values_.length==0)this.value_=b};tb.prototype.click_=function(a){var b=this.buttons_.indexOf(a.currentPanel);this.setValue_(this.values_[b]);this.setText_(this.texts_[b]);this.notify_(a)};tb.prototype.getText=function(){return this.text_};
tb.prototype.setText_=function(a){this.text_=a};tb.prototype.getValue=function(){return this.value_};tb.prototype.setValue_=function(a){this.value_=a};tb.prototype.notify_=function(a){this.onChange.notify({value:this.getValue(),text:this.getText(),event:a})};define("controller/SpecialController",["params","controller/MainMapController","controller/KeywordSearchController","controller/RoadviewController"],R(function(a,b,c,d){var e=Date.now(),f=a.special;[{value:"2",expire:"",action:function(){c.recommendView_.selectItem(1);
b.themePoiControlView.setThemeToObject({type:"culture",sub:2})}},{value:"3",expire:"",action:function(){c.recommendView_.selectItem(2);b.themePoiControlView.setThemeToObject({type:"theme",sub:1})}},{value:"4",expire:"",action:function(){c.recommendView_.selectItem(0);d.show({coords:new daum.maps.Coords(792615,1135145),panoId:"1022311432",pan:25.7,tilt:2.5,zoom:-3},true)}}].forEach(function(a){f==a.value&&(e<+a.expire||a.expire=="")&&a.action()})}));cb.cityId={};cb.cateId={};cb.stationName={};cb.regionList=
[{cate:"11",id:"01",name:"\uc218\ub3c4\uad8c",label:"seoul",code:"su",cityid:"SES",lines:[{name:"1\ud638\uc120",id:"SES1",label:"line1",section:"\uc778\ucc9c,\uc2e0\ucc3d-\uc18c\uc694\uc0b0"},{name:"1\ud638\uc120",id:"SES31",section:""},{name:"1\ud638\uc120",id:"SES32",section:""},{name:"2\ud638\uc120",id:"SES2",label:"line2",section:"\uc2dc\uccad-\uc2dc\uccad"},{name:"2\ud638\uc120",id:"SES24",section:""},{name:"2\ud638\uc120",id:"SES25",section:""},{name:"3\ud638\uc120",id:"SES3",label:"line3",
section:"\uc624\uae08-\ub300\ud654"},{name:"4\ud638\uc120",id:"SES4",label:"line4",section:"\ub2f9\uace0\uac1c-\uc624\uc774\ub3c4"},{name:"5\ud638\uc120",id:"SES5",label:"line5",section:"\uc0c1\uc77c,\ub9c8\ucc9c-\ubc29\ud654"},{name:"6\ud638\uc120",id:"SES6",label:"line6",section:"\ubd09\ud654\uc0b0-\uc751\uc554"},{name:"7\ud638\uc120",id:"SES7",label:"line7",section:"\ubd80\ud3c9\uad6c\uccad-\uc7a5\uc554"},{name:"8\ud638\uc120",id:"SES8",label:"line8",section:"\ubaa8\ub780-\uc554\uc0ac"},{name:"9\ud638\uc120",
id:"SES9",label:"line9",section:"\uac1c\ud654-\uc885\ud569\uc6b4\ub3d9\uc7a5"},{name:"\uacbd\ucd98\uc120",id:"SES33",label:"line33",section:"\uad11\uc6b4\ub300,\uccad\ub7c9\ub9ac-\ucd98\ucc9c"},{name:"\uacbd\uc758\uc911\uc559\uc120",id:"SES26",label:"line26",section:"\uc6a9\ubb38-\ubb38\uc0b0"},{name:"\uacbd\uc758\uc911\uc559\uc120",id:"SES29",section:""},{name:"\uc778\ucc9c1\ud638\uc120",id:"SES22",label:"line22",section:"\uad6d\uc81c\uc5c5\ubb34\uc9c0\uad6c-\uacc4\uc591"},{name:"\uc778\ucc9c2\ud638\uc120",
id:"SES39",label:"line39",section:"\uac80\ub2e8\uc624\ub958-\uc6b4\uc5f0"},{name:"\ubd84\ub2f9\uc120",id:"SES23",label:"line23",section:"\uc218\uc6d0-\uc655\uc2ed\ub9ac"},{name:"\uacf5\ud56d\ucca0\ub3c4",id:"SES27",label:"line27",section:"\uc778\ucc9c\uad6d\uc81c\uacf5\ud56d-\uc11c\uc6b8\uc5ed"},{name:"\uc218\uc778\uc120",id:"SES35",label:"line35",section:"\uc624\uc774\ub3c4-\uc778\ucc9c"},{name:"\uc2e0\ubd84\ub2f9\uc120",id:"SES34",label:"line34",section:"\uac15\ub0a8-\uad11\uad50"},{name:"\uc758\uc815\ubd80\uacbd\uc804\ucca0",
id:"SES36",label:"line36",section:"\ubc1c\uace1-\ud0d1\uc11d"},{name:"\uc5d0\ubc84\ub77c\uc778",id:"SES37",label:"line37",section:"\uae30\ud765-\uc5d0\ubc84\ub79c\ub4dc"},{name:"\uc790\uae30\ubd80\uc0c1",id:"SES38",label:"line38",section:"\uc6a9\uc720-\uc778\ucc9c\uad6d\uc81c\uacf5\ud56d"},{name:"\uacbd\uac15\uc120",id:"SES40",label:"line40",section:"\ud310\uad50-\uc5ec\uc8fc"}]},{id:"21",name:"\ubd80\uc0b0",label:"pusan",flashlabel:"busan",code:"bs",cityid:"PSS",lines:[{name:"1\ud638\uc120",id:"PSS1",
label:"line1",section:"\ub178\ud3ec-\uc2e0\ud3c9"},{name:"2\ud638\uc120",id:"PSS2",label:"line2",section:"\uc591\uc0b0-\uc7a5\uc0b0"},{name:"3\ud638\uc120",id:"PSS3",label:"line3",section:"\ub300\uc800-\uc218\uc601"},{name:"4\ud638\uc120",id:"PSS4",label:"line4",section:"\ubbf8\ub0a8-\uc548\ud3c9"},{name:"\uacbd\uc804\ucca0",id:"PSS10",label:"line10",section:"\uac00\uc57c\ub300-\uc0ac\uc0c1"},{name:"\ub3d9\ud574\uc120",id:"PSS11",label:"line11",section:"\ubd80\uc804-\uc77c\uad11"}]},{id:"22",name:"\ub300\uad6c",
label:"daegu",code:"dg",cityid:"DGS",lines:[{name:"1\ud638\uc120",id:"DGS1",label:"line1",section:"\uc548\uc2ec-\uc124\ud654\uba85\uace1"},{name:"2\ud638\uc120",id:"DGS2",label:"line2",section:"\uc601\ub0a8\ub300-\ubb38\uc591"},{name:"3\ud638\uc120",id:"DGS3",label:"line3",section:"\uc6a9\uc9c0-\uce60\uace1\uacbd\ub300\ubcd1\uc6d0"}]},{id:"24",name:"\uad11\uc8fc",label:"kwangju",flashlabel:"gwangju",code:"kj",cityid:"KJS",lines:[{name:"1\ud638\uc120",id:"KJS1",label:"line1",section:"\ud3c9\ub3d9-\ub179\ub3d9"}]},
{id:"25",name:"\ub300\uc804",label:"daejeon",code:"dj",cityid:"DJS",lines:[{name:"1\ud638\uc120",id:"DJS1",label:"line1",section:"\ubc18\uc11d-\ud310\uc554"}]}];cb.regionList.forEach(function(a){cb.cityId[a.cityid]=a.id;cb.cateId[a.id]=a.cate||a.id;a.lines.forEach(function(a){cb.stationName[a.id]=a.name})});define("controller/SubwayController",["controller/WindowController"],R(cb));Ac.prototype.loadView=function(){var a=this.data_,b=this.panel_=new g("div");b.addClass("routeInfo");var c=new g("div",
"subInfo"),d=0;a.find("sectionRoutings").forEach(function(a){a.text("type")!="99"&&(d=d+(a.find("nodes").length-1))});c.addChild(new g("strong","number",d));c.addText("\uac1c\uc5ed");this.transCnt_=new g("span","trans");c.addChild(this.transCnt_);var e=new g("span","seperate","|");c.addChild(e);c.addText("\uc57d ");var e=a.text("totalTime"),f=Math.floor(e/60),e=f/60|0,f=f%60|0;if(e>0){c.addChild(new g("strong","number",""+e));c.addText("\uc2dc\uac04 ")}if(f>0){c.addChild(new g("strong","number",""+
f));c.addText("\ubd84 \uc18c\uc694")}b.addChild(c);c=new g("span","text","\uc694\uae08 : ");if(a.text("totalFare")>0){c.addText(a.text("totalFare")+"\uc6d0");c.addText(" (\uad50\ud1b5\uce74\ub4dc \uae30\uc900)");b.addChild(c)}else c.addText(a.text("\uc900\ube44\uc911"));b.addChild(new g("br"));c=new g("span","text","\uac70\ub9ac : ");c.addText(String.formatDistance(a.number("totalDist")));a.has("walkDist")&&c.addText(" (\ub3c4\ubcf4 "+String.formatDistance(a.number("walkDist"))+" \ud3ec\ud568)");
b.addChild(c)};Ac.prototype.setTrans=function(a){a!=0&&this.transCnt_.setText(" ("+a+"\ud68c \ud658\uc2b9)")};Ac.prototype.showMap_=function(a){this.onShowMap.notify(a);q.click("subway","route_mapview")};Ac.prototype.print_=function(a){this.onPrint.notify(a)};md.prototype.click_=function(){this.onClick.notify({id:this.name_,tiaraCode:this.tiaraCode_,panel:this.panel_})};Fa.prototype.didFrameResize_=function(a){this.w=a.innerWidth;this.h=a.innerHeight;this.ox=this.px-this.w/2;this.oy=this.py-this.h/
2;this.viewer_.setSize(a.innerWidth,a.innerHeight);this.updateImageSize()};Fa.prototype.onSubwayEnter=function(a){this.iw=this.ih=99999;this.sId=a.id;this.viewer_.show();this.w=this.viewer_.getElement().clientWidth;this.h=this.viewer_.getElement().clientHeight;this.imgPanel_.setSrc("http://t1.daumcdn.net/localimg/localimages/07/subwaystation/"+a.imgsrc);this.GRID[2]=this.w-40;this.GRID[3]=this.w-20;g.$("view.deco.horizontal").addClass("hideFrameEvent");g.$("view.deco.vertical").addClass("hideFrameEvent");
this.onEnter.notify()};Fa.prototype.onSubwayLeave=function(){this.hide();g.$("view.deco.horizontal").removeClass("hideFrameEvent");g.$("view.deco.vertical").removeClass("hideFrameEvent");this.onLeave.notify()};Fa.prototype.onMapImageLoad=function(){this.updateImageSize()};Fa.prototype.onWalkerGrab_=function(a){a.preventDefault();var b=a.target,c=b.ownerDocument;if(b.tagName!="SPAN")return this.onMapGrab_(a);if(a.which==1){jQuery(c).on("mousemove",jQuery.proxy(this.onWalkerDrag_,this)).one("mouseup",
this.onWalkerRelease_.bind(this));this.ax=a.screenX;this.ay=a.screenY;this.py=this.py-10;this.updateWalkerPosition()}};Fa.prototype.onWalkerDrag_=function(a){a.preventDefault();this.px=this.px+(a.screenX-this.ax);this.py=this.py+(a.screenY-this.ay);this.ax=a.screenX;this.ay=a.screenY;this.updateWalkerPosition();for(a=0;a<this.GRID.length;++a)if(this.px<this.ox+this.GRID[a]){this.vx=this.WEIGHT[a];break}for(a=0;a<this.GRID.length;++a)if(this.py<this.oy+this.GRID[a]){this.vy=this.WEIGHT[a];break}!this.panTimer&&
(this.vx||this.vy)?this.panTimer=setInterval(this.panInvoker.bind(this),50):this.panTimer&&(!this.vx&&!this.vy)&&this.releasePanTimer()};Fa.prototype.panInvoker=function(){this.ox=this.ox+this.vx;this.oy=this.oy+this.vy;if(this.ox>0&&this.ox<this.iw-this.w)this.px=this.px+this.vx;if(this.oy>0&&this.oy<this.ih-this.h)this.py=this.py+this.vy;this.updateMapPosition()};Fa.prototype.releasePanTimer=function(){if(this.panTimer){clearInterval(this.panTimer);this.panTimer=0}};Fa.prototype.onWalkerRelease_=
function(a){a.preventDefault();jQuery(a.target.ownerDocument).off("mousemove",this.onWalkerDrag_);this.releasePanTimer();this.request()};Fa.prototype.onMapGrab_=function(a){a.preventDefault();if(a.which==1){jQuery(a.target.ownerDocument).on({mousemove:jQuery.proxy(this.onDrag_,this),mouseup:jQuery.proxy(this.onRelease_,this),mouseout:jQuery.proxy(this.onRelease_,this)});this.ax=a.screenX;this.ay=a.screenY;this.tol=true}};Fa.prototype.onDrag_=function(a){a.preventDefault();if(this.tol&&Math.abs(a.screenX-
this.ax)>2&&Math.abs(a.screenY-this.ay))this.tol=false;if(!this.tol){this.ox=this.ox+(this.ax-a.screenX);this.oy=this.oy+(this.ay-a.screenY);this.ax=a.screenX;this.ay=a.screenY;this.updateMapPosition()}};Fa.prototype.onRelease_=function(a){a.preventDefault();doc=a.target.ownerDocument;if(this.tol){var b=a.pageX,a=a.pageY,c=this.viewer_.getPosition();this.px=this.ox+b-c.x;this.py=this.oy+a-c.y;this.request()}jQuery(doc).off({mousemove:this.onDrag_,mouseup:this.onRelease_,mouseout:this.onRelease_})};
Fa.prototype.request=function(){uc.getNearestPanoId(new daum.maps.Point(this.px*this.SCALE|0,this.py*this.SCALE|0),this.sId,this.setPanorama.bind(this),this)};Fa.prototype.setPanorama=function(a){a&&this.onChangedPanorama.notify(a)};Fa.prototype.onSubwayMove=function(a){this.px=a.point.x/this.SCALE;this.py=a.point.y/this.SCALE;this.ox=this.px-this.w/2;this.oy=this.py-this.h/2;this.updateMapPosition()};Fa.prototype.updateMapPosition=function(){this.ox=Math.max(0,Math.min(this.ox,this.iw-this.w));this.oy=
Math.max(0,Math.min(this.oy,this.ih-this.h));this.imgPanel_.setPosition(-this.ox,-this.oy);this.updateWalkerPosition()};Fa.prototype.updateWalkerPosition=function(){this.walkerPanel_.setPosition(this.px-this.ox,this.py-this.oy)};Fa.prototype.updateWalkerDirection=function(){for(var a=0;a<16;++a)this.walkerPanel_.removeClass("s"+a);this.walkerPanel_.addClass("s"+this.direction_)};Fa.prototype.onWalkerRotate=function(a){a=(a+11.25)/22.5%16|0;if(a!=this.direction_){this.direction_=a;this.updateWalkerDirection()}};
Fa.prototype.updateImageSize=function(){this.imgPanel_.getElement();this.iw=this.imgPanel_.getSize().width;this.ih=this.imgPanel_.getSize().height;this.updateMapPosition()};Fa.prototype.show=function(){this.viewer_.show()};Fa.prototype.hide=function(){this.viewer_.hide()};define("controller/SubwaySearchController","manager/ViewLayout controller/WindowController controller/SubwayController controller/SubwaySearchViewController view/SubwayRouteResultView controller/HistoryController".split(" "),R(function(a,
b,c,d,e,f){function h(a){m();var b=D.indexOf(a.currentPanel);v=b;ea.find("li").each(function(a){jQuery(this).toggleClass("ACTIVE",a==b)});r=a=K[b];r=="01"?z.show():z.hide();if(d.getRegionId()!=a){d.setRegionId(a);c.setRegionId(a);g.$("info.subway").show()}}function j(a){if(w=a){require("log/Tiara").log("/fake/subway_subwayLinemapSearchResult");e.setData(a);c.setToolbarVisible(true)}else{alert("\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4");n()}}function l(a){if(x)a.panel.setActive(false);else if(B==
a.panel){c.clearSubwayLine();a.panel.setActive(false);B=null}else{c.displaySubwayLine(a.id);o();B=a.panel;a.panel.setActive(true);q.click("subwaybody",a.tiaraCode)}}function k(a){var b=D.indexOf(a.currentPanel),a=P[b]||P[0],b=K[b]||K[0];if(C!=b){c.clearObject();c.setRegionId(b);r=b;c.setObject("subway/linemap/"+a+"SubwayFlash.swf");C&&require("log/Tiara").log("/fake/subway_region_"+a);C=b}}function n(){g.$("info.subway").show();g.$("info.subway.intro").show();o();F.removeClass("expressTrain");E.removeClass("legendExpressTrain");
x=false;c.clearSubwayLine();c.initSubwayFlash();c.setToolbarVisible(false);c.initSubway();u=false;w=null}function m(){n();d.clear();d.updateTime()}function o(){if(B){B.setActive(false);B=null}}Q(this,mb);var p=null,s=null,v=0,r=1,u=false,w=null;this.searchController=d;this.controller=c;var D=this.LEGEND_BUTTON=[],P=this.FLASH_NAME=[],K=this.CITY_CODE=[];this.onActive.add(function(){if(this.getActive()){Application.roadviewController.close();jQuery("#info\\.subway\\.searchBox").show();g.$("info.subway").show();
a.setSubwayOnly();F.show();u?c.setToolbarVisible(true):d.updateTime();(!c.getStartStationName()||!c.getEndStationName())&&D[v].show();document.body.className=document.body.className;A.__daumNOFLASH&&(!swfobject||!swfobject.ableflash)&&alert("\ubaa8\ubc14\uc77c\uc5d0\uc11c\ub294 \uc9c0\ud558\ucca0 \ub178\uc120\ub3c4\uac00 \uc81c\uacf5 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4")}else{jQuery("#toolList\\.copylist").removeClass("subway");jQuery("#localInfo\\.map").show();F.hide();c.setToolbarVisible(false)}},
this);d.onShowRoute.add(function(a){u=true;c.setStartStationId(a.sid);c.setStartStationName(a.sname);c.setStartCoords(new daum.maps.Coords(a.sx,a.sy));c.setEndStationId(a.eid);c.setEndStationName(a.ename);c.setEndCoords(new daum.maps.Coords(a.ex,a.ey));o();var b={fromStationId:a.sid,toStationId:a.eid,dailyType:a.dailyType,routingType:a.routingType,time:a.time};q.click("subway","route_search");t.log("search_path_subway",decodeURIComponent(a.sname)+","+decodeURIComponent(a.ename),{qt:d.regionName[d.REGION_ID.indexOf(r)]});
Wc.findRoute(b,j);a=jQuery.extend({},a,{subwayRegion:d.getRegionId()});f.addSubwayRoute(f.TYPE_LIST.SUBWAY,a)});d.onChangeRoute.add(function(){c.initSubwayFlash()});c.onSubwayName.add(function(a){f.addSubwayStationName(f.TYPE_LIST.SUBWAY_STATION_NAME,a);d.setStationObject(a)});c.setRegionId(d.getRegionId()||"01");c.onLoad.add(function(){if(p){if(s){d.setBoxOptions(s);s=null}d.findOriginDestStation(p.start,p.end,p.startId,p.endId);p=null}});c.onRouteFirstLoad.add(function(){u=true});c.onClearSubway.add(function(){m()});
c.onClearSubwayLine.add(function(){o()});c.onResetQuickLineEvent.add(function(){F.removeClass("expressTrain");E.removeClass("legendExpressTrain");x=false});e.onSelected.add(function(a){w&&c.drawRoute(w.startStationId,w.endStationId,w.raw.routes[a])});var U=new Ra;U.onChange.add(function(){var a=K[U.getIndex()];c.setRegionId(a);m()});var E=g.$("subwayLegend"),Z=g.$("info.subway.region"),F=jQuery("#localInfo\\.subway\\.searchBox"),ea=jQuery("#localInfo\\.subway\\.searchBox\\.region"),z=F.find(".subwayExpress"),
x=false;z.on("click",function(){if(x=!x){F.addClass("expressTrain");E.addClass("legendExpressTrain");q.click("subway","expresstrain")}else{F.removeClass("expressTrain");E.removeClass("legendExpressTrain")}c.clearSubwayLine();if(B){B.setActive(false);B=null}c.showQuickLine(x)});cb.regionList.forEach(function(a,b){var c=new g("ul",a.label);a.lines.forEach(function(b){if(b.label){var d=new g("li",b.label);d.addClass(b.label+"-INACTIVE");lineTitle=new g("a");lineTitle.setText(b.name);d.addChild(lineTitle);
d.setTitle(b.section);c.addChild(d);var e=b.id.replace(/\D/g,"");(new md(d,b.id,a.code+(e.length>1?e:"0"+e))).onClick.add(l)}});E.addChild(c);D.push(c);P.push(a.flashlabel||a.label);K.push(a.id);var d=new g("li",a.label),e=new g("a");e.setText(a.name+"\uc9c0\ud558\ucca0");d.addChild(e);d.addClass(a.label+"-INACTIVE");d.onClick.add(function(){q.click("subway",a.label+"_navi")});Z.addChild(d);U.add(d,c);c.onShow.add(h);c.onShow.add(k);c.hide();d=new jQuery('<li class="'+a.label+'"><a href="#">'+a.name+
"\uc9c0\ud558\ucca0</a></li>");d.on("click",function(){q.click("subway",a.label);U.setIndex(b)});ea.append(d)});jQuery("#info\\.subway\\.remove").on("click",function(){m();q.click("subway","delete")});var B=null,J=new jQuery("<iframe>");J.addClass("saveFrame HIDDEN");jQuery("body").append(J);this.infoRoute=jQuery("#info\\.subway\\.intro");new fd(f,this.infoRoute,true,function(a){a||this.infoRoute.html('<p class="intro subway"></p>')}.bind(this));var C="";this.setRegion=function(a){v=a};this.scrap_=
function(){var a=A.encodeURIComponent(c.getStartStationName()||""),b=A.encodeURIComponent(c.getEndStationName()||""),d=A.encodeURIComponent(c.getStartStationId()||""),e=A.encodeURIComponent(c.getEndStationId()||""),f=c.getRegionId();Ua("",680,598,{name:"subwayScrap"});var h=document.subway_scrap_form;h.cityCode.value=f;h.STARTNAME.value=a?a:"";h.ENDNAME.value=b?b:"";h.STARTID.value=d?d:"";h.ENDID.value=e?e:"";h.method="post";h.action="./subway/subwayLinemapLink";h.target="subwayScrap";h.submit();
q.click("subway","url")};this.createUrl=function(){var a=c.getStartStationName()||"",b=c.getEndStationName()||"",e=c.getStartStationId()||"",f=c.getEndStationId()||"",h=d.getRegionId(),j=d.getBoxOptions();return{REGION:h,STARTNAME:a,ENDNAME:b,STARTID:e,ENDID:f,routingType:j.routingType,dailyType:j.dailyType,time:j.time,URLLINK:true,target:"subway"}};this.save_=function(){var a=c.getRegionId();J.attr("src","subway/subwayLinemapSave?cityCode="+a);q.click("subway","save")};this.print_=function(){c.printPopup(void 0);
q.click("subway","print")};this.reset_=function(){m()};this.setBoxOptions=function(a){c.isLoaded()?d.setBoxOptions(a):s=a};this.findRouteByName=function(a,b,e,f){D[v].show();c.isLoaded()||A.__daumNOFLASH?d.findOriginDestStation(a,b,e,f):p={start:a,end:b,startId:e,endId:f}}}));define("controller/SubwaySearchViewController",["controller/SubwayController","manager/MapSuggest","controller/HistoryController"],R(function(a,b,c){function d(a){var b=a[0].replace(/\([\W\w]*\)/,"").trim(),c=a[1],d=a[3],c=b+
(c?" "+c:""),a=new Ga({id:d,coords:new daum.maps.Coords(a[5],a[6]),simpleName:b}),a=v(a);a.fullName=c;return{id:d,fullName:c,data:a}}function e(){M.find(".suggestBox").css({display:"none"});k()}function f(){ia.find(".suggestBox").css({display:"none"});var a=I.val();if(a){p(a,"dest");da.focusAndSelect()}else n("\ub3c4\ucc29\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",I)}function h(a){J.setKeyword(a);a?H.show():H.hide();Z.toggleClass("PLACEHOLDER",!a)}function j(a){C.setKeyword(a);a?ga.show():
ga.hide();F.toggleClass("PLACEHOLDER",!a)}function l(){ca.closeAll();var b=a.getCateByRegionId(ma);J.setUrl(z.ETC_SUGGEST+"?cate=SUBN-"+b);C.setUrl(z.ETC_SUGGEST+"?cate=SUBN-"+b);J.setSubwayAreacode(ma);C.setSubwayAreacode(ma);A.setSubwayAreacode(ma);G.setSubwayAreacode(ma)}function k(){var a=V.val();if(a){p(a,"origin");I.focusAndSelect()}else n("\ucd9c\ubc1c\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",V)}function n(a,b){setTimeout(function(){b.focusAndSelect();a&&alert(a)},100)}function y(b,
c,e){c=c.trim().split(" ")[0];if(b&&c){var f=a.getCateByRegionId(ma);require("server").suggestEtc({mod:"json",cate:"SUBN-"+f,q:c},function(a){a.find("items")&&a.find("items").some(function(a){a=d(a.text("value").split("|"));if(!e||a.id===e){b==="origin"?r(a.data):u(a.data);return true}})})}}function o(a,b){var c=null;a.some(function(a){if(a.fullName===b){c=a;return true}});return c}function p(a,b){var c,d;if(b==="origin"){c=x;d=r}else{c=B;d=u}(c=o(c,a))?d(c):y(b,a)}function s(b,c,e,f){b=b.trim().split(" ")[0];
c=c.trim().split(" ")[0];if(b)if(c){var h=a.getCateByRegionId(ma);require("server").suggestEtc({mod:"json",cate:"SUBN-"+h,q:b},function(a){if(a.find("items")){a.find("items").some(function(a){a=d(a.text("value").split("|"));if(!e||a.id===e){r(a.data);return true}});y("dest",c,f)}})}else n("\ub3c4\ucc29\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",I);else n("\ucd9c\ubc1c\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",V)}function v(a){if(a){var b=new Ea;b.id=a.text("id");b.coords=new daum.maps.Coords(a.number("x"),
a.number("y"));b.name=a.text("simpleName");return b}return false}function r(a){if(ha=a){c.addSubwayStationName(c.TYPE_LIST.SUBWAY_STATION_NAME,{type:"origin",fullName:ha.fullName,name:ha.name,stationId:ha.id,regionId:ma});h(ha.name);ha&&ka&&P()}else{n("\ucd9c\ubc1c\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",V);V.hasClass("PLACEHOLDER")||t.log("search_subway_start_empty",V.val(),{qt:L[na.indexOf(ma)]})}}function u(a){if(ka=a){c.addSubwayStationName(c.TYPE_LIST.SUBWAY_STATION_NAME,
{type:"dest",fullName:ka.fullName,name:ka.name,stationId:ka.id,regionId:ma});j(ka.name);ha&&ka?P():k()}else{n("\ub3c4\ucc29\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",I);I.hasClass("PLACEHOLDER")||t.log("search_subway_end_empty",I.val(),{qt:L[na.indexOf(ma)]})}}function w(){V.hasClass("PLACEHOLDER")?n("\ucd9c\ubc1c\uc5ed \uc785\ub825\ud574\uc8fc\uc138\uc694.",V):I.hasClass("PLACEHOLDER")?n("\ub3c4\ucc29\uc5ed \uc785\ub825\ud574\uc8fc\uc138\uc694.",I):s(ha.name,ka.name,ha.id,ka.id)}
function D(a){Y.removeClass("hourList").show();Q.children().remove();if(a=="option"){Q.css({width:76,left:81});[Ha,X,N,T,S].forEach(function(a){Q.append(jQuery('<li><a href="#">'+a+"</a></li>"))})}else if(a=="day"){Q.css({width:76,left:0});[za,R,Ia].forEach(function(a){Q.append(jQuery('<li><a href="#">'+a+"</a></li>"))})}else if(a=="hour"){Q.css({width:64,left:162});Q.addClass("hourList");for(a=0;a<24;a++)Q.append(jQuery('<li><a href="#">'+(a<10?"0":"")+a+"\uc2dc</a></li>"))}else if(a=="minute"){Q.css({width:64,
left:231});for(a=0;a<60;a=a+5)Q.append(jQuery('<li><a href="#">'+(a<10?"0":"")+a+"\ubd84</a></li>"))}}function P(){Y.hide();if(!ha||!ka)n("\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",I);else if(ha.id==ka.id)n("\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed\uc774 \ub3d9\uc77c\ud569\ub2c8\ub2e4.",V);else{var a=va[ba.text()],b=ua[ja.text()],c=qa.text().replace("\uc2dc",":")+ta.text().replace("\ubd84",":")+"00",a={sid:ha.id,eid:ka.id,sname:ha.name,
sfullname:ha.fullName,ename:ka.name,efullname:ka.fullName,sx:ha.coords.getX(),sy:ha.coords.getY(),ex:ka.coords.getX(),ey:ka.coords.getY(),dailyType:b,routingType:a,time:c,endChecked:$};K.notify(a);H.show();ga.show()}}var K=this.onShowRoute=new m,U=this.onChangeRoute=new m,E=jQuery("#info\\.subway\\.searchBox"),Z=jQuery("#info\\.subway\\.searchBox\\.originForm"),F=jQuery("#info\\.subway\\.searchBox\\.destForm"),ea=jQuery("#info\\.subway\\.searchBox\\.submit");Z.on("submit",e);F.on("submit",f);ea.on("click",
gb(500,w).trigger);var z=require("url"),x=[],B=[],J=new b({id:"info.subway.searchBox.origin",itemParser:function(a){var b=v(new Ga(a));b.fullName=a.fullName;x.push(b);return[a.fullName,a.fullName]},onSubmit:e,onSubmitHistory:function(a){a.trigger("click")},logKey:"subwaysuggest_start"}),A=new Yb(c,c.TYPE_LIST.SUBWAY_STATION_NAME,J,true);A.onItemClick.add(function(a){y("origin",a.name,a.key)});var C=new b({id:"info.subway.searchBox.dest",itemParser:function(a){var b=v(new Ga(a));b.fullName=a.fullName;
B.push(b);return[a.fullName,a.fullName]},onSubmit:f,onSubmitHistory:function(a){a.trigger("click")},logKey:"subwaysuggest_end"}),G=new Yb(c,c.TYPE_LIST.SUBWAY_STATION_NAME,C,true);G.onItemClick.add(function(a){y("dest",a.name,a.key)});var L=this.regionName=[],na=this.REGION_ID=[];cb.regionList.forEach(function(a){na.push(a.id);L.push(a.name)});var V=jQuery("#info\\.subway\\.searchBox\\.origin"),M=jQuery("#info\\.subway\\.searchBox\\.originBox"),H=jQuery("#info\\.subway\\.searchBox\\.originDelete");
V.on("focus",function(){ca.closeAll();M.addClass("originFocus");Z.removeClass("PLACEHOLDER")}).on("blur",function(){M.removeClass("originFocus");ha&&h(ha.name);if(V.val()){H.show();Z.removeClass("PLACEHOLDER")}else{H.hide();Z.addClass("PLACEHOLDER")}});H.on("click",function(){h("");V.focusAndSelect()});M.find(".op").on("click",function(){V.focusAndSelect()});var I=jQuery("#info\\.subway\\.searchBox\\.dest"),ia=jQuery("#info\\.subway\\.searchBox\\.destBox"),ga=jQuery("#info\\.subway\\.searchBox\\.destDelete");
I.on("focus",function(){ca.closeAll();ia.addClass("destFocus");F.removeClass("PLACEHOLDER")}).on("blur",function(){ia.removeClass("destFocus");ka&&j(ka.name);if(I.val()){ga.show();F.removeClass("PLACEHOLDER")}else{ga.hide();F.addClass("PLACEHOLDER")}});ga.on("click",function(){j("");I.focusAndSelect()});ia.find(".dp").on("click",function(){I.focusAndSelect()});var ma="01",ha=null,ka=null;jQuery("#info\\.subway\\.searchBox\\.to").on("click",function(){var a=ha;ha=ka;ka=a;ha||(ha={name:""});ka||(ka=
{name:""});h(ha.name);j(ka.name);ha.name&&ka.name&&s(ha.name,ka.name,ha.id,ka.id);U.notify()});var za="\ud3c9\uc77c",R="\ud1a0\uc694\uc77c",Ia="\ud734\uc77c",Ha="\ucd9c\ubc1c\uc2dc\uac04",X="\ub3c4\ucc29\uc2dc\uac04",N="\uccab\ucc28\ubcf4\uae30",T="\ub9c9\ucc28\ubcf4\uae30",S="\uc124\uc815\uc5c6\uc74c",W=E.find(".options"),O=null,Q=jQuery("#info\\.subway\\.searchBox\\.listBox"),Y=ca.$("info.subway.searchBox.listBox");Y.hide();Q.on("click",function(a){a=jQuery(a.target);if(a[0].tagName=="LI"||a[0].tagName==
"A"){text=a.text();O.find(".text").text(text);O.focus();if(O==aa){text==N||text==S?W.addClass("noTimeBase"):W.removeClass("noTimeBase");if(text==T){E.addClass("endChecked");$=true}else{E.removeClass("endChecked");$=false}}Y.hide();if(va[text]){a=va[text];a.toLowerCase&&q.click("subway","routetype_"+a.toLowerCase())}}});var $=false;E.find(".endCheck").on("click",function(){$=!$;E.toggleClass("endChecked",$);if($){ba.text(T);q.click("subway","lasttrain")}else{ba.text(Ha);W.removeClass("noTimeBase")}var a=
V.hasClass("PLACEHOLDER")?"":V.val(),b=I.hasClass("PLACEHOLDER")?"":I.val();a&&b&&w()});Y.onHide.add(function(){if(O){O.removeClass("optionBox-ACTIVE");O.removeClass("optionSmallBox-ACTIVE")}O=null});var aa=jQuery("#info\\.subway\\.searchBox\\.optionBox"),ba=aa.find(".text");Y.noCloseUIPanel(g.$("info.subway.searchBox.optionBox"));aa.on("click",function(){if(O==aa)Y.hide();else{Y.hide();O=aa;aa.addClass("optionBox-ACTIVE");aa.after(Q);D("option")}});var da=jQuery("#info\\.subway\\.searchBox\\.dayBox"),
ja=da.find(".text");Y.noCloseUIPanel(g.$("info.subway.searchBox.dayBox"));da.on("click",function(){if(O==da)Y.hide();else{Y.hide();O=da;da.addClass("optionBox-ACTIVE");da.after(Q);D("day")}});var la=jQuery("#info\\.subway\\.searchBox\\.hourBox"),qa=la.find(".text");Y.noCloseUIPanel(g.$("info.subway.searchBox.hourBox"));la.on("click",function(){if(!$&&!W.hasClass("noTimeBase"))if(O==la)Y.hide();else{Y.hide();O=la;la.addClass("optionSmallBox-ACTIVE");la.after(Q);D("hour")}});var pa=jQuery("#info\\.subway\\.searchBox\\.minuteBox"),
ta=pa.find(".text");Y.noCloseUIPanel(g.$("info.subway.searchBox.minuteBox"));pa.on("click",function(){if(!$&&!W.hasClass("noTimeBase"))if(O==pa)Y.hide();else{Y.hide();O=pa;pa.addClass("optionSmallBox-ACTIVE");pa.after(Q);D("minute")}});var ua={"\ud3c9\uc77c":"WEEKDAY","\ud1a0\uc694\uc77c":"SATURDAY","\ud734\uc77c":"HOLIDAY"},va={"\ucd9c\ubc1c\uc2dc\uac04":"TimeBase","\ub3c4\ucc29\uc2dc\uac04":"ArrTimeBase","\uccab\ucc28\ubcf4\uae30":"FirstTrain","\ub9c9\ucc28\ubcf4\uae30":"LastTrain","\uc124\uc815\uc5c6\uc74c":"NonTimeBase"};
this.setPrefixKeyword=function(){l()};this.getRegionId=function(){return ma};this.setRegionId=function(a){ma=a;l()};this.findOriginDestStation=function(a,b,c,d){s(a,b,c,d)};this.setStationObject=function(a){a.name&&y(a.type,a.name,a.stationId)};this.updateTime=function(){W.removeClass("noTimeBase");E.removeClass("endChecked");$=false;var a=new Date;ba.text(Ha);var b=a.getDay(),c=a.getHours(),a=a.getMinutes(),a=5*Math.ceil(a/5);if(a==60){a=0;c++}if(c==24){c=0;b++}b==7&&(b=0);b==6?ja.text(R):b==0?ja.text(Ia):
ja.text(za);qa.text((c<10?"0":"")+c+"\uc2dc");ta.text((a<10?"0":"")+a+"\ubd84")};this.clear=function(){ka=ha=null;l();h("");j("")};this.getBoxOptions=function(){var a=va[ba.text()],b=ua[ja.text()],c=qa.text().replace("\uc2dc","_")+ta.text().replace("\ubd84","");return{routingType:a,dailyType:b,time:c}};this.setBoxOptions=function(a){for(var b in va)if(va[b]==a.routingType){ba.text(b);if(b==N||b==S)W.addClass("noTimeBase");else if(b==T){E.addClass("endChecked");$=true}break}for(b in ua)if(ua[b]==a.dailyType){ja.text(b);
break}if(a.time){a=a.time.split("_");a[0]&&qa.text(a[0]+"\uc2dc");a[1]&&ta.text(a[1]+"\ubd84")}}}));Ra.prototype.togglable_=!1;Ra.prototype.setTogglable=function(a){this.togglable_=a};Ra.prototype.add=function(a,b){if(!this.togglable_&&this.button_.length==0){a&&a.setActive(true);b.show()}else{a&&a.setActive(false);b.hide()}this.button_.push(a);this.panel_.push(b);a&&a.onClick.add(this.clickButton_,this);b.onShow.add(this.showPanel_,this)};Ra.prototype.setIndex=function(a){var b=this.panel_[a],c=
!this.togglable_||!b.getVisible();b.setVisible(c);this.button_[a].setActive(c);this.onChange.notify(a);this.index_=a};Ra.prototype.clickButton_=function(a){this.setIndex(this.button_.indexOf(a.currentPanel))};Ra.prototype.showPanel_=function(a){for(var a=a.currentPanel,b=0,c=this.panel_.length;b<c;++b)if(a==this.panel_[b]){this.button_[b]&&this.button_[b].setActive(true);this.index_=b}else{this.button_[b]&&this.button_[b].setActive(false);this.panel_[b].hide()}};Ra.prototype.getIndex=function(){return this.index_};
"use strict";define("controller/ThemeMapController",["map/Map","view/ThemeMapView","view/ThemeMapPlaceView","themeKeywords"],R(function(a,b,c){function d(){if(!g){h.show();if(k){b.update();b.show();c.hide()}else{b.hide();c.show()}g=true}}function e(){h.hide();g=false;b.hide();c.hide()}function f(a){k=false;b.hide();b.setThemeId(a);c.setThemeId(a);c.show();jQuery("#info\\.body").scrollTop(0)}var h=jQuery("#info\\.thememap"),j=false,g=false,k=true;this.getActive=function(){return j};this.setActive=
function(a){k=true;a?d():e();j=a};this.setHideActive=function(a){(j=a)&&b.update()};this.show=function(){d()};this.hide=function(){e()};this.getActiveThemeId=function(){return!k?c.getThemeId():false};b.onThemeClick.add(f);c.onThemeMore.add(function(){k=true;c.hide();b.update();b.show();jQuery("#info\\.body").scrollTop(0)});c.onThemeClick.add(f);this.setThememapId=function(a){c.setNoJump();f(a)};this.setThememapIdWithJump=function(a){a&&f(a)};this.setSelectedThememapId=function(a){c.setSelectedId(a)};
this.setThememapPlaces=function(a){b.setThememapPlaces(a);c.setThememapPlaces(a)}}));"use strict";define("controller/ThemeMapSearchController",["map/Map","view/ThemeMapItemView","model/ThemeMapItem","themeKeywords","controller/ThemeMapController"],R(function(a,b,c,d,e){function f(a){k.empty();g.show();a.forEach(function(a){a=new c(a);(new b(a,k)).onClick.add(function(a){jQuery("#info\\.main").hide();e.setActive(true);e.setThememapId(a);n.notify()})})}function h(a){j.length=0;var b=d[a]||[];if(b.length!=
0){jQuery("#info\\.search\\.theme\\.cnt").text(b.length);require("server").thememapList({sort:"RECENT",page:0},function(a){var c=a.find("themeList");b.forEach(function(a){var b=c.filter(function(b){return b.text("themeId")==a});j=j.concat(b)});f(j)})}}var j=[],g=jQuery("#info\\.search\\.theme"),k=jQuery("#info\\.search\\.themeList"),n=this.onClick=new m;this.setKeyword=function(a){h(a)};this.reset=function(){k.empty();g.hide()}}));"use strict";define("controller/ThemePoiMarkerController",["map/Map",
"map/InfoWindowManager","map/MiniTooltipManager"],R(function(a,b,c){function d(a){if(a&&y){a=b.createPlace(a,y);b.onClose.add(function(){y=null});a.onClose.add(function(){y=null})}}function e(a){a&&y&&Application.infoWindowManager.createBusStop(a,null,null,y)}function f(){j.forEach(function(a){a.setMap(null)});j.length=0;c.clear()}function h(){if((k||n)&&n){g.setBounds(a.getBounds());n=="busStop"?g.setThemeBusStopMode():g.setThemeId(n)}}var j=[],g=new x,k="",n="",y=null,o=this.onShow=new m;g.onChange.add(function(){if(k||
n){f();var b=g.places;if(n=="busStop")b=g.busStops;b.forEach(function(b){var f=z.createThemeMarker(k,b.coords);if(f){f.setMap(a);if(b){f.onClick.add(function(){c.close();y=f;n=="busStop"?Y.find(b.id,e):ja.findPlace(b.id,d);q.click("dotsearch","markerclick")},this);if(k=="oil"&&b.gas&&b.gas.timestampText){var h=c.createGas(b);f.onOver.add(function(){h.bringToFront()});f.onOut.add(function(){h.sendToBack()})}else{f.onOver.add(function(){if(y!=f){var a=null;switch(k){case "bus":a=c.createPOIBusStop;
break;case "food":a=c.createRating;break;default:a=c.createTheme}a(b);c.open();o.notify()}},this);f.onOut.add(function(){c.close()},this)}}j.push(f)}})}});var p=gb(250,h).trigger,s=new daum.maps.Coords(685487,813958);this.setTheme=function(b){k=b.type;n=b.id;if(k=="theme"||n=="c842"){a.setLevel(12);a.setCenter(s);k=="theme"&&(k=n)}h();daum.maps.event.addListener(a,"idle",p)};this.clearTheme=function(){f();n=k=null;daum.maps.event.removeListener(a,"idle",p)}}));define("controller/TransitRouteController",
["map/Map","controller/KeywordSearchController","map/InfoWindowManager","controller/RoadviewController"],R(function(a,b,c,d){function e(a){if(D){u.setActiveRouteItemView(D,false);w.setActiveOverlay(D,false)}if(a){u.setActiveRouteItemView(a,true);w.setActiveOverlay(a,true);D=a}else D=null}function f(a,b){u.setHighlightRouteItemView(a,b);w.setHighlightOverlay(a,b)}function h(){w.setClickable(false)}function j(){w.setClickable(true)}function g(){r.buildPaths();Application.map.setBounds(r.bounds);w=Gd(r.points,
a);w.onWalkMarkerClick.add(function(b){var c=null,c=typeof b.index=="object"?r.points[b.index.index]:r.points[b.index];o(c,b.index);if(c.isInterPoint){a.setLevel(3);c.vehicleType==C.TRANSFER_PUBLICTRAFFIC?a.setCenter(c.publicSteps[b.index.stepIdx].coords):a.setCenter(c.coords)}else{var d=c.walkGroup.points;a.setLevel(3);if(b.sub==null)if(d.length==0&&c.walkGroup.walkGuide)s(b.index);else{w.setWalkDetailMarker(b.index,d);a.setCenter(c.coords);return}else{p(b,d);a.setCenter(d[b.sub].coords)}u.setActiveRouteItem()}});
w.onOver.add(function(a){f(a,true)});w.onOut.add(function(a){f(a,false)});w.onExpand.add(function(b){var c=null,d=null;if(typeof b=="object"){c=r.points[b.index];d=b.stepIdx}else c=r.points[b];a.setLevel(3);if(d!=null&&c.vehicleType==C.TRANSFER_PUBLICTRAFFIC)Application.map.setCenter(c.publicSteps[d].coords);else{var e=c.targetPath;Application.map.setCenter(d==1?e[e.length-1]:e[0]||c.coords)}o(c,b)});w.onClose.add(function(){E=null});var b=r.totalPaths,c=b[0],b=b[b.length-1],d=Application.flagSearchController.getWaypoints(),
e=d[0].coords,d=d[d.length-1].coords;K=new daum.maps.Polyline(P);K.setPath([e,c]);U=new daum.maps.Polyline(P);U.setPath([b,d]);K.setMap(a);U.setMap(a)}function k(b,d){var e=c.createBusStopRoute(b,d);e.onBusStopClick.add(function(){Y.find(b.busStop.id,function(d){a.setCenter(d.coords);a.setLevel(3);var e=null,f=null;if(b.vehicles.length===1){e=b.vehicles[0].id;f=b.vehicles[0].startOrder}c.createBusStop(d,e,f)})});return e}function n(a,b){var d=null;return d=a.type==N.OTHER?c.createIntercityInfo(a,
a.walkPath[0],b):c.createWalkPointGroupInfo(a,a.walkPath[0],b)}function m(a,b,d){var e=null,e=a.targetPath;return e=!b.stepIdx||b.stepIdx==0?c.createIntercityInfo(a,e[0],d):c.createIntercityInfo(a,e[e.length-1],d,true)}function o(b,f){w.hideTransitMediumTooltip(f);e({index:f,sub:null});E!=null&&E!=f&&w.showTransitMediumTooltip(E);var h={x:0,y:9},j=null,g=b.isInterPoint&&typeof f=="object"?true:false;f.stepIdx!=void 0&&(b.isInterPoint&&b.vehicleType==C.TRANSFER_PUBLICTRAFFIC)&&(b=b.publicSteps[f.stepIdx]);
if(b.action==N.DEPARTURE||b.action==N.ARRIVAL)j=c.createStartEndPointInfo(b,{x:20,y:27});else if(b.action==N.MOVE)j=n(b,h);else{j=b.isInterPoint?m(b,f,h):b.type=="BUS"?k(b,h):c.createSubwayTooltip(b,h);j.onCollapse.add(function(){w.showTransitMediumTooltip(f)});E=f}j.onCloseBtn&&j.onCloseBtn.add(function(){E=null;c.closeWithoutNotify()});var l=null,u=null;if(g){l=w.getInterPrevIndex(f);u=w.getInterNextIndex(f)}j.onPrev.add(function(){w.showTransitMediumTooltip(f);if(g){var b=r.points[l.index];if(l.stepIdx>=
0&&b.vehicleType==C.TRANSFER_PUBLICTRAFFIC)a.panTo(b.publicSteps[l.stepIdx].coords);else if(b.routeType==C.DEPARTURE_ARRIVAL)a.panTo(b.coords);else{b=b.targetPath;a.panTo(l.stepIdx==1?b[b.length-1]:b[0])}o(r.points[l.index],l,true)}else{a.panTo(r.points[f-1].coords);o(r.points[f-1],f-1,true)}});j.onNext.add(function(){w.showTransitMediumTooltip(f);if(g){var b=r.points[u.index];if(u.stepIdx>=0&&b.vehicleType==C.TRANSFER_PUBLICTRAFFIC)a.panTo(b.publicSteps[u.stepIdx].coords);else if(b.routeType==C.DEPARTURE_ARRIVAL)a.panTo(b.coords);
else{b=b.targetPath;a.panTo(u.stepIdx==1?b[b.length-1]:b[0])}o(r.points[u.index],u,true)}else{a.panTo(r.points[f+1].coords);o(r.points[f+1],f+1,true)}});j.onRoadviewClick.add(function(){var a=b.roadview;d.show(a);q.click("route","go_public_tooltip_roadview");t.logRoadview("node_click_tooltip_roadview",a.panoId,b.coords,Application.localInfoController.getHCodeForLog())});g?j.setButtons(l?r.points[l.index]:null,u?r.points[u.index]:null):j.setButtons(r.points[f-1],r.points[f+1])}function p(b,c){function d(a){a=
c.indexOf(a);a={index:b.index,sub:a};p(a,c);e(a)}if(b.sub!=null){var f=c[b.sub],h=Application.infoWindowManager.createWalkPointInfo(f,{x:0,y:11});h.setButtons(c[b.sub-1],c[b.sub+1]);h.onPrev.add(d);h.onNext.add(d);a.setCenter(f.coords);a.setLevel(3);e(b)}}function s(b){var c=r.points[b].walkPath,d=r.points[b-1],e=r.points[b+1];ab.find2(new Za(c[0],""),d.bus?"BUSSTOP":d.subway?"SUBWAYSTATION":"NORMAL",new Za(c[c.length-1],""),e.bus?"BUSSTOP":e.subway?"SUBWAYSTATION":"NORMAL",e.name,function(d){if(d.error)a.setCenter(c[0]);
else{r.points[b].walkGroup.points=d.points;r.points[b].walkGroup.points.pop();u.setWalkItem(b,d.points);w.setWalkDetailMarker(b,d.points);a.setCenter(d.points[0].coords)}})}function v(){if(r){Application.roadviewController.getActive()&&Application.roadviewController.close();a.setBounds(r.bounds)}}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var r=null,u=null,w=null,D=null,P={zIndex:-2,strokeColor:"#54D7FD",strokeOpacity:0.9,strokeWeight:5,strokeStyle:"shortdash"},K=null,
U=null;daum.maps.event.addListener(a,"click",function(){E!==null&&w.showTransitMediumTooltip(E)});this.setView=function(b){u=b;u.onPointClick.add(function(b){d.getActive()&&d.close();var c=r.points[b.index];if(b.sub!=null&&c.walk)p(b,c.walkGroup.points);else{a.setLevel(3);if(c.isInterPoint){b.index=w.getInterNowIndex({index:b.index,childIdx:0});Application.map.setCenter(c.publicSteps&&c.publicSteps[0]?c.publicSteps[0].coords:c.coords)}else Application.map.setCenter(c.coords);o(c,b.index)}q.click("route",
"go_public_textpoint")});u.onOver.add(function(a){f(a,true)});u.onOut.add(function(a){f(a,false)});u.onItemDetail.add(function(){d.getActive()&&d.close()});u.onWalkDetail.add(function(a){var b=r.points[a.index].walkGroup.points;c.close();a.isDetail&&b.length==0&&s(a.index)});u.onChildPointClick.add(function(b){var c=r.points[b.index],d=c.publicSteps[b.childIdx];a.setLevel(3);Application.map.setCenter(d.coords);b=w.getInterNowIndex(b);o(c,b)})};this.set=function(a){if(r!==a){if(r){w.clear();u&&u.setRouteDeActive();
D=E=null;K&&K.setMap(null);U&&U.setMap(null);U=K=null;Application.mainMapController.tool.onClickTool.remove(h);Application.mainMapController.tool.onComplete.remove(j)}transitWalk=(r=a)&&r.transitWalk;if(r){g();v()}Application.mainMapController.tool.onClickTool.remove(h);Application.mainMapController.tool.onComplete.remove(j);Application.mainMapController.tool.onClickTool.add(h);Application.mainMapController.tool.onComplete.add(j)}};var E=null;this.adjustMap=function(){v()}}));Ka.defaultBoundTabIndex_=
0;Ka.defaultTabIndex_=3;Ka.defaultInterTabIndex_=4;Ka.prototype.showOtherRoute_=function(a){this.otherRoute_=new daum.maps.Polyline({strokeWeight:6,strokeOpacity:0.5,strokeColor:"#006aff",path:a.totalPaths});this.otherRoute_.setMap(Application.map)};Ka.prototype.hideOtherRoute_=function(){this.otherRoute_&&this.otherRoute_.setMap(null)};Ka.prototype.find=function(){var a=Application.flagSearchController.getWaypoints();a&&Eb.find(a,function(b){this.routes_=b.transitRoutes;this.routeStatus_=b.status;
this.interRoutes_=b.interRoutes;this.interStatus_=b.interStatus;this.mkey_=b.mkey;(b.status=="OK"||b.interStatus=="OK")&&Application.historyController.addRoute(Application.historyController.TYPE_LIST.TRANSIT,a);this.onResult.notify()},this)};Ka.prototype.getRoute=function(){return this.routes_};Ka.prototype.clearRoute=function(){this.route_=this.routes_=this.mkey_=null;this.hideRoute_()};Ka.prototype.hideRoute_=function(){this.routeController_.set(null);this.toolBar_&&this.toolBar_.setVisible(false);
this.panel_&&this.panel_.setVisible(false);this.noResultPanel_&&this.noResultPanel_.setVisible(false)};Ka.prototype.load_=function(){var a=this.mkey_,b=this.routes_,c=this.interRoutes_;this.infoWindowManager_.close();this.routeController_.set(null);this.hideOtherRoute_();Application.windowController.showInfoAndTop();require("log/Tiara").log("/fake/routing_public");if(!this.toolBar_){var d=this.toolBar_=new Kc;d.onClick.add(this.handleToolbar_,this);d.hide();g.$("info.footer").addChild(d)}this.panel_.setMkey(a);
if(b[0]||c[0]){if(b[0]instanceof Eb.Lazy)this.routes_=b=b.map(function(a){return a.get()});if(c[0]instanceof Vb.Lazy)this.interRoutes_=c=c.map(function(a){return a.get()});this.panel_.setBoundModeIndex(this.boundModeIndex_);if(this.boundModeIndex_){this.panel_.setModeIndex(3);this.panel_.setInterModeIndex(this.modeIndex_)}else{this.panel_.setModeIndex(this.modeIndex_);this.panel_.setInterModeIndex(4)}this.modeIndex_=3;this.boundModeIndex_=0;this.panel_.setData(b,c);this.panel_.setViaInfoVisible(Application.flagSearchController.getViaVisible());
this.panel_.show();this.toolBar_.show()}else{this.noResultPanel_&&this.noResultPanel_.detach();b=Application.flagSearchController.getWaypoints();this.noResultPanel_=Wa.createTransit(this.routeStatus_||this.interStatus_,b);this.panels_.add(null,this.noResultPanel_);this.noResultPanel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);g.$("info.flagsearch").addChild(this.noResultPanel_);this.routeStatus_=="ZERO_RESULTS_DISCONNECTED_NETWORK"&&this.showIntercityInfo_();this.noResultPanel_.show();
this.setRoute_(-1);t.log("search_path_transit",b.map(function(a){return a.name+"_"+Math.floor(a.coords.getX())+","+Math.floor(a.coords.getY())+"_"+(a.id&&a.id.substr&&a.id.substr(0,1)=="P"?a.id.slice(1):"")}),{cnt:"0,0,0,0,0,0,0,0,0",tab:"all",mkey:a,mode:this.routeStatus_||this.interStatus_})}};Ka.prototype.showIntercityInfo_=function(){var a=Application.flagSearchController.getWaypoints();require("server").busTerminalAt({x:a[0].coords.getX().toFixed(0),y:a[0].coords.getY().toFixed(0)},function(a){if(a.find("terminalList").length!=
0){var c=G("IntercityInfoView");this.noResultPanel_.setIntercityBox(c);this.noResultPanel_.setDesc("\ud574\ub2f9 \uac80\uc0c9\uacb0\uacfc\ub294 \uc9c0\uc5ed\uac04 \uae38\ucc3e\uae30 \ub178\uc120\uc774\ubbc0\ub85c<br/> \uc544\ub798 \ud130\ubbf8\ub110 \uc6b4\ud589\uc815\ubcf4\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694");var d=c.$("intercityList");a.find("terminalList").forEach(function(a){var b=jQuery('<li><a class="info" href="#"><em class="arrow"></em>\uc2e4\uc2dc\uac04\uc608\ub9e4\uc815\ubcf4 \ubcf4\uae30</a>'+
a.text("name")+"</li>");b.find(".info").click(function(){q.click("intercity","intercity_by_transitroute");var b=a.text("id");require("server")[/^BT/.test(b)?"intercityBus":"ferry"]({id:b})});d.append(b)})}else this.noResultPanel_.hideDesc()}.bind(this))};Ka.prototype.handleToolbar_=function(a){switch(a){case "favorite":this.doFavorite_();q.click("route","go_public_favorite");break;case "delete":Application.flagSearchController.reset();q.click("route","go_public_route_delete");break;case "print":this.setRouteToPrint(this.route_);
break;case "alook":this.routeController_.adjustMap();break;default:console.assert(false)}};Ka.prototype.doFavorite_=function(){var a=Application.flagSearchController.getWaypoints();a&&Application.favoriteController.add(B.createTransitFromWaypoints(a))};Ka.prototype.setRoute_=function(a){this.hideOtherRoute_();var b=null,b=a>=this.routes_.length?this.interRoutes_[a-this.routes_.length]:this.routes_[a];this.activeIdx_=a;Application.infoWindowManager.close();this.routeController_.set(b);this.route_=
b;if(this.toolBar_){b?this.toolBar_.show():this.toolBar_.hide();Application.windowController.updateHeight()}};Ka.prototype.changeActive_=function(){if(this.getActive()){if(this.routes_)if(this.route_){this.routeController_.set(this.route_);this.panel_.setVisible(true);this.toolBar_.setVisible(true);require("log/Tiara").log("/fake/routing_public")}else this.load_()}else this.hideRoute_();this.panel_.below_=""};Ka.prototype.setRouteToPrint=function(a){this.routePrinting_=a||this.route_;Ua("etc/print_car.jsp?type=transit",
680,750);q.click("route","go_public_print")};Ka.prototype.getModeIndex=function(){return this.panel_?this.panel_.getModeIndex():null};Ka.prototype.getInterModeIndex=function(){return this.panel_?this.panel_.getInterModeIndex():null};Ka.prototype.getBoundModeIndex=function(){return this.panel_?this.panel_.getBoundModeIndex():null};Ka.prototype.setModeIndex=function(a){this.modeIndex_=parseInt(a)};Ka.prototype.setBoundMode=function(a){this.boundModeIndex_=parseInt(a)};define("controller/TransitRouteSearchController",
["map/Map","controller/TransitRouteController","map/InfoWindowManager","view/TransitRouteResultView"],R(Ka));define("controller/TriangleNoticeController",["options","dom/forefront"],R(function(a,b){function c(a,b,c){var d=false;if(b==void 0)jQuery.cookie("noNotice"+a.id)!=1&&(d=true);else{c=c||1;b?jQuery.cookie("noNotice"+a.id,1,{expires:0}):jQuery.cookie("noNotice"+a.id,1,{expires:c});d=b}return d}function d(){var a=G("TriangleNotice2");a.find("a").click(function(){var a=Application.keywordSearchController,
b=a.themeMapController_;b.setHideActive(true);b.setThememapIdWithJump(106);a.changeActive_();d.hide()});var d=b.create(a);a.$("close").click(function(){q.click("triangleBanner","close");c(f,false,14);d.hide()});a.appendTo("body");d.show();a.find("a").click(function(){q.click("triangleBanner","link")})}function e(){var a=G("TriangleNotice",{link:"https://goo.gl/9PZ5XU"});a.find("a").css({background:'url("http://t1.daumcdn.net/localimg/localimages/07/2017/kakaomap/banners/pcweb.png") no-repeat'}).click(function(){d.hide()});
a.find(".link1").css({right:0,bottom:188,width:26,height:23,"background-position-x":-208,"background-position-y":0});a.find(".link2").css({right:0,bottom:0,width:146,height:188,"background-position-x":-88,"background-position-y":-23});a.find(".link3").css({right:146,bottom:0,width:88,height:80,"background-position-x":0,"background-position-y":-131});var d=b.create(a);a.$("close").click(function(){q.click("triangleBanner","close");c(h,false,999);d.hide()});a.appendTo("body");d.show();a.find("a").click(function(){q.click("triangleBanner",
"link")})}var f={id:2},h={id:13},j=false;if(A.__daumISSUE){if(!j&&a.notice_popup=="Y"&&c(f)){j=true;d()}}else if(!j&&a.notice_popup=="Y"&&c(h)){j=true;e()}}));Nc.prototype.getPanel=function(){console.assert(this.panel_.getElement);return this.panel_};define("controller/WalkRouteSearchController",["map/Map","controller/RoadviewController","controller/WindowController","log/Tiara"],R(function(a,b,c,d){function e(a){var b=a.seq,c={index:1,sub:null};F.points.some(function(a,d){if(a.seq==b){c.index=d;
return true}if(a.points)return a.points.some(function(a,e){if(a.seq==b){c.index=d;c.sub=e;return true}})});V.setItemActive(c,true);H.setItemActive(c,true)}function f(){H.setClickable(false)}function h(){H.setClickable(true)}function j(){var a=Bb(),b=Application.flagSearchController.getWaypoints();xb.find(b,function(b){a.dispose();if(z!==b&&(!z||!b||!b.error)){z=b;na=true;G&&c.updateHeight()}M.notify();var d=Application.flagSearchController.getWaypoints();b.error||Application.historyController.addRoute(Application.historyController.TYPE_LIST.WALK,
d);t.log("search_path_walk",d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.id&&a.id.substr&&a.id.substr(0,1)=="P"?a.id.slice(1):"")}),b.error?{cnt:0,mode:b.resultErrorCode}:{cnt:1,mode:""})})}function l(a,b){var c=a.index,d=a.sub;if(d!=null){d=d+b;if(!F.points[c].points[d]){c=c+b;d=null}}else c=c+b;F.points[c]instanceof Sb&&d==null&&(d=b>0?0:F.points[c].points.length-1);return F.points[c]==null?null:{index:c,sub:d}}function k(a){var b=a.sub,c=
F.points[a.index];c instanceof Sb&&(c=c.points[b]);Application.map.setCenter(c.coords);var d={x:0,y:11},b=null;if(c.seq=="start"||c.seq=="goal"||c.seq=="through"){d={x:27,y:27};b=Application.infoWindowManager.createStartEndPointInfo(c,{x:20,y:27});b.onCloseBtn.add(function(){Application.infoWindowManager.closeWithoutNotify()})}else b=Application.infoWindowManager.createWalkPointInfo(c,d);b.onPrev.add(n,this);b.onNext.add(n,this);c=l(a,-1);a=l(a,1);b.setButtons(c,a)}function n(a){if(a){V.setItemActive(a,
true);V.setHighlight(a,true);H.setItemActive(a,true);k(a)}}function y(){w();Application.infoWindowManager.close();if(z&&G){if(z.error){H.setData(null);E(false);var a=Wa.getNoWalkResultByType(z.resultErrorCode);ia.setTitle(a);ia.setWalkFiyData(z);ia.show()}else{V.setData(z);o();p();na&&U();s(true);v(0,true);V.initHover()}d.log("/fake/routing_walk")}}function o(){var a=Application.flagSearchController.getWaypoints(),b=a[0].coords,c=a[a.length-1].coords;z.walkRoutes.forEach(function(a){var d=[],e=xb.getModeLineColor(a.routeMode);
a.sectionPoints.forEach(function(a){d=d.concat(a)});a=new daum.maps.Polyline({strokeWeight:5,strokeColor:e,strokeOpacity:0.7,path:d});x.push(a);var a=d[d.length-1],f=new daum.maps.Polyline({strokeColor:e,strokeOpacity:0.7,strokeWeight:5,strokeStyle:"shortdash",path:[b,d[0]]});C.push(f);e=new daum.maps.Polyline({strokeColor:e,strokeOpacity:0.7,strokeWeight:5,strokeStyle:"shortdash",path:[a,c]});J.push(e)})}function p(){z.walkRoutes.forEach(function(a){var b=[];a.sectionPoints.forEach(function(a){b=
b.concat(a)});a=new daum.maps.Polyline({strokeWeight:7,strokeColor:"#043760",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:"#3385ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b});A.push(a)})}function s(b){if(b){x.forEach(function(b){b.setMap(a)});C.forEach(function(b){b.setMap(a)});J.forEach(function(b){b.setMap(a)});na&&U()}else{x.forEach(function(a){a.setMap(null)});C.forEach(function(a){a.setMap(null)});J.forEach(function(a){a.setMap(null)});
A.forEach(function(a){a.setMap(null)})}}function v(b,c){var d=x[b],e=A[b],f=C[b],h=J[b];if(f&&h){f.setMap(null);h.setMap(null)}if(F){if(z.walkRoutes.indexOf(F)!=b&&d)if(c){d.setMap(a);f.setMap(a);h.setMap(a)}else d.setMap(null)}else if(d&&e){if(c){d.setMap(null);e.setMap(a)}else{d.setMap(a);e.setMap(null)}f.setMap(a);h.setMap(a)}}function r(c){F=null;V.initDetailedItem();u();F=z.walkRoutes[c];V.setDetailedItem(c);H.setData(F);var d=[];F.points.forEach(function(a){if(a instanceof Sb){var b=[];a.points.forEach(function(a){b.push(a.coords)});
d.push(b)}else d.push(a.coords)});F.sectionPoints.length<6&&F.sectionPoints.forEach(function(b,c){var e=new Qb(c,a,b,d);e.onCoords.add(D);ga.add(e)});E(true);ia.hide();na&&U();F&&F.hasRoadviewInfo?b.setRouteData("walk",F.raw):b.setRouteData("walk",null)}function u(){H.setData(null);ga.clear();E(false)}function w(){V.setData(null);H.setData(null);ia.hide();ga.clear();E(false);b.setRouteData("walk",null);A.forEach(function(a){a.setMap(null)});A.length=0;x.forEach(function(a){a.setMap(null)});x.length=
0;C.forEach(function(a){a.setMap(null)});C.length=0;J.forEach(function(a){a.setMap(null)});J.length=0}function D(a){L.notify(a)}function P(){b.setRouteData("walk",null);b.onCheckpoint.remove(function(a){G&&e(a)});G=false;Z.hide();V.setData(null);H.setData(null);ia.hide();ga.clear();E(false);A.forEach(function(a){a.setMap(null)});x.forEach(function(a){a.setMap(null)});C.forEach(function(a){a.setMap(null)});J.forEach(function(a){a.setMap(null)})}function K(){Ua("etc/print_car.jsp?type=walk",680,750)}
function U(){Application.roadviewController.getActive()&&Application.roadviewController.close();F?Application.map.setBounds(F.bounds):Application.map.setBounds(z.bounds)}function E(a){a?O.getPane().show():O.getPane().hide();c.updateHeight()}if(!(this instanceof arguments.callee))return new arguments.callee(a);var Z=jQuery("#info\\.walkRoute"),F=null,z=null,x=[],A=[],C=[],J=[],G=false,I=this.onSearchBtnClick=new m,L=this.onAddStop=new m,M=this.onResult=new m,na=true,V=Ae(Z),H=qe(a),R=g.$("moreGroupview"),
O=ze();O.onClick.add(function(a){switch(a){case "print":K();q.click("route","go_walk_print");break;case "favorite":(a=Application.flagSearchController.getWaypoints())&&Application.favoriteController.add(B.createWalkFromWaypoints(a));q.click("route","go_walk_favorite");break;case "alook":U();q.click("route","go_walk_once_view")}});O.getPane().appendTo("#info\\.footer").hide();V.onItemHover.add(function(a){v(a.index,a.hover)});V.onItemDetail.add(function(a){if(a.detail){s(false);r(a.index);Application.mainMapController.tool.onClickTool.remove(f);
Application.mainMapController.tool.onComplete.remove(h);Application.mainMapController.tool.onClickTool.add(f);Application.mainMapController.tool.onComplete.add(h)}else{F=null;V.initDetailedItem();u();s(true);v(a.index,true);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(h)}});V.onWalkPoint.add(function(c){b.close();a.getLevel()>3&&a.setLevel(3);c.sub!=null?a.setCenter(F.points[c.index].points[c.sub].coords):a.setCenter(F.points[c.index].coords);
V.setItemActive(c,true);H.setItemActive(c,true);k(c)});V.onWalkPointMouseover.add(function(a){H.setHighlight(a,true)});V.onWalkPointMouseout.add(function(a){H.setHighlight(a,false)});V.onRoadview.add(function(a){b.show(a);q.click("route","go_walk_roadview")});V.onWalkPointDetail.add(function(b){a.setLevel(3);a.setCenter(F.points[b.index].points[0].coords);V.setItemActive({index:b.index,sub:0},true);H.setItemActive({index:b.index,sub:0},true);k({index:b.index,sub:0})});V.onSearchBtnClick.add(function(a){I.notify(a)});
V.onDestination.add(function(){a.setCenter(F.points.slice(-1)[0].coords);Application.keywordSearchController.setActive(true);Application.keywordSearchController.findSurround();q.click("route","go_walk_nearplace");na=false});H.onClick.add(function(a){R.hide();V.setItemActive(a,true);V.setHighlight(a,true);k(a)});H.onMouseover.add(function(a){V.setHighlight(a,true);if(a.sub!=null){var a=V.getItem(a.index),b=a.getGroupInfo();if(!b.detailActive){b=a.getGroupInfo();if(b.pos.top>97){R.setPosition(b.pos.left+
260,b.pos.top-12);R.show()}}}});H.onMouseout.add(function(a){V.setHighlight(a,false);R.hide()});H.onClickWithZoomIn.add(function(b){V.setItemActive({index:b.index,sub:0},true);H.setItemActive({index:b.index,sub:0},true);k({index:b.index,sub:0});a.setLevel(3);a.setCenter(F.points[b.index].points[0].coords)});this.find=function(){j()};var ia=Wa.createWalk();ia.onSearchBtnClick.add(function(a){I.notify(a)});ia.hide().appendTo(Z);var ga=new ta(a);this.setActive=function(a){if(a){b.onCheckpoint.add(function(a){G&&
e(a)});G=true;Z.show();if(F){V.show();a=z.walkRoutes.indexOf(F);r(a)}else y()}else P();c.updateHeight();return this};this.clearRoute=function(){z=F=null;P()};this.getActive=function(){return G};this.getRoute=function(){return z};this.printRoute=function(){return F};this.print=K;this.adjustMap=function(){U()}}));define("controller/WaypointSearchBoxController",["view/WaypointBoxView"],function(a){function b(){var a=g.$("info.route.searchBox");this.listDragController_=new nb(a);this.boxViewList_=[];
this.listDragController_.onChange.add(this.changeWaypointBox_,this);(this.changeBox_=g.$("info.route.searchBox.change")).onClick.add(this.changeOriginDest_,this);(this.viaBox_=g.$("info.route.searchBox.toggleVia")).onClick.add(this.addViaBox_,this);g.$("info.route.searchBox.clearVia").onClick.add(function(){Application.mainMapController.tool.clear()},this);this.onAdd=new m;this.onRemove=new m;this.onChange=new m;this.onSearch=new m;this.onClear=new m;this.onMethodFocus=new m;this.setViaVisivle_=this.addVia_=
true}b.VIASIGN=1;b.prototype.setViaVisible=function(a){var b=this.boxViewList_.length-1;this.boxViewList_.forEach(function(e,f){if(f!=0&&f!=b){e.setClass("via-INACTIVE",!a);e.setDisabled(a)}},this);this.viaBox_.setClass("via-disable",!a);this.addVia_=this.setViaVisivle_=a};b.prototype.setFlagSearch=function(b){var b=b.waypoints,d=b.length-1;if(this.boxViewList_.length>0){this.boxViewList_.forEach(function(){this.listDragController_.removeToNumber(0)},this);this.boxViewList_.length=0}this.addVia_=
true;this.changeBox_.setVisible(d==1);if(d==6)this.addVia_=false;this.viaBox_.setClass("via-disable",!this.addVia_);if(d>6)alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.");else{this.focusTargetNumber=null;b.forEach(function(b,c){waypointBoxView=new a(c);waypointBoxView.onRemove.add(this.onRemove_,this);waypointBoxView.onSearch.add(this.onSearch_,this);if(b&&b.name&&b.name!="\ud574\ub2f9 \uc9c0\uc5ed\uc740 \uc8fc\uc18c\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")waypointBoxView.setValue(b.name);
else{var h="";if(b){h=c==0?"\ucd9c\ubc1c":c==d?"\ub3c4\ucc29":"\uacbd\uc720"+c;b.name=h}else if(this.focusTargetNumber==null)this.focusTargetNumber=c;waypointBoxView.setValue(h)}if(c==0){waypointBoxView.setStyle("origin",false);waypointBoxView.setPlaceholderBox("\ucd9c\ubc1c\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}else if(c==d){waypointBoxView.setStyle("dest",false);waypointBoxView.setPlaceholderBox("\ub3c4\ucc29\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}else{waypointBoxView.setStyle("via",
true);waypointBoxView.setPlaceholderBox("\uacbd\uc720\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}this.boxViewList_.push(waypointBoxView);this.listDragController_.add(waypointBoxView);waypointBoxView.setSuggest();if(b&&b.name){var h=Application.historyController.TYPE_LIST,j=b.pointType,g={id:b.id,name:b.name,coords:b.coords},k=b.id.match(/^(B|M|A|P)/);if(k&&k.length>0){k=k[0];g.id=g.id.replace(RegExp("^"+k),"");switch(k){case "A":j=h.ADDRESS;break;case "P":j=h.PLACE;break;case "M":j=h.SUBWAY_STATION;
break;case "B":j=h.BUS_STOP}}if(j=="NORMAL"&&b.id)j=h.ADDRESS;j&&Application.historyController.addPoi(j,g)}},this);this.focusTargetNumber!=null?this.setFocus(this.focusTargetNumber):this.onMethodFocus.notify()}};b.prototype.setFocus=function(a){a!=null&&this.boxViewList_[a].focusInput()};b.prototype.changeOriginDest_=function(){if(!Application.isLoadingViewShow){q.click("route","route_trans");this.onChange.notify({from:0,to:1})}};b.prototype.addViaBox_=function(){var a=this.boxViewList_.length;if(this.addVia_&&
a<7){this.onAdd.notify();q.click("route","route_via_add")}else this.setViaVisivle_&&alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.")};b.prototype.onRemove_=function(a){this.onRemove.notify(this.boxViewList_.indexOf(a))};b.prototype.onSearch_=function(a){var b=this.boxViewList_.indexOf(a.view);b==0?q.click("route","route_start",{param1:a.keyword}):b==this.boxViewList_.length-1?q.click("route","route_end",{param1:a.keyword}):q.click("route",
"route_via",{param1:a.keyword});this.onSearch.notify({index:b,keyword:a.keyword})};b.prototype.setSearchBox=function(a,b){this.boxViewList_[a].setValue(b);this.boxViewList_[a].focusInput()};b.prototype.changeWaypointBox_=function(a){q.click("route","route_switch");this.onChange.notify(a)};b.prototype.clearViaBox_=function(){q.click("route","route_delete");this.onClear.notify()};return b});define("controller/WeatherMarkerController",["map/Map","model/Weather"],function(a,b){return new function(a){function d(){p();
e()}function e(){E=false}function f(){if(jQuery("body").hasClass("ROADVIEW")){d();y()}else{Z.getCode();if(E)E=false;else{p();h()}}}function h(){w&&require("server").weatherList(jQuery.extend(v(),{depth:k()}),n)}function j(a,b){for(var c=U.length;c--;)U[c].setZIndex(5);a.setZIndex(6);b.stopPropagation()}function l(){w=false;daum.maps.event.removeListener(u,"idle",r);daum.maps.event.removeListener(a,"dragstart",d);daum.maps.event.removeListener(a,"zoom_changed",d);delete r;y();D.removeClass("ACTIVE");
K.notify()}function k(){var a=u.getLevel();return a<=5?[3]:a<=8?[2]:[1]}function n(a){a=a.find("value");y();for(var b=a.length;b--;)s(a[b])}function y(){for(var a=U.length-1;a>-1;a--)U[a].setMap(null);U=[]}function o(a){E=true;q.notify(a)}function p(){K.notify()}function s(a){var c=new daum.maps.Coords(a.number("point_wx"),a.number("point_wy")),d=G("WeatherMini"),c=new daum.maps.Billboard({position:c,zIndex:5,content:d.getElement()}),e=d.$("weatherMiniTemperature"),f=d.$("locName"),h=d.$("weatherMiniThumb"),
g=a.text("temp");e.html(b.makeImgTemperTxt(g));h.addClass("type"+a.text("iconno"));f.append(a.text("areaname_dong")||a.text("areaname_city")||a.text("areaname_wide"));d.on("mousedown",daum.maps.event.preventMap);d.on("click",o.bind(this,a));c.setMap(u);d.on("mouseover",j.bind(this,c));U.push(c)}function v(){var a=u.getBounds(),b=a.getSouthWest(),a=a.getNorthEast();return{min_x:b.getX()|0,min_y:b.getY()|0,max_x:a.getX()|0,max_y:a.getY()|0}}var r=null,u=a,w=false,D=g.$("localInfo.map.weather"),q=new m,
K=new m,U=[],E=false,Z=null;this.onCode=q;this.off=K;this.click=function(){if(w)l();else{w=true;r=gb(500,f).trigger;daum.maps.event.addListener(u,"idle",r);daum.maps.event.addListener(a,"dragstart",d);daum.maps.event.addListener(a,"zoom_changed",d);h();D.addClass("ACTIVE")}};this.getPanel=function(){return D};this.closeWeatherWindow=p;this.getState=function(){return w};this.getDepths=k;this.setRegionCode=function(){};this.removeWeatherOverlay=y;this.openWeatherWindow=o;this.setLocalInfoCont=function(a){Z=
a};this.turnOff=l;this.makeImgTemperTxt=b.makeImgTemperTxt;this.enableRequest=e}(a)});define("controller/WeatherWindowController",["map/Map","map/InfoWindowManager","model/Weather"],R(function(a,b,c){function d(a){var c=m;jQuery.extend(a,{titleLoc:c.text("areaname_dong")||c.text("areaname_city")||c.text("areaname_wide"),titleWeaText:c.text("weatext"),titleTemper:o.makeImgTemperTxt(c.text("temp")),titleIconno:c.text("iconno"),announceTime:c.text("announcetime")});a=k=b.createWeather(a,new daum.maps.Coords(m.number("point_wx"),
m.number("point_wy")));a.prevCast.add(h);a.nextCast.add(f);a.onClose.add(e);a.more.add(g);n=a.getPane();p=true}function e(){p=false}function f(){var a=k;a.currentCastPage=Math.min(a.maxCastPage,++a.currentCastPage);j(a.currentCastPage);daum.maps.event.preventMap()}function h(){var a=k;a.currentCastPage=Math.max(0,--a.currentCastPage);j(a.currentCastPage);daum.maps.event.preventMap()}function j(a){var b=n,c=b.find(".bottom li"),d=k,a=a||0;c.hide();jQuery(c[a]).show();if(d.maxCastPage==0)b.find(".paging").hide();
else{b.find(".paging .lst").removeClass("lst");a==0&&b.$("pagePrev").addClass("lst");a==d.maxCastPage&&b.$("pageNext").addClass("lst")}}function g(){var a=m,b=a.text("areaname_wide"),c=a.text("areaname_city"),a=a.text("areaname_dong"),d=[];b&&d.push(b);c&&d.push(c);a&&d.push(a);d.push("\ub0a0\uc528");A.open("http://search.daum.net/search?nil_suggest=btn&nil_ch=&rtupcoll=&w=tot&m=&f=&lpp=&DA=SBCO&sug=&q="+encodeURIComponent(d.join(" ")),"_blank")}var k,n,m,o=c,p=false;this.request=function(a){m=a;
o.fetch(a.text("hcode"),d)};this.getState=function(){return p};this.closeWindow=function(){p&&k.onClose.notify()}}));define("controller/WhatsHereController",["controller/AreaSearchController"],function(a){return new function(a){function c(a,b,c){wc.fetch(a,b,d.bind(this,c))}function d(c,d,j){j.name&&a.cacheJibun(d.id,j);e[d.name]=d;c(d)}var e={};this.toAddress=function(a){var b=new Ca;b.docid=a.docid;b.coords=a.coords;b.name=a.name;b.id=a.id;b.maybeAreaSearch=a.dataType=="1"?true:false;b.regionId=
a.regionId;b.code=a.code;b.dataType=a.dataType;b.subList=[];b.isWhatsHere=true;b.subList=a.subList||[];b.infowindowSubAddress=a.infowindowSubAddress;b.zipcode=a.zipcode;b.zonenum=a.zonenum;b.buildingName=a.buildingName;return b};this.fetch=function(a,b,d){return c(a,b,d)};this.getCache=function(a){return e[a]};this.clearCache=function(){e={}}}(a)});Nb.prototype.showInfoAndTop=function(){this.collapse_&&this.toggleInfo();g.$("info.body").scrollTo(0,0)};Nb.prototype.toggleInfo=function(){var a=!this.collapse_;
this.setCollapse(a);this.onCollapseToggle.notify(a)};Nb.prototype.setCollapse=function(a){this.collapse_=a;jQuery("body").toggleClass("collapse",a);this.updateHeight()};Nb.prototype.getCollapse=function(){return this.collapse_};Nb.prototype.updateHeight=function(){var a=jQuery(A),b=jQuery("body").hasClass("SUBWAY")?1:0,c=a.width()-g.$("info").getWidth(),a=a.height()-g.$("wrapMinidaum").getHeight()-g.$("header").getHeight();this._viewLayout.setSize(c,a);if(!this.collapse_){c=g.$("info.footer");g.$("info.body").setSize(void 0,
a-g.$("info.header").getHeight()-(c.getElement().firstChild&&c.getHeight())-g.$("footer").getHeight()+b)}};Nb.prototype.buildAdButtons_=function(){for(var a=new Ra,b=1;document.getElementById("info.main.adButton"+b);){var c=g.$("info.main.ad"+b);a.add(g.$("info.main.adButton"+b),c);++b}b>2&&g.$("info.main.adButtons").show();--b>0&&a.setIndex(Math.floor(Math.random()*b));var d=this.onClickAdBanner;jQuery("#info\\.main\\.ads > a").each(function(a,b){jQuery(b).on("click",function(){d.notify(jQuery(this).attr("tag"))})})};
define("controller/WindowController",["manager/ViewLayout"],R(Nb));Ob.prototype.timer_=0;Ob.prototype.start=function(){if(!this.timer_)this.timer_=setInterval(this.action_,this.timeout_)};Ob.prototype.stop=function(){clearInterval(this.timer_);this.timer_=0};Ob.get=function(a,b,c){a=new Ob(a);a.onAction.add(b,c);return a};m.prototype.loadHandler_=Function();m.prototype.notify=function(a){this.observer_.forEach(function(b){b(a)})};m.prototype.clear=function(){var a=this.observer_;a[0]&&this.loadHandler_(false);
a.length=0};m.prototype.add=function(a,b){console.assert(typeof a=="function","The event handler is not a function.");var c=this.observer_;c[0]||this.loadHandler_(true);if(b){var d=a,a=d.bind(b);a.__func__=d;a.__scope__=b}c.push(a)};m.prototype.set=function(a,b){this.clear();this.add(a,b)};m.prototype.remove=function(a,b){for(var c=this.observer_,d=0,e;e=c[d];++d)if(e===a||e.__func__===a&&e.__scope__===b){c.splice(d,1);c[0]||this.loadHandler_(false);break}};"use strict";define("core/PaneFactory",
[],{create:G});String.stripTags=function(a){return a.replace(/<[^>]*>/g,"")};String.cut=function(a,b){return a.length>b?a.substring(0,b-1)+"..":a};String.formatNumber=function(a){return a.toFixed(0).replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")};String._ENTITIES={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};String._entitize=function(a){return String._ENTITIES[a]};String.format=function(a){var b=Ab(arguments,1),c=0;return a.replace(/%([sh])/g,function(a,e){var f=b[c++];return e=="s"?""+f:(""+f).replace(/[&"<>]/g,
String._entitize)})};String.formatDistance=function(a){return a<1E3?a+"m":a<1E5?(((a|0)+49)/1E3).toFixed(1)+"km":String.formatNumber(Math.ceil(a/1E3))+"km"};String.base92=function(a){for(var a=a.replace(/ /g,'"'),b=0,c=0,d=a.length;c<d;++c)var e=a.charCodeAt(c),b=e===33?-b:b*92+e-34;return b};String.urlEncode=function(a){return Object.keys(a).map(function(b){return a[b]===null||a[b]===void 0?"":encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")};String.parseUrlEncoded=function(a){var b=
{};a.split("&").forEach(function(a){a=a.split("=");a[0]&&(b[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))});return b};bb.prototype.start=function(){if(!this.id_)this.id_=(this.repeat_?A.setInterval:A.setTimeout)(this.func_,this.interval_)};bb.prototype.stop=function(){if(this.id_){(this.repeat_?A.clearInterval:A.clearTimeout)(this.id_);this.id_=void 0}};bb.prototype.isAlive=function(){return!!this.id_};Ga.prototype.get_=function(a){return a.split(".").reduce(function(a,c){return a&&a[c]||void 0},
this.obj_)};Ga.prototype.has=function(a){return this.get_(a)!==void 0};Ga.prototype.find=function(a){a=this.get_(a);return Ab(a).map(function(a){return new Ga(a)})};Ga.prototype.text=function(a){return""+(this.get_(a)||"")};Ga.prototype.number=function(a){return Number(this.get_(a))||0};Ga.prototype.object=function(a){return(a=this.get_(a))?new Ga(a):null};Ga.prototype.bool=function(a){return this.text(a)=="true"?true:false};Ga.prototype.array=function(a){return this.find(a)};Ga.prototype.raw=function(){return this.obj_};
Pb.prototype.buildPathXML=function(a){return a.replace(/\./g,">")};Pb.prototype.has=function(a){return!!this.data.find(this.buildPathXML(a)).length};Pb.prototype.find=function(a){for(var b=[],a=this.data.find(this.buildPathXML(a)),c=0,d=a.length;c<d;++c)b[c]=new Pb(a[c]);return b};Pb.prototype.text=function(a){a=this.data.find(this.buildPathXML(a));return a.length>0?jQuery(a[0]).text():""};Pb.prototype.number=function(a){return Number(this.text(a))};ca.$=function(a){var b=g.CACHE[a];if(b)return b;
b=document.getElementById(a);console.assert(b,"UIForefront.$: No such element #"+a);return g.CACHE[a]=new ca(b)};ca.basket=[];ca.prototype.dimmed_=!1;ca.prototype.setup_=function(){if(!this.visible_){this.visible_=true;this.dimmed_&&g.$("dimmedLayer").show();jQuery(this.element_.ownerDocument).on("mousedown",this.blueHandler_).on("touchstart",this.blueHandler_);ca.basket.push(this)}};ca.prototype.breakup_=function(){if(this.visible_){this.visible_=false;jQuery(this.element_.ownerDocument).off("mousedown",
this.blueHandler_).off("touchstart",this.blueHandler_);this.dimmed_&&g.$("dimmedLayer").hide();this.dimmed_=false;var a=ca.basket.indexOf(this);ca.basket.splice(a,1)}};ca.prototype.blur_=function(a){if(!this.contain(a.target)&&this.isBlur(a.target)){this.hide();this.onClose.notify()}};ca.prototype.isBlur=function(a){var b=true;this.noUIPanel_.forEach(function(c){c&&c.contain(a)&&(b=false)});this.noPane_.forEach(function(c){if(c&&(c.is(a)||c.has(a).length))b=false});return b};ca.prototype.noClosePane=
function(a){this.noPane_.push(a)};ca.prototype.noCloseUIPanel=function(a){this.noUIPanel_.push(a)};ca.prototype.setClickPanel=function(a){this.clickPanel_=a};ca.prototype.showDimmed=function(){this.dimmed_=true;this.show()};ca.prototype.openBelow=function(a){var b=(a._pane||a).offset(),a=(a._pane||a).outerHeight();this.setPosition(b.left,b.top+a);this.show()};ca.closeAll=function(){if(ca.basket.length!=0){ca.basket.forEach(function(a){a.hide()});ca.basket.length=0}};g.$=function(a){var b=g.CACHE[a];
if(b)return b;b=document.getElementById(a);console.assert(!!b,"UIPanel.$: No such element #"+a);return g.CACHE[a]=new g(b)};g.CACHE={};g.prototype.getElement=function(){return this.element_};g.prototype.show=function(){this.removeClass("HIDDEN");this.onShow.notify({currentPanel:this});return this};g.prototype.hide=function(){this.addClass("HIDDEN");this.onHide.notify({currentPanel:this});return this};g.prototype.getVisible=function(){return this._pane.is(":visible")};g.prototype.setVisible=function(a){return a?
this.show():this.hide()};g.prototype.getWidth=function(){return this._pane.outerWidth()};g.prototype.getHeight=function(){return this._pane.outerHeight()};g.prototype.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}};g.prototype.setSize=function(a,b){(a!==null||a!==void 0)&&this._pane.width(a);(b!==null||b!==void 0)&&this._pane.height(b);return this};g.prototype.setPosition=function(a,b){var c={};if(a!==null)c.left=a;if(b!==null)c.top=b;this._pane.css(c);return this};g.prototype.getPosition=
function(){var a=this._pane.offset();return{x:a.left,y:a.top}};g.prototype.addChild=function(a){this._pane.append(a._pane||a);return this};g.prototype.appendTo=function(a){(a._pane||a).append(this._pane);return this};g.prototype.removeChild=function(a){(a._pane||a).detach();return this};g.prototype.removeAllChildren=function(){this._pane.html("");return this};g.prototype.attach=function(){this._pane.appendTo("body");return this};g.prototype.detach=function(){this._pane.detach();return this};g.prototype.addText=
function(a){this._pane.append(this._pane[0].ownerDocument.createTextNode(a));return this};g.prototype.setText=function(a){this._pane.text(a);return this};g.prototype.getText=function(){return this._pane.text()};g.prototype.setHTML=function(a){this._pane.html(a);return this};g.prototype.hasClass=function(a){return this._pane.hasClass(a)};g.prototype.addClass=function(a){this._pane.addClass(a);return this};g.prototype.removeClass=function(a){this._pane.removeClass(a);return this};g.prototype.setClass=
function(a,b){this._pane.toggleClass(a,!!b);return this};g.prototype.removeAllClass=function(){this._pane.attr("class","")};g.prototype.getValue=function(){return this.placeholderActive_?"":this._pane.val()};g.prototype.setValue=function(a){if(this.placeholderActive_){if(a!=""){this.readyInput_();this._pane.val(a)}}else this._pane.val(a);return this};g.prototype.contain=function(a){return this._pane.is(a)||this._pane.has(a).length};g.prototype.setExternalLink=function(a){this._pane.attr({href:a||
"#",target:a?"_blank":""});return this};g.prototype.setSrc=function(a){this._pane.attr("src",a);return this};g.prototype.setSrcPng=g.prototype.setSrc;g.prototype.setReadonly=function(a){this._pane[0].readOnly=a;return this};g.prototype.handleSubmit__=function(a){a.preventDefault();this.onSubmit.notify(a)};g.prototype.handleChange__=function(a){this.onChange.notify(a)};g.prototype.getRect=function(){return this._pane[0].getBoundingClientRect()};g.prototype.placeholder_="";g.prototype.placeholderActive_=
!1;g.prototype.setPlaceholder=function(a){if("placeholder"in this.element_)this.element_.placeholder=a;else if(a=="")this.placeholder_="";else{if(!this.placeholder_){this.onFocus.add(this.readyInput_,this);this.onBlur.add(this.presentHolder_,this)}this.placeholder_=""+a;try{this.element_.blur()}catch(b){}this.presentHolder_()}return this};g.prototype.readyInput_=function(){if(this.placeholderActive_){this.placeholderActive_=false;this.element_.value="";this.removeClass("PLACEHOLDER")}};g.prototype.presentHolder_=
function(){if(!this.placeholderActive_&&this.element_.value==""&&this.placeholder_){this.placeholderActive_=true;this.element_.value=this.placeholder_;this.addClass("PLACEHOLDER")}};g.prototype.scrollTo=function(a,b){this._pane.scrollTop(a|0).scrollLeft(b|0);return this};g.prototype.focusAndSelect=function(){this._pane.focusAndSelect();return this};g.prototype.handleFocus__=function(){this.onFocus.notify()};g.prototype.handleBlur__=function(){this.onBlur.notify()};g.prototype.setChecked=function(a){this.element_.checked=
a;return this};g.prototype.getChecked=function(){return this.element_.checked};g.prototype.setTitle=function(a){this.element_.title=a;return this};g.prototype.getTitle=function(){return this.element_.title};g.prototype.handleEnter__=function(){this.onEnter.notify()};g.prototype.handleLeave__=function(){this.onLeave.notify()};g.prototype.bringToTop=function(){this._pane.bringin();return this};g.prototype.setSelectable=function(a){this._pane.attr("unselectable",a?"off":"on").css({webkitUserSelect:a?
"auto":"none",webkitUserDrag:a?"auto":"none",MozUserSelect:a?"all":"none"})};g.prototype.createEventLinker_=function(a,b){b=b.bind(this);return function(c){this[c?"on":"off"](a,b)}.bind(this._pane)};g.prototype.handleClick__=function(a){this.setActive(true);a.currentPanel=this;this.onClick.notify(a)};g.prototype.getActive=function(){return/\bACTIVE\b/g.test(this.element_.className)};g.prototype.setActive=function(a){var b=this.element_,c=b.className;this.className_?this.setClass(this.className_+"-ACTIVE",
a):b.className=a?c.replace(/\bINACTIVE\b/g,"ACTIVE"):c.replace(/\bACTIVE\b/g,"INACTIVE")};g.prototype.toPane=function(){return this._pane};"use strict";define("dom/forefront",["jquery"],function(a){function b(){d&&d();e.detach();c.remove();d=c=null}var c=null,d=null,e=a("<div class=DimmedLayer/>");a(document).on("mousedown touchstart",function(a){c&&(!c.is(a.target)&&c.has(a.target).length==0)&&b()});return{create:function(f,h){var h=h||{},j=a(document.body);h.dimmed&&e.appendTo("body");if(h.beforeClose)d=
h.beforeClose;h.closer&&f.find(h.closer).click(b);if(h.position)j=h.position;return c=f.addClass("Forefront").appendTo(j)},close:function(){b()}}});define("facade/SearchTabFacade","controller/SearchTabController controller/BusLineController manager/AoiManager controller/FlagSearchController controller/KeywordSearchController controller/AreaSearchController controller/FavoriteController".split(" "),function(a,b,c,d,e,f,h){function j(a){if(g!=a){c.onSearchTabChange(a);f.onSearchTabChange(a);g=a}}var g=
0;e.onActive.add(function(){this.getActive()&&j(0)},e);d.onActive.add(function(){this.getActive()&&j(1)},d);a.onChange.add(function(a){a>1&&j(a)});b.onViewPort.add(function(){j(2)},b);h.onActive.add(function(){this.getActive()&&j(3)},h)});"use strict";define("factory/ButtonFactory",[],R(function(){this.createFavorite=function(a,b){function c(b){a.toggleClass("ICON-fav-active",b)}var d=Application.favoriteController;d.onChangeItem.add(function(){c(d.hasFavorite(b))});a.addClass("ICON-fav");c(d.hasFavorite(b));
a.click(function(){d.hasFavorite(b)?d.remove(b):d.add(b)})};new daum.maps.RoadviewClient;this.createRoadview=function(a,b,c,d){if(b){var e=Application.roadviewController;a.addClass("ICON-roadview");a.click(function(){if(d&&typeof d.index=="number"){var a="http://t1.daumcdn.net/localimg/localimages/07/2009/map/icon/"+["ico_mn_b","ico_ms_","ico_mp_"][d.level]+d.index+".png";e.setViewpointWithMarker(b,a,b.pan,b.tilt,0,d)}else d?e.setViewpointWithMarker(b,"http://t1.daumcdn.net/localimg/localimages/07/2008/map/icon/i_mks_choice_b.png",
b.pan,b.tilt,0,d):e.show(b)})}else a.hide()};this.createStoreview=function(a,b){var c=Application.roadviewController;a.toggle(!!b).addClass("ICON-storeview").click(function(){c.showStoreView(b)})};this.createClose=function(a,b){a.addClass("ICON-close");a.click(b)};this.createDestination=function(a,b){var c=Application.flagSearchController;a.click(function(){c.setActive(true);c.setWaypointWithoutRoute(I.DEST_WHICH_,b)})}}));"use strict";define("factory/InfoWindowToolbarFactory",["controller/FiyFrameController",
"view/MapShareToolBoxView"],R(function(a,b){this.create=function(c,d,e){return new $d(Application.flagSearchController,a,b,c,d,e)}}));"use strict";define("factory/MapOverlayFactory",["map/Map"],R(function(a){this.create=function(b,c,d,e){return new zd(a,b,c,d,e)}}));"use strict";"use strict";"use strict";"use strict";ud.prototype.getPanel=function(){console.assert(this.panel_.getElement);var a=this.onClose=new m;jQuery("<a href=# class=closer />").click(function(){a.notify();Application.infoWindowManager.close()}).appendTo(this.panel_);
return this.panel_};ud.prototype.openExclusively=function(a){Application.infoWindowManager.createFromElement(this.getPanel().getElement(),a.getPosition(),a.getMarker())};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";jQuery.fn.blurout=function(a){function b(){if(c){clearTimeout(c);c=0;return true}return false}var a=a.bind(this),c=0;this.focusout(function(){b();c=setTimeout(function(){b();a()},300)});this.focusin(function(){b()})};jQuery.fn.focusAndSelect=
function(){try{this.focus().select()}catch(a){}return this};jQuery.extend(jQuery.fn,{_appendTo:jQuery.fn.appendTo,appendTo:function(a){return this._appendTo(a&&a._pane||a)},set:function(a){var b=this[0];/^checkbox|^radio/.test(b.type)?b.checked=!!a:b.type?this.val(a):this.text(a);return this},show:function(){return this.removeClass("HIDDEN")},hide:function(){return this.addClass("HIDDEN")},bringin:function(){var a=this[0];if(a&&a.scrollIntoView){var b=this.offset();(b.bottom<0||b.top>jQuery(A).height())&&
a.scrollIntoView(true)}return this},$:function(a){if(!this.__$){var b=this.__$={};this.find("[data-id]").each(function(){b[this.getAttribute("data-id")]=jQuery(this)})}return this.__$[a]||jQuery()},getElement:function(){return this[0]}});jQuery.fn.selectbox=function(a,b){var c=new ca("ol",a||"");c.noClosePane(this);c.hide();b.map(function(a,b){var f=jQuery("<a href=# />").text(a).click(function(){c.hide();this.trigger({type:"selectbox",index:b})}.bind(this));return jQuery("<li/>").append(f)},this).forEach(c.addChild,
c);c.attach();this.click(function(){c.getVisible()?c.hide():c.openBelow(jQuery(this))});this.html(b[0]||"");return this};jQuery.fn.uidraggable=function(a){a=a||{};this.mousedown(function(b){function c(b){var c=b.screenX-d,h=b.screenY-e;if(!(c==0&&h==0)){if(f&&(Math.abs(c)>4||Math.abs(h)>4))f=false;if(!f){b.preventDefault();(a.drag||Boolean)({dx:c,dy:h});d=b.screenX;e=b.screenY}}}b.preventDefault();var d=b.screenX,e=b.screenY,f=true;this.startCapture&&this.startCapture();jQuery(this.ownerDocument).mousemove(c).one("mouseup",
function(){jQuery(this).off("mousemove",c);this.releaseCapture&&this.releaseCapture();(a[f?"dragcancel":"dragend"]||Boolean)()});var h=jQuery(this).offset();(a.dragstart||Boolean)({x:b.pageX-h.left,y:b.pageY-h.top})});this.click(function(a){a.preventDefault()})};var nd="undefined"!==typeof module&&module.exports||{};(function(a){function b(a){return(""+a).replace(/&(?!\w+;)|[<>"']/g,function(a){return D[a]||a})}function c(a,b,c,d){for(var d=d||"<template>",e=b.split("\n"),f=Math.max(c-3,0),h=Math.min(e.length,
c+3),e=e.slice(f,h),g=0,j=e.length;g<j;++g){h=g+f+1;e[g]=(h===c?" >> ":"    ")+e[g]}a.template=b;a.line=c;a.file=d;a.message=[d+":"+c,e.join("\n"),"",a.message].join("\n");return a}function d(a,b,c){if("."===a)return b[b.length-1];for(var a=a.split("."),d=a.length-1,e=a[d],f,h,g=b.length,j,k;g;){k=b.slice(0);h=b[--g];for(j=0;j<d;){h=h[a[j++]];if(null==h)break;k.push(h)}if(h&&"object"===typeof h&&e in h){f=h[e];break}}"function"===typeof f&&(f=f.call(k[k.length-1]));return null==f?c:f}function e(a,
b,c,e){var f="",a=d(a,b);if(e){if(null==a||false===a||p(a)&&0===a.length)f=f+c()}else if(p(a))s(a,function(a){b.push(a);f=f+c();b.pop()});else if("object"===typeof a){b.push(a);f=f+c();b.pop()}else if("function"===typeof a)var h=b[b.length-1],f=f+(a.call(h,c(),function(a){return g(a,h)})||"");else a&&(f=f+c());return f}function f(b,d){for(var d=d||{},e=d.tags||a.tags,f=e[0],h=e[e.length-1],g=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],j=[],k=false,l=false,n=function(){if(k&&!l&&
!d.space)for(;j.length;)g.splice(j.pop(),1);else j=[];l=k=false},u=[],o,p,m,w=function(a){e=r(a).split(/\s+/);p=e[0];m=e[e.length-1]},y=function(a){g.push('";',o,'\nvar partial = partials["'+r(a)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},s=function(a,e){var f=r(a);if(""===f)throw c(Error("Section name may not be empty"),b,x,d.file);u.push({name:f,inverted:e});g.push('";',o,'\nvar name = "'+f+'";',"\nvar callback = (function () {",
"\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},D=function(a){s(a,true)},P=function(a){var a=r(a),e=0!=u.length&&u[u.length-1].name;if(!e||a!=e)throw c(Error('Section named "'+a+'" was never opened'),b,x,d.file);a=u.pop();g.push('";',"\n    return buffer;","\n  };","\n})();");a.inverted?g.push("\nbuffer += renderSection(name,stack,callback,true);"):g.push("\nbuffer += renderSection(name,stack,callback);");g.push('\nbuffer += "')},t=function(a){g.push('";',o,'\nbuffer += lookup("'+
r(a)+'",stack,"");','\nbuffer += "')},z=function(a){g.push('";',o,'\nbuffer += escapeHTML(lookup("'+r(a)+'",stack,""));','\nbuffer += "')},x=1,B,A,C=0,G=b.length;C<G;++C)if(b.slice(C,C+f.length)===f){C=C+f.length;B=b.substr(C,1);o="\nline = "+x+";";p=f;m=h;k=true;switch(B){case "!":C++;A=null;break;case "=":C++;h="="+h;A=w;break;case ">":C++;A=y;break;case "#":C++;A=s;break;case "^":C++;A=D;break;case "/":C++;A=P;break;case "{":h="}"+h;case "&":C++;l=true;A=t;break;default:l=true;A=z}B=b.indexOf(h,
C);if(-1===B)throw c(Error('Tag "'+f+'" was not closed properly'),b,x,d.file);f=b.substring(C,B);A&&A(f);for(A=0;~(A=f.indexOf("\n",A));){x++;A++}C=B+h.length-1;f=p;h=m}else switch(B=b.substr(C,1),B){case '"':case "\\":l=true;g.push("\\"+B);break;case "\r":break;case "\n":j.push(g.length);g.push("\\n");n();x++;break;default:q.test(B)?j.push(g.length):l=true;g.push(B)}if(0!=u.length)throw c(Error('Section "'+u[u.length-1].name+'" was not closed properly'),b,x,d.file);n();g.push('";',"\nreturn buffer;",
"\n} catch (e) { throw {error: e, line: line}; }");h=g.join("").replace(/buffer \+= "";\n/g,"");d.debug&&("undefined"!=typeof console&&console.log?console.log(h):"function"===typeof print&&print(h));return h}function h(a,h){var j=f(a,h),k=new Function("view,partials,stack,lookup,escapeHTML,renderSection,render",j);return function(f,j){var j=j||{},r=[f];try{return k(f,j,r,d,b,e,g)}catch(n){throw c(n.error,a,n.line,h.file);}}}function j(a,b){b=b||{};return false!==b.cache?(P[a]||(P[a]=h(a,b)),P[a]):
h(a,b)}function g(a,b,c){return j(a)(b,c)}a.name="mustache.js";a.version="0.5.0-dev";a.tags=["{{","}}"];a.parse=f;a.compile=j;a.render=g;a.clearCache=function(){P={}};a.to_html=function(a,b,c,d){a=g(a,b,c);if("function"===typeof d)d(a);else return a};var k=Object.prototype.toString,n=Array.isArray,m=Array.prototype.forEach,o=String.prototype.trim,p;p=n?n:function(a){return"[object Array]"===k.call(a)};var s;s=m?function(a,b,c){return m.call(a,b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;++d)b.call(c,
a[d],d,a)};var q=/^\s*$/,r;if(o)r=function(a){return null==a?"":o.call(a)};else{var u,w;q.test("\u00a0")?(u=/^\s+/,w=/\s+$/):(u=/^[\s\xA0]+/,w=/[\s\xA0]+$/);r=function(a){return a==null?"":(""+a).replace(u,"").replace(w,"")}}var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},P={}})(nd);(function(){if(!A.rudolphUtil||!A.rudolphUtil.extend){var a=A.rudolphUtil={};a.extend=function(a,c,d){var d=d!==void 0?d:true,e;for(e in c)if(!a[e]||d)a[e]=c[e];return a}}a.extend(a,{version:"1.0_r168",
Array:{compactRudolphUtil:function(a){if(!a)return[];var c=[],d;for(d=0;d<a.length;d=d+1)a[d]===null||typeof a[d]==="undefined"||c.push(a[d]);return c},eachRudolphUtil:function(a,c){if(Array.prototype.foreachRudolphUtil)return a.foreachRudolphUtil(c);for(var d=0,e=a.length;d<e;d=d+1)c(a[d],d)}},Browser:{ua:navigator.userAgent.toLowerCase(),offset:{width:0,height:0},init:function(){this.ie=this.ua.indexOf("msie")!=-1;this.ie_sv1=this.ua.indexOf("sv1")!=-1;this.ie_sv2=this.ua.indexOf("sv2")!=-1;this.ie6=
this.ua.indexOf("msie 6")!=-1;this.ie7=this.ua.indexOf("msie 7")!=-1;this.ie8=this.ua.indexOf("trident/4.0")!=-1;this.ff2=(this.ff=this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("navigator")==-1)&&this.ua.indexOf("firefox/2.")!=-1;this.ff3=this.ff&&this.ua.indexOf("firefox/3.")!=-1;this.sf=this.ua.indexOf("safari")!=-1&&this.ua.indexOf("chrome")==-1;this.webkit=this.ua.indexOf("applewebkit")!=-1;this.op=this.ua.indexOf("opera")!=-1;this.cr=this.ua.indexOf("chrome/")!=-1;this.ns=this.ua.indexOf("netscape")!=
-1||this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("navigator")!=-1;this.gecko=this.ua.indexOf("gecko")!=-1;this.infopath=this.ua.indexOf("infopath")!=-1;this.etc=this.gecko&&this.ff&&this.ns;this.win=this.ua.indexOf("win")!=-1;this.vista=this.ua.indexOf("nt 6")!=-1;this.xp=this.ua.indexOf("nt 5.1")!=-1;this.w2k=this.ua.indexOf("nt 5.0")!=-1;this.w98=this.ua.indexOf("windows 98")!=-1;this.mac=this.ua.indexOf("mac")!=-1;this.unix=!(this.win||this.mac);this.ipad=this.ua.indexOf("ipad;")!=-1;this.versioning()},
versioning:function(){if(this.ie){if(this.ie8)this.ie7=this.ie6=this.ie_sv2=this.ie_sv1=false;if(this.ie7)this.ie6=this.ie_sv2=this.ie_sv1=false}if(this.ff&&this.ff3)this.ff2=false;if(this.sf&&this.cr)this.sf=false},getOsVersion:function(){var a=0;try{this.iphone||this.ipad||this.ipod?a=this.ua.match(/os ([\w|\.|-|_]+) like/g)[0].replace(/^os /,"").replace(/ like$/,""):this.android&&(a=this.ua.match(/android ([\w|\.|-]+);/g)[0].replace(/^android /,"").replace(/;$/,""))}catch(c){}return a}},Element:{getElementsByClassName:function(b,
c){if(document.getElementsByClassName.toString().indexOf("code")>0)return a.$A(b.getElementsByClassName(c));var d=b==document||b==document.body||b==A;if(d||b.id)return a.$$((d?"":"#"+b.id+" ")+"."+a.String.trimRudolphUtil(c).replace(/\s+/g,"."));var d=a.$(b).getElementsByTagName("*"),e=[],f;for(f=0;f<d.length;f=f+1)a.Element.hasClassName(d[f],c)&&e.push(d[f]);return e.length>0?e:[]},getNext:function(b){for(b=a.$(b).nextSibling;b&&b.nodeType!==1;)b=b.nextSibling;return b},getPrev:function(b){for(b=
a.$(b).previousSibling;b&&b.nodeType!==1;)b=b.previousSibling;return b},getParent:function(b){return a.$(b).parentNode},hasClassName:function(b,c){var d=a.String.trimRudolphUtil(a.$(b).className),e=a.String.trimRudolphUtil(c),f=0,h;if(e.indexOf(" ")>0){e=e.replace(/\s+/g," ").split(" ");h=d.split(" ");e.eachRudolphUtil(function(a){f=f+(h.indexOf(a)>-1?1:0)});d=e.length===f}else d=d.length>0&&(d==e||RegExp("(^|\\s)"+e+"(\\s|$)").test(d));return d},visible:function(b){b=a.$(b);return!(b.offsetWidth===
0&&b.offsetHeight===0)},show:function(b,c){var d=a.$(b);d.style.display=c||"block";return d},hide:function(b){b=a.$(b);b.style.display="none";return b},addClassName:function(b,c){var d=a.$(b);if(a.Element.hasClassName(d,c))return d;d.className=a.String.trimRudolphUtil(d.className)===""?c:d.className+" "+c;return d},removeClassName:function(b,c){return a.Element.replaceClassName(b,c,"")},replaceClassName:function(b,c,d){var b=a.$(b),e=b.className.split(" "),f;for(f=0;f<e.length;f=f+1)e[f]==c&&(e[f]=
d);b.className=a.String.replaceAllRudolphUtil(a.String.trimRudolphUtil(e.join(" ")),/\s+/," ");return b}},Event:{observer:[],EVENTID:0,crossEvent:function(){var b={};if(document.addEventListener){b.add=function(b){var d=b.type;d.toLowerCase()=="mousewheel"&&a.Browser.ff&&(d="DOMMouseScroll");b.src.addEventListener(d,b.handler,b.isCapture)};b.remove=function(b){var d=b.type;d.toLowerCase()=="mousewheel"&&a.Browser.ff&&(d="DOMMouseScroll");b.src.removeEventListener(d,b.handler,b.isCapture)}}else{b.add=
function(a){var b=a.type;b.toLowerCase()=="dommousescroll"&&(b="mousewheel");a.src.attachEvent("on"+b,a.handler)};b.remove=function(a){var b=a.type;b.toLowerCase()=="dommousescroll"&&(b="mousewheel");a.src.detachEvent("on"+b,a.handler)}}return b}(),bindedHandlerRegister:[],getBindedHandler:function(b,c){var d=a.Event.bindedHandlerRegister,e=-1,f;f=0;for(loop=d.length;f<loop;f=f+1)if(d[f].src===b&&d[f].handler===c){e=f;break}if(e>=0)return d[e].bindedHandler;e=a.Function.bindAsEventListener(c,b);d.push({src:b,
handler:c,bindedHandler:e});return e},addEvent:function(b,c,d,e){var f=a.$(b),b=a.Event.EVENTID++,c={src:f,type:c,handler:d,isCapture:e||false};a.Event.observer[b]=c;a.Event.crossEvent.add(c);return b},removeEvent:function(b,c,d,e){var f=a.Event.observer;if(b&&!c&&!d){a.Event.crossEvent.remove(f[b]);delete a.Event.observer[b]}else{b=a.$(b);a.Event.crossEvent.remove({src:b,type:c,handler:d,isCapture:e||false});for(var h in f)if(f[h].src===b&&f[h].type===c&&f[h].handler===d&&f[h].isCapture===(e||false)){delete a.Event.observer[h];
break}}},stopObserving:function(b){a.Event.observer[b]&&a.Event.removeEvent(b)},hasObserver:function(b,c){if(typeof b==="number")return!!a.Event.observer[b];var d=false,e=a.Event.observer,f;for(f in e)if(e[f].src===b&&e[f].type===c){d=true;break}return d},stopEvent:function(b){a.Event.stopPropagation(b);a.Event.preventDefault(b);return false},preventDefault:function(a){a=a||A.event;a.preventDefault?a.preventDefault():a.returnValue=false;return false},stopPropagation:function(a){a=a||A.event;a.stopPropagation?
a.stopPropagation():a.cancelBubble=true},GC:function(){return a.Browser.ie?function(){for(var b in a.Event.observer){var c=a.Event.observer[b].src;if(c&&c.ownerDocument)try{!c.offsetParent&&a.Event.stopObserving(b)}catch(d){a.Event.stopObserving(b)}}}:function(){for(var b in a.Event.observer){var c=a.Event.observer[b].src,d=false;if(c&&c.ownerDocument&&!c.offsetParent){do if(c===document.body){d=true;break}while(c=c.parentNode);!d&&a.Event.stopObserving(b)}}}}},Function:{bind:function(b){var c=b,
d=a.$A(arguments),e,f;d.shift();e=d.shift();f=function(){return c.apply(e,d.concat(a.$A(arguments)))};f.__Binded=true;return f},bindAsEventListener:function(b){var c=b,d=a.$A(arguments),e,f;d.shift();e=d.shift();f=function(a){return c.apply(e,[a||A.event].concat(d))};f.__Binded=true;return f},interval:function(b,c,d){b=d?a.Function.bind(b,d):b;return A.setInterval(b,c)}},Fx:{},Number:{},Object:{},String:{byteLengthRudolphUtil:function(b){var c=0;a.$A(b.toString()).eachRudolphUtil(function(a){c=c+
(escape(a).length>3?2:1)});return c},trimRudolphUtil:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replaceAllRudolphUtil:function(){return function(a,c,d){return c.constructor==RegExp?a.replace(RegExp(c.toString().replace(/^\/|\/$/gi,""),"gi"),d):a.split(c).join(d)}}()},$:function(a){return typeof a=="string"?document.getElementById(a):a},$A:function(a){if(!a)return[];if(a instanceof Array)return a;var c=[],d;for(d=0;d<a.length;d=d+1)c.push(a[d]);return c},$C:function(b,c){var d=
a.$(b);return d!==null?a.Element.getElementsByClassName(d,c):null},$E:function(b){if(b=a.$(b)){a.extendMethods(b,a.Element,false);b.addEvent=a.methodize(a.Event.addEvent);b.removeEvent=a.methodize(a.Event.removeEvent)}return b},documentLoaded:false,extendMethods:function(b,c,d){var d=d!==void 0?d:true,e;for(e in c)if(!b[e]||d)typeof c[e]=="function"&&(b[e]=a.methodize(c[e]));return b},methodize:function(b){return function(){return b.apply(null,[this].concat(a.$A(arguments)))}},nativeExtend:function(){var b=
[[a.String,String.prototype],[a.Array,Array.prototype]],c;for(c=0;c<b.length;c=c+1)a.extendMethods(b[c][1],b[c][0],false)},urlParameter:function(){for(var a={},c=[],d=location.search.substr(1).split("&"),e=0,f=d.length;e<f;e=e+1){c=d[e].split("=");a[c[0]]=c[1]}return a}(),getParam:function(a){return this.urlParameter[a]||null}})})();(function(){rudolphUtil.Browser.init();if(!document.getElementsByClassName)document.getElementsByClassName=rudolphUtil.methodize(rudolphUtil.Element.getElementsByClassName);
if(String.prototype.trim)rudolphUtil.String.trimRudolphUtil=function(a){return a.trim()};return true})();rudolphUtil.extend(rudolphUtil,{createElement:function(a,b){var c;c="";var d=rudolphUtil.HTMLStack,e,f;if(b){for(i in b)c=c+(i+'="'+b[i]+'" ');c="<"+a+" "+c+"></"+a+">"}else c=rudolphUtil.String.startsWith(a,"<")?a:"<"+a+"></"+a+">";try{d.innerHTML=c;e=d.removeChild(d.firstChild);if(e.nodeType!==1)throw{message:"shit browser!"};return e}catch(h){e=c.match(/\w+/).toString().toLowerCase();f={tbody:["<table>",
"</table>"],tr:["<table><tbody>","</tbody></table>"],td:["<table><tbody><tr>","</tr></tbody></table>"],option:["<select>","</select>"]};if(f[e]){d.innerHTML=f[e][0]+c+f[e][1];d=d.removeChild(d.firstChild);return d.getElementsByTagName(e)[0]}return document.createElement(c)}},useHTMLPrototype:function(){rudolphUtil.HTMLFragment=document.createDocumentFragment?document.createDocumentFragment():document.createElement("div");rudolphUtil.HTMLPrototype=document.createElement("div");rudolphUtil.HTMLStack=
document.createElement("div");rudolphUtil.HTMLPrototype.id="rudolphUtil_html_prototype";rudolphUtil.HTMLStack.id="rudolphUtil_html_stack";rudolphUtil.HTMLFragment.appendChild(rudolphUtil.HTMLPrototype);rudolphUtil.HTMLFragment.appendChild(rudolphUtil.HTMLStack);rudolphUtil.HTMLPrototype.style.position=rudolphUtil.HTMLStack.style.position="absolute";rudolphUtil.HTMLPrototype.style.left=rudolphUtil.HTMLStack.style.left=rudolphUtil.HTMLPrototype.style.top=rudolphUtil.HTMLStack.style.top="-10000px";return true}()});
rudolphUtil.extend(rudolphUtil.Array,{size:function(a){return rudolphUtil.Array.compactRudolphUtil(a).length}});rudolphUtil.extend(rudolphUtil.Browser,{setCookie:function(a,b,c){var d=new Date,e="";if(c){d.setDate(d.getDate()+c);e="expires="+d.toGMTString()+";"}document.cookie=a+"="+escape(b)+"; path=/;"+e},getCookie:function(a){var a=a+"=",b=document.cookie+";",c=b.indexOf(a),d;if(c!=-1){d=b.indexOf(";",c);return unescape(b.substring(c+a.length,d))}}});rudolphUtil.extend(rudolphUtil.Function,{inherit:function(a,
b,c){var d=function(){},e;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.prototype.parent=(b.prototype.parent||[]).concat(b);a._parent=b;e=a.prototype.parent.length;a.prototype.$super=function(){this.constructor.prototype.parent[--e].apply(this,arguments);e=e==0?this.constructor.prototype.parent.length:e};c&&rudolphUtil.Function.members(a,c);return a},members:function(a,b){var c,d=a._parent||a;for(c in b)a.prototype[c]=typeof b[c]=="function"?d.prototype[c]?function(a,b){return b.toString().indexOf("this.$super(")>
-1?function(){this.$prev_super=this.$super;this.$super=function(){this.$super=this.$prev_super;return d.prototype[a].apply(this,arguments)};return b.apply(this,arguments)}:function(){return b.apply(this,arguments)}}(c,b[c]):function(b,c){if(c.toString().indexOf("this.$super(")>-1)throw Error(b+" function is not defined in "+a);return function(){return c.apply(this,arguments)}}(c,b[c]):b[c];return a}});rudolphUtil.extend(rudolphUtil.Fx,{});rudolphUtil.extend(rudolphUtil.Element,{});rudolphUtil.extend(rudolphUtil.Event,
{getElement:function(a){a=a||A.event;return a.srcElement||a.target}});rudolphUtil.extend(rudolphUtil.Number,{});rudolphUtil.extend(rudolphUtil.String,{startWith:function(a,b){return rudolphUtil.String.startsWith(a,b)},startsWith:function(a,b){return a.indexOf(b)===0}});rudolphUtil.Template=function(a){this.template=a};rudolphUtil.Template.prototype={evaluate:function(a){return this.template.replace(/#\{([A-Z_][\dA-Z_]*(?:\.[A-Z_][\dA-Z_]*)*)?\}/ig,function(b,c){for(var d=c?c.split("."):"",e=a||"";d.length;){e=
e[d.shift()];if(e===void 0||e===null)return""}return e})},toElement:function(a){return rudolphUtil.createElement(this.evaluate(a))}};(function(){function a(a,b,c,d,e,f){for(var e=a=="previousSibling"&&!f,h=0,g=d.length;h<g;h++){var j=d[h];if(j){if(e&&j.nodeType===1){j.sizcache=c;j.sizset=h}for(var j=j[a],k=false;j;){if(j.sizcache===c){k=d[j.sizset];break}if(j.nodeType===1&&!f){j.sizcache=c;j.sizset=h}if(j.nodeName===b){k=j;break}j=j[a]}d[h]=k}}}function b(a,b,c,d,e,f){for(var e=a=="previousSibling"&&
!f,g=0,j=d.length;g<j;g++){var k=d[g];if(k){if(e&&k.nodeType===1){k.sizcache=c;k.sizset=g}for(var k=k[a],l=false;k;){if(k.sizcache===c){l=d[k.sizset];break}if(k.nodeType===1){if(!f){k.sizcache=c;k.sizset=g}if(typeof b!=="string"){if(k===b){l=true;break}}else if(h.filter(b,[k]).length>0){l=k;break}}k=k[a]}d[g]=l}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,d=0,e=Object.prototype.toString,f=false,h=function(a,b,d,f){var d=
d||[],k=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;var o=[],m,y,t,z,x=true,B=s(b);for(c.lastIndex=0;(m=c.exec(a))!==null;){o.push(m[1]);if(m[2]){z=RegExp.rightContext;break}}if(o.length>1&&l.exec(a))if(o.length===2&&g.relative[o[0]])y=q(o[0]+o[1],b);else for(y=g.relative[o[0]]?[b]:h(o.shift(),b);o.length;){a=o.shift();g.relative[a]&&(a=a+o.shift());y=q(a,y)}else{if(!f&&o.length>1&&b.nodeType===9&&!B&&g.match.ID.test(o[0])&&!g.match.ID.test(o[o.length-
1])){m=h.find(o.shift(),b,B);b=m.expr?h.filter(m.expr,m.set)[0]:m.set[0]}if(b){m=f?{expr:o.pop(),set:n(f)}:h.find(o.pop(),o.length===1&&(o[0]==="~"||o[0]==="+")&&b.parentNode?b.parentNode:b,B);y=m.expr?h.filter(m.expr,m.set):m.set;for(o.length>0?t=n(y):x=false;o.length;){var A=o.pop();m=A;g.relative[A]?m=o.pop():A="";m==null&&(m=b);g.relative[A](t,m,B)}}else t=[]}t||(t=y);if(!t)throw"Syntax error, unrecognized expression: "+(A||a);if(e.call(t)==="[object Array]")if(x)if(b&&b.nodeType===1)for(a=0;t[a]!=
null;a++)t[a]&&(t[a]===true||t[a].nodeType===1&&p(b,t[a]))&&d.push(y[a]);else for(a=0;t[a]!=null;a++)t[a]&&t[a].nodeType===1&&d.push(y[a]);else d.push.apply(d,t);else n(t,d);if(z){h(z,k,d,f);h.uniqueSort(d)}return d};h.uniqueSort=function(a){if(o){f=false;a.sort(o);if(f)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};h.matches=function(a,b){return h(a,null,null,b)};h.find=function(a,b,c){var d,e;if(!a)return[];for(var f=0,h=g.order.length;f<h;f++){var k=g.order[f];if(e=g.match[k].exec(a)){var l=
RegExp.leftContext;if(l.substr(l.length-1)!=="\\"){e[1]=(e[1]||"").replace(/\\/g,"");d=g.find[k](e,b,c);if(d!=null){a=a.replace(g.match[k],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,expr:a}};h.filter=function(a,b,c,d){for(var e=a,f=[],h=b,k,l,n=b&&b[0]&&s(b[0]);a&&b.length;){for(var o in g.filter)if((k=g.match[o].exec(a))!=null){var p=g.filter[o],m,y;l=false;h==f&&(f=[]);if(g.preFilter[o])if(k=g.preFilter[o](k,h,c,f,d,n)){if(k===true)continue}else l=m=true;if(k)for(var q=0;(y=h[q])!=
null;q++)if(y){m=p(y,k,q,h);var v=d^!!m;if(c&&m!=null)v?l=true:h[q]=false;else if(v){f.push(y);l=true}}if(m!==void 0){c||(h=f);a=a.replace(g.match[o],"");if(!l)return[];break}}if(a==e){if(l==null)throw"Syntax error, unrecognized expression: "+a;break}e=a}return h};var g=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b,c){var d=typeof b==="string",e=d&&!/\W/.test(b),d=d&&!e;e&&!c&&(b=b.toUpperCase());for(var c=0,e=a.length,f;c<
e;c++)if(f=a[c]){for(;(f=f.previousSibling)&&f.nodeType!==1;);a[c]=d||f&&f.nodeName===b?f||false:f===b}d&&h.filter(b,a,true)},">":function(a,b,c){var d=typeof b==="string";if(d&&!/\W/.test(b))for(var b=c?b:b.toUpperCase(),c=0,e=a.length;c<e;c++){var f=a[c];if(f){d=f.parentNode;a[c]=d.nodeName===b?d:false}}else{c=0;for(e=a.length;c<e;c++)(f=a[c])&&(a[c]=d?f.parentNode:f.parentNode===b);d&&h.filter(b,a,true)}},"":function(c,e,f){var h=d++,g=b;if(!/\W/.test(e))var j=e=f?e:e.toUpperCase(),g=a;g("parentNode",
e,h,c,j,f)},"~":function(c,e,f){var h=d++,g=b;if(typeof e==="string"&&!/\W/.test(e))var j=e=f?e:e.toUpperCase(),g=a;g("previousSibling",e,h,c,j,f)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},
preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(/\\/g,"")+" ";if(f)return a;for(var f=0,h;(h=b[f])!=null;f++)h&&(e^(h.className&&(" "+h.className+" ").indexOf(a)>=0)?c||d.push(h):c&&(b[f]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a,b){for(var c=0;b[c]===false;c++);return b[c]&&s(b[c])?a[1]:a[1].toUpperCase()},CHILD:function(a){if(a[1]=="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]=="even"&&"2n"||a[2]=="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||
a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=d++;return a},ATTR:function(a,b,c,d,e,f){b=a[1].replace(/\\/g,"");!f&&g.attrMap[b]&&(a[1]=g.attrMap[b]);a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,e,f){if(a[1]==="not")if(c.exec(a[3]).length>1||/^\w/.test(a[3]))a[3]=h(a[3],null,null,b);else{a=h.filter(a[3],b,d,1^f);d||e.push.apply(e,a);return false}else if(g.match.POS.test(a[0])||g.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===
false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!h(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===
a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toUpperCase()==="BUTTON"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},
lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0==b},eq:function(a,b,c){return c[3]-0==b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=g.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||"").indexOf(b[3])>=0;if(e==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===
1)return false;if(c=="first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":var c=b[2],e=b[3];if(c==1&&e==0)return true;var f=b[0],h=a.parentNode;if(h&&(h.sizcache!==f||!a.nodeIndex)){for(var g=0,d=h.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++g;h.sizcache=f}d=a.nodeIndex-e;return c==0?d==0:d%c==0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=g.attrHandle[c]?g.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",e=b[2],f=b[4];return c==null?e==="!=":e==="="?d===f:e==="*="?d.indexOf(f)>=0:e==="~="?(" "+d+" ").indexOf(f)>=0:!f?d&&c!==false:e==="!="?d!=f:e==="^="?d.indexOf(f)===0:e==="$="?d.substr(d.length-f.length)===f:e==="|="?d===f||d.substr(0,f.length+1)===f+"-":false},POS:function(a,b,c,d){var e=g.setFilters[b[2]];
if(e)return e(a,c,b,d)}}},l=g.match.POS,k;for(k in g.match)g.match[k]=RegExp(g.match[k].source+/(?![^\[]*\])(?![^\(]*\))/.source);var n=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(m){n=function(a,b){var c=b||[];if(e.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length==="number")for(var d=0,f=a.length;d<f;d++)c.push(a[d]);else for(d=0;a[d];d++)c.push(a[d]);
return c}}var o;document.documentElement.compareDocumentPosition?o=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){a==b&&(f=true);return 0}var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;c===0&&(f=true);return c}:"sourceIndex"in document.documentElement?o=function(a,b){if(!a.sourceIndex||!b.sourceIndex){a==b&&(f=true);return 0}var c=a.sourceIndex-b.sourceIndex;c===0&&(f=true);return c}:document.createRange&&(o=function(a,b){if(!a.ownerDocument||!b.ownerDocument){a==b&&(f=
true);return 0}var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.selectNode(a);c.collapse(true);d.selectNode(b);d.collapse(true);c=c.compareBoundaryPoints(Range.START_TO_END,d);c===0&&(f=true);return c});(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var c=document.documentElement;c.insertBefore(a,c.firstChild);if(document.getElementById(b)){g.find.ID=function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(b=
b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]};g.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}}c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)g.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]===
"*"){for(var d=[],e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")g.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=h,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){h=function(b,c,d,e){c=c||document;if(!e&&
c.nodeType===9&&!s(c))try{return n(c.querySelectorAll(b),d)}catch(f){}return a(b,c,d,e)};for(var c in a)h[c]=a[c];b=null}}();document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){g.order.splice(1,0,"CLASS");g.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==
"undefined"&&!c)return b.getElementsByClassName(a[1])};a=null}}}();var p=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)},s=function(a){return a.nodeType===9&&a.documentElement.nodeName!=="HTML"||!!a.ownerDocument&&a.ownerDocument.documentElement.nodeName!=="HTML"},q=function(a,b){for(var c=[],d="",e,f=b.nodeType?[b]:b;e=g.match.PSEUDO.exec(a);){d=d+e[0];a=a.replace(g.match.PSEUDO,"")}a=g.relative[a]?
a+"*":a;e=0;for(var k=f.length;e<k;e++)h(a,f[e],c);return h.filter(d,c)};A.rudolphSizzle=h})();(function(){if(A.rudolphSizzle)rudolphUtil.$$=A.rudolphSizzle;rudolphUtil.extend(rudolphUtil,rudolphUtil.Event);rudolphUtil.extend(rudolphUtil,rudolphUtil.Browser);rudolphUtil.extend(rudolphUtil,rudolphUtil.Element);if(rudolphUtil.Event.GC!=void 0)A.JiguEventGC=rudolphUtil.Function.interval(rudolphUtil.Event.GC,6E4,rudolphUtil.Event);rudolphUtil.Event.addEvent(A,"load",function(){rudolphUtil.documentLoaded=
true});rudolphUtil.nativeExtend();if(A.console)if(A.console.log){if(!A.console.debug)A.console.debug=function(){for(var a=0,b=arguments.length;a<b;a++)A.console.log(arguments[a])}}else A.console.debug=A.console.log=function(){};else A.console={debug:function(){},log:function(){}};return true})();rudolph={version:"@VERSION",message:{},define:{},model:{},module:{},view:{},template:{},sparrow:{}};A.$ssf&&(A._$ssf=A.$ssf);A._development=!0;A.$ssf=rudolph.sparrow=function(){function a(a,b){if(!b.getContainer)b.getContainer=
function(){return b.container||b.el};b.release&&b.getContainer()&&rudolphUtil.addEvent(b.getContainer(),"mousedown",function(){a.currentView=b})}var b=[],c={_loadingfn:"",run:function(a,b,c,d,e){for(var f=0;f<a.length;f++){var h=a[f];this._loadingfn=h.desc;h(b,c,d,e)}this._loadingfn=""},install:function(a,c){try{c.desc=a;b.push(c)}catch(d){}},installX:function(){},installModule:function(a,c,d,e){this.run(b,a,c,d,e)}};c.win=A;c.doc=A.document;c.tmp=c.doc.createElement("div");c.html=c.doc.documentElement;
c.services={};var d=[],e=[],f=c.EventDispatcher=function(){};f.addBeforeCallback=function(a){d.push(a)};f.addAfterCallback=function(a){e.push(a)};c.EventDispatcher.prototype={addListener:function(a){for(var b in a)this.addAdaptor(b,a[b])},addAdaptor:function(a,b){if(!this.listeners)this.listeners={};b._module=$ssf._loadingfn;this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatchEvent:function(a,b){if(this.listeners){var c=true,b=b||{target:this},f=this.listeners[a];if(f){for(var h=
true,g=0,p=d.length;g<p;g++)h=d[g](a,this,b);if(!h)return;g=0;for(p=f.length;g<p;g++){h=f[g];try{h.call(this,b)===false&&(c=false)}catch(m){["listener_error_",m.fileName,"/",m.lineNumber,"/",rudolphUtil.getCookie("D_sid"),"/",m.message.replace(/ /g,"_"),"/",m.stack].join("");if(A._development==true)throw m;}}g=0;for(p=e.length;g<p;g++)e[g](a,this,b)}return c}},init:function(){this.dispatchEvent("onPreinitialized",{target:this});this.initialize&&this.initialize();this.dispatchEvent("onInitialized",
{target:this})}};var h=[];c.Runner=function(){this.$super();var b=this,d=this.models=new _registry({added:function(){}}),e=this.views=new _registry({added:function(){}});this.commands=new _registry;this.config=A.daumProperties||{};var f=e.add;e.add=function(c,d){d.getApplicationContext=function(){return b};a(b,d);f.call(e,c,d)};this.getViewStack=function(){return h};A._development&&c.trimpath();c.installModule(this,e,d,this.config);for(var d=0,g=e.length;d<g;d++)e.get(e[d]).init();this.dispatchEvent("onContextLoad",
{});rudolphUtil.addEvent($ssf.win,"unload",function(){b.dispatchEvent("onContextUnload",{})});c.win.onerror=function(a,c,d){b.dispatchEvent("errorCatched",{message:a,exception:{message:a,fileName:c,lineNumber:d,stack:""}});return true}};rudolphUtil.Function.inherit(c.Runner,f);return c}();try{rudolph.sparrow.doc.execCommand("BackgroundImageCache",!1,!0)}catch(Be){}rudolphUtil.extend(rudolph.message,{ERROR_NO_PROXY_FRAME:"Proxy Frame \uc774 \uc0dd\uc131\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
ERROR_NO_REQUEST_URL:"Request URL\uc774 \uc120\uc5b8\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_INPUTBOX:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_PARENT_CONTAINER:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780 \uc0c1\uc704 \ucee8\ud14c\uc774\ub108\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});
rudolphUtil.extend(rudolph.define,{Keyboard:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224},useTabKey:!1});rudolphUtil.extend(rudolph.template,{RequestString:"?q=KEYWORD&mod=json&code=CHARSET",RecentRequestString:"http://personal.search.daum.net/my_keyword_history/get.js?function=INSTANCE_NAME.dataModelRecent.forceLoadCompleteRecent",
RecentDeleteString:"http://personal.search.daum.net/my_keyword_history/remove_all.js?function=INSTANCE_NAME.dataModelRecent.forceLoadCompleteDeleteRecent",Base:new rudolphUtil.Template('<ul>#{list_high}</ul><div class="line" style="display:#{line}"></div><ul>#{list_low}</ul>'),Image:new rudolphUtil.Template('<img src="#{url}">'),IsNonImage:new rudolphUtil.Template('<div class="empty"></div>'),Item:new rudolphUtil.Template('<li class="idx_#{idx}"><a class="item bg" href="javascript:;" onclick="return false;">#{item}</a></li>'),
Footer:new rudolphUtil.Template('<div class="fl">#{moreWord}</div><div class="fr"><a href="javascript:;" onclick="return false;" class="isSuggest">\uc11c\uc81c\uc2a4\ud2b8\ub780?</a><span class="bar" style="display:#{offUsable}">|</span><a href="javascript:;" onclick="return false;" class="offSuggest" style="display:#{offUsable}">\uae30\ub2a5\ub044\uae30</a><span class="offGuide">\uae30\ub2a5\uc744 \ub2e4\uc2dc \ucf24 \ub54c\ub294 v \uc744 \ud074\ub9ad\ud558\uc138\uc694</span></div>'),RecentFooter:new rudolphUtil.Template('<div class="fl">#{recentButton}</div>'),
RecentViewFooter:new rudolphUtil.Template('<a href="javascript:;" onclick="return false;" class="deleteRecent">\ucd5c\uadfc\uac80\uc0c9\uc5b4 \uae30\ub85d\uc0ad\uc81c</a><span class="bar" style="display:#{offUsable}"> | </span><a href="javascript:;" onclick="return false;" class="toggleRecent off">\uc228\uae30\uae30</a>'),RecentHideFooter:new rudolphUtil.Template('<a href="javascript:;" class="toggleRecent on">\ucd5c\uadfc\uac80\uc0c9\uc5b4 \ubcf4\uae30</a>'),TailMore:new rudolphUtil.Template('<a href="javascript:;" class="tailMore">\ub05d\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),
HeadMore:new rudolphUtil.Template('<a href="javascript:;" class="headMore">\uc55e\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),UsingSuggest:new rudolphUtil.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),UseSuggest:new rudolphUtil.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),UsingExternalGuide:new rudolphUtil.Template('<div class="external_guide"></div>'),IntroduceSuggestURL:"http://blog.daum.net/daumsearch/16151013"});
rudolphUtil.extend(rudolph.define,{FocusPointType:{LOAD:"load",WRITE:"write",DEFAULT:"user"},KeywordCompareType:{HEAD:"head",TAIL:"tail",FULL:"full"},ListPositionType:{TRANS:"tail",DEFAULT:"head"},ActivationCookieName:"suggest",ActivationType:{ON:"on",OFF:"off"},RecentCookieName:"suggest_recent",RecentCookieType:{ON:"on",OFF:"off"},KeywordMaxLength:20,KeywordMaxByte:40,ListMaxSize:13,RecentListMaxSize:15,EncodeType:{UTF_IN_OUT:"utf_in_out",UTF_IN:"utf_in"},DynamicScript:{SUGGEST:"dynamic_script_suggest",
RECENT:"dynamic_script_recent"},FrameOrientation:{90:"wide_frame","-90":"wide_frame","0":"default_frame",180:"default_frame"},Separator:{RAWDATA_ITEM:"|",AREACODE_ITEM:","},YellowClip:{ON:"expand",OFF:"off"},Service:{TOP:!1}});(function(a){var b=a.model.DataModel=function(a){this.suggestDomain=a.suggestDomain;this.requestUrl=a.requestUrl;this.requestString=a.requestString;this.encode=a.encode||"";this.reverse=a.reverse;this.defaultKeyword=a.keyword;a.proxyUrl&&this.createFrame(a.suggestDomain+a.proxyUrl);
this.callbackName=a.callbackName;this.loadVisible="visible";this.initialize(a)};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){},setEncode:function(a){this.encode=a},setCallbackName:function(a){this.callbackName=a},setRequestUrl:function(a){this.requestUrl=a},setRequestString:function(a){this.requestString=a},getRequestFullUrl:function(){return this.suggestDomain+this.requestUrl+(this.requestString?this.requestString:a.template.RequestString).replace("CHARSET",this.encode)},
get:function(b,d,e){this.isYellowDown=e;this.loadVisible=d||"visible";d=a.model.Raw.getByKeyword(b,this.suggestDomain+this.requestUrl+this.requestString)||null;b&&!d?this.callSuggestData(b):d?this.dispatchEvent("onReloadCache",{data:d}):this.dispatchEvent("onEmptyKeyword")},callSuggestData:function(b){if(rudolphUtil.String.byteLengthRudolphUtil(b)>a.define.KeywordMaxByte){this.dispatchEvent("onOverKeyword");return false}var d=b;if(this.encode==a.define.EncodeType.UTF_IN_OUT||this.encode==a.define.EncodeType.UTF_IN)d=
encodeURIComponent(b);if(this.callbackName){b=[this.getRequestFullUrl().replace("KEYWORD",d),"&callback=",this.callbackName].join("");a.module.ScriptCall.load(b,a.define.DynamicScript.SUGGEST)}else this.proxyCall(d,b)},proxyCall:function(a,b){var e=this;this.getProxyData(a,this.getRequestFullUrl(),function(a){a=(new Function("","return "+a+";"))();e.forceLoadComplete(a)})&&this.dispatchEvent("onSendData",{keyword:b,url:this.getRequestFullUrl()})},forceLoadComplete:function(a){this.dispatchEvent("onLoadComplete",
{data:a,route:this.suggestDomain+this.requestUrl+this.requestString,visible:this.loadVisible,isYellowDown:this.isYellowDown})},getProxyData:function(a,b,e){if(this.proxyFrame)try{this.proxyFrame.contentWindow.getData(a,b,e);return true}catch(f){}else return false},createFrame:function(a){var b=this;rudolph.DOMReady(function(){var e=document.createElement("iframe");e.name="proxyIframe";e.src=a;e.style.display="none";e.title="Suggest Proxy Frame";b.proxyFrame=e;document.body.appendChild(b.proxyFrame)})},
setReverse:function(a){this.reverse=a}})})(rudolph);(function(a){var b=a.model.DataModelRecent=function(b){this.useCrossDomainStorage=b.useCrossDomainStorage;this.recentKeywordData=b.recentKeywordData;this.proxyUrlOrCallbackName=b.proxyUrlOrCallbackName;this.boxView=b.boxView;this.footerView=b.footerView;this.listView=b.listView;this.listModel=b.listModel;this.dataModel=b.dataModel;this.callUrl=a.template.RecentRequestString.replace("INSTANCE_NAME",this.proxyUrlOrCallbackName.split(".")[0]);this.callDeleteUrl=
a.template.RecentDeleteString.replace("INSTANCE_NAME",this.proxyUrlOrCallbackName.split(".")[0]);this.areadyCall=false};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{showList:function(){a.module.ActivationFlag.set("on");var b=this.getData();if(b&&b.all&&b.all.length>0)this.boxView.dispatchEvent("onShowList",{data:b,more:false,isRecent:true});else if(this.isYellowDown)a.define.Service.TOP&&this.key==a.define.Keyboard.BACKSPACE||this.boxView.dispatchEvent("onShowGuide",{type:"UsingSuggest"});
else{this.boxView.renderBase("list");this.boxView.dispatchEvent("onShowList",{data:null,more:false,isRecent:true})}},deleteData:function(){a.module.ScriptCall.load(this.callDeleteUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT);this.listModel.set(null);this.boxView.hidden();this.setData([],[])},getDummyParam:function(){return"t="+(new Date).getTime()},request:function(b,d){this.isYellowDown=b;this.key=d;return a.define.Service.TOP?this.topRequest(b):this.commonRequest(b)},topRequest:function(b){if(a.define.Service.TOP)this.boxView.enableRecentKeyword=
b;b?this.getData()?this.showList():a.module.ScriptCall.load(this.callUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT):this.boxView.hidden()},commonRequest:function(){(rudolphUtil.getCookie(a.define.RecentCookieName)||a.define.RecentCookieType.ON)==a.define.RecentCookieType.ON&&!this.getData()?a.module.ScriptCall.load(this.callUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT):this.showList()},getQuery:function(){return!a.define.RecentKeyword?"":encodeURIComponent(a.define.RecentKeyword)},
forceLoadCompleteDeleteRecent:function(){},forceLoadCompleteRecent:function(b){if(b.myKeywordHistories&&b.myKeywordHistories.length>0){for(var d=[],e=[],f=0,h;h=b.myKeywordHistories[f];f++){if(f>=a.define.RecentListMaxSize)break;h=h.kword;if(e.indexOf(h)<0){e.push(h);d.push({string:this.escapeStr(h),index:f,item:Array(h),isRecent:true})}}this.setData(d,e)}else this.setData([]);this.showList()},setData:function(a,b){this.items=b;this.recentKeywordData={isRecent:true,keyword:"",head:a,tail:[],all:a.concat([])}},
getData:function(){this.listModel.set({rq:"",items:this.items});return this.recentKeywordData},escapeStr:function(a){return a}})})(rudolph);(function(a){var b=a.model.ListModel=function(a){this.limit=a.limit;this.data={};this.type=a.type;this.customGetStringFunc=a.customGetStringFunc;this.subwayAreacode=a.subwayAreacode;this.reverse=a.reverse};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{set:function(a){this.reset();if(a){this.data.keyword=a.rq;if(this.subwayAreacode)this.data.keyword=this.data.keyword.replace(this.subwayAreacode,
"");this.setList(a.items,"head");this.setList(a.r_items,"tail");a=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",a.head);this.pushAllData("tail",a.tail)}},rebuildLimit:function(a){a=Math.min(a,this.limit[0]);return{head:a,tail:this.limit[0]+this.limit[1]-a}},get:function(){if(this.reverse)this.data.all=this.data.all.reverse();return this.data},getString:function(a){return this.customGetStringFunc?this.customGetStringFunc(a):a[0]},setList:function(b,d){if(b){_setData=
this.data[d];for(var e=0,f=b.length;e<f;e++){var h=b[e].split(a.define.Separator.RAWDATA_ITEM),h={string:this.stringConvert(this.getString(h)),image:h[1],index:e,item:h};_setData.push(h)}}},reset:function(){this.data={keyword:"",head:[],tail:[],all:[]}},getSelectedItem:function(a){return a==null||a<0||a>=this.data.all.length?false:this.data.all[a]},pushAllData:function(a,b){var e=a=="tail"?this.data.tail:this.data.head;if(e)for(var f=Math.min(b,e.length),h=0;h<f;h++)this.data.all.push(e[h])},getChangeSort:function(a){this.data.all=
[];if(!!this.data.head==false&&!!this.data.tail==false)return this.data;if(a=="tail"){a=this.rebuildLimit(this.data.tail.length,this.data.head.length);this.pushAllData("tail",a.head);this.pushAllData("head",a.tail)}else{a=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",a.head);this.pushAllData("tail",a.tail)}return this.data},stringConvert:function(b){this.subwayAreacode&&(b=b.split(a.define.Separator.AREACODE_ITEM)[0]);return b.replace(/\&amp;/g,"&").replace(/\&lt;/g,
"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"')}})})(rudolph);(function(){rudolph.model.Raw=function(){var a={},b=0;return{set:function(c,d){if(b>100){b=0;a={}}a[d]||(a[d]={});a[d][c.rq]={rq:c.rq||"",items:c.items||[],r_items:c.r_items||[]};b++;return a[d][c.rq]},get:function(){return a},getByKeyword:function(b,d){return!!a[d]==false?false:a[d][b]?a[d][b]:false},empty:function(){a={}}}}()})();(function(){rudolphUtil.extend(rudolph.module,{AvailableKeyCode:function(a){for(var b=rudolph.define.Keyboard,
b=[b.CTRL,b.ALT,b.LEFT,b.RIGHT],c=b.length-1;c>=0;--c)if(b[c]==a)return false;return true}})})();(function(){rudolphUtil.extend(rudolph.module,{KeywordHighlight:function(c,d,e){if(e=="head")d=a(c,d);else if(e=="tail")d=b(c,d);else var e=c.replace(/ /g,""),f=d.replace(/ /g,""),d=e.toLowerCase().indexOf(f.toLowerCase())==0?a(c,d,e,f):b(c,d,e,f);d==""&&(d=c);return d}});var a=function(a,b,e,f){var h="";if(!e||!f){e=a.replace(/ /g,"");f=b.replace(/ /g,"")}e=e.toLowerCase().indexOf(f.toLowerCase());if(e>
-1){for(var g=0,l=0;l<e;g++){b=a.substring(g,g+1);b!=" "&&l++;h=h+b}h=h+'<strong class="emph_keyword">';e=g;for(g=0;g<f.length;e++){b=a.substring(e,e+1);b!=" "&&g++;h=h+b}h=h+("</strong>"+a.substr(e))}return h},b=function(a,b,e,f){var h="";if(!e||!f){e=a.replace(/ /g,"");f=b.replace(/ /g,"")}if(f==e.substring(e.length-f.length)){for(var g=0,l=0;l<e.length-f.length;g++){b=a.substring(g,g+1);b!=" "&&l++;h=h+b}h=h+'<strong class="emph_keyword">';e=g;for(g=0;g<f.length;e++){b=a.substring(e,e+1);b!=" "&&
g++;h=h+b}h=h+"</strong>"}return h}})();(function(){rudolphUtil.extend(rudolph.module,{RequestKeyword:function(){}})})();(function(a){rudolphUtil.extend(a.module,{ScriptCall:function(){var a=document.getElementsByTagName("head")[0];return{load:function(c,d){var e=rudolphUtil.$(d);e&&a.removeChild(e);e=document.createElement("script");e.type="text/javascript";e.id=d;e.src=c;a.appendChild(e)}}}()})})(rudolph);(function(){rudolphUtil.extend(rudolph.module,{ClickLog:function(a){if(a.listView.getSelectedItem()==
null){var b=a.listView.itemArr,c=null;if(b!=null)for(var d=0,e=b.length;d<e;++d)if(b[d].className.indexOf("on")>-1){c=d+1;break}}else c=parseInt(a.listView.getSelectedItem().index,10)+1;if(a.option.logFunc!=null&&a.listView.listModel!=null&&(typeof a.option.logFunc).toLowerCase()==="function"){b={keyword:a.keywordInputView._previousKeyword,inputQuery:a.keywordInputView.getDefaultKeyword(),index:c,totalCount:a.listView.listModel.all.length};a.option.logFunc.call(a,b)}}})})();(function(a){var b=true,
c=a.define.ActivationCookieName,d=a.define.ActivationType.OFF;rudolphUtil.extend(a.module,{ActivationFlag:function(){b=rudolphUtil.getCookie(c)==d?false:true;return{set:function(a){b=a==d?false:true;rudolphUtil.setCookie(c,a,365)},get:function(){return b}}}()})})(rudolph);(function(a){var b=a.view.YellowView=function(){this.container=null};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(b){this.container=rudolphUtil.$(b);if(!this.container)return false;this.render();var d=
this;rudolphUtil.addEvent(this.container,"mousedown",function(b){var c=rudolphUtil.getElement(b);rudolphUtil.hasClassName(c,a.define.YellowClip.OFF)?a.Service.block(false,d):rudolphUtil.hasClassName(c,a.define.YellowClip.ON)?d.dispatchEvent("onYellowUp"):d.dispatchEvent("onYellowDown");rudolphUtil.stopEvent(b)});rudolphUtil.addEvent(this.container,"keydown",function(b){if(b.keyCode==a.define.Keyboard.ENTER){a.define.useTabKey=false;var c=rudolphUtil.getElement(b);rudolphUtil.hasClassName(c,a.define.YellowClip.OFF)?
a.Service.block(false,d):rudolphUtil.hasClassName(c,a.define.YellowClip.ON)?d.dispatchEvent("onYellowUp"):d.dispatchEvent("onYellowDown");rudolphUtil.stopEvent(b)}})},setUp:function(){if(!this.container)return false;this.container.className=a.define.YellowClip.ON;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \uc811\uae30"},setDown:function(){if(!this.container)return false;this.container.className="";this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ud3bc\uce58\uae30"},
setOff:function(){if(!this.container)return false;this.container.className=a.define.YellowClip.OFF;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ucf1c\uae30"},render:function(){if(!this.container)return false;a.module.ActivationFlag.get()==false&&rudolphUtil.addClassName(this.container,a.define.YellowClip.OFF)}})})(rudolph);(function(a){a=a.view.BoxView=function(a){this.container=a.container;this.type=a.type;this.enableRecentKeyword=a.enableRecentKeyword;this.listModel=a.listModel;
this.keywordInputView=a.keywordInputView;this.keywordListData=null;this._isVisible=false;this.initialize(a)};rudolphUtil.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){},renderBase:function(){rudolphUtil.hasClassName(this.container,"thumbType")&&rudolphUtil.removeClassName(this.container,"thumbType");this.container.style.display="none";this._isVisible=false},renderType:function(){this.type=="thumb"&&(rudolphUtil.hasClassName(this.container,"thumbType")||rudolphUtil.addClassName(this.container,
"thumbType"))},getDataList:function(){return!!this.keywordDataList==false?this.listModel.get():this.keywordDataList},renderBaseGuide:function(a){if(a=="toUse"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UseSuggest"})}else if(a=="Used"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UsingSuggest"})}},renderBaseNoResult:function(){this.dispatchEvent("onShowGuide",{type:"NoResult"})},renderShowList:function(a){this.dispatchEvent("onShowList",a)},emptyVisibleAction:function(a,
c){this.enableRecentKeyword?this.renderShowList({data:c,more:false}):this.renderBaseGuide(a)},visibleAction:function(a,c){if(rudolphUtil.Array.size(c.all)<=0)this.enableRecentKeyword&&a=="UsedRecent"?this.renderBaseGuide("Used"):this.renderBaseNoResult();else{this.renderBase("list");this.renderShowList({data:c,more:this.isMore(c)})}},isMore:function(a){return a.head.length==0||a.tail.length==0?false:true},visible:function(a,c){var d=this.getDataList();!!d.keyword==false&&this.keywordInputView.getValue()==
""&&!c?this.emptyVisibleAction(a,d):this.visibleAction(a,d)},show:function(){this.container.style.display="block";this._isVisible=true},hidden:function(){this.container.style.display="none";this._isVisible=false;this.dispatchEvent("onHiddenBox")},isVisible:function(){return this._isVisible}})})(rudolph);(function(a){var b=a.view.ImageView=function(a){this.container=a.container;this.listModel=a.listModel;this.listArr=this.imageContainer=null;this.initialize()};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,
{initialize:function(){},getListData:function(){return!!this.listArr==false?this.listModel.get():this.listArr},setImageHtml:function(a){var b=this;if(!!this.container==false)return false;if(!!this.imageContainer==false){this.imageContainer=document.createElement("DIV");this.imageContainer.className="imageBox";this.container.appendChild(this.imageContainer);rudolphUtil.addEvent(this.imageContainer,"mousedown",function(){b.dispatchEvent("onMousedownImage")})}this.imageContainer.innerHTML=a},render:function(b){b=
this.getThumbnailUrl(b);if(!!b==false){this.setImageHtml(a.template.IsNonImage.evaluate());return false}this.setImageHtml(a.template.Image.evaluate({url:b}))},getThumbnailUrl:function(a){return this.getListData().all[a].image}})})(rudolph);(function(a){var b=a.view.FooterView=function(a){this.index=null;this.container=a.container;this.offUsable=a.yellowClip;this.focusableElements=this.footerContainer=null;this.disabled=a.option&&a.option.type&&a.option.type.toLowerCase()=="simple"?true:false;this.initialize()};
rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){if(!this.disabled){var b=this;rudolphUtil.addEvent(this.container,"mousedown",function(d){var e=rudolphUtil.getElement(d);rudolphUtil.hasClassName(e,"tailMore")?b.dispatchEvent("onTailMore"):rudolphUtil.hasClassName(e,"headMore")?b.dispatchEvent("onHeadMore"):rudolphUtil.hasClassName(e,"isSuggest")?b.dispatchEvent("onIsSuggest",{event:d}):rudolphUtil.hasClassName(e,"offSuggest")?a.Service.block(true):rudolphUtil.hasClassName(e,
"closeSuggest")&&b.dispatchEvent("onCloseSuggest");rudolphUtil.stopEvent(d)})}},addMouseEvent:function(){if(!this.disabled)if(this.isRecent){var b=this,d=rudolphUtil.getElementsByClassName(this.footerContainer,"deleteRecent")[0];d&&rudolphUtil.addEvent(d,"click",function(a){b.dispatchEvent("onDeleteRecent");rudolphUtil.stopEvent(a)});(d=rudolphUtil.getElementsByClassName(this.footerContainer,"toggleRecent")[0])&&rudolphUtil.addEvent(d,"click",function(a){b.dispatchEvent("onToggleRecent",a);rudolphUtil.stopEvent(a)})}else{var d=
rudolphUtil.getElementsByClassName(this.footerContainer,"offSuggest")[0],e=rudolphUtil.getElementsByClassName(this.footerContainer,"offGuide")[0];if(d){rudolphUtil.addEvent(d,"mouseover",function(){rudolphUtil.show(e)});rudolphUtil.addEvent(d,"mouseout",function(){rudolphUtil.hide(e)});rudolphUtil.addEvent(d,"blur",a.Service.hiddenAll)}}},setFooterHtml:function(a){if(!this.disabled){if(!!this.container==false)return false;if(!!this.footerContainer==false){this.footerContainer=document.createElement("DIV");
this.footerContainer.className="footer bg_sub";this.container.appendChild(this.footerContainer)}this.footerContainer.innerHTML=a;this.focusableElements=this.footerContainer.getElementsByTagName("a");this.addMouseEvent()}},moreEvaluate:function(b){if(!this.disabled)return b=="head"?a.template.HeadMore.evaluate():a.template.TailMore.evaluate()},render:function(b,d){if(!this.disabled){this.isRecent=d;this.isAddEvent=false;var e=this.offUsable?"":"none",f=b=="nomore"?"":this.moreEvaluate(b);if(d){f=(rudolphUtil.getCookie(a.define.RecentCookieName)||
a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF?a.template.RecentHideFooter.evaluate({offUsable:e}):a.template.RecentViewFooter.evaluate();this.setFooterHtml(a.template.RecentFooter.evaluate({moreWord:"",offUsable:e,recentButton:f}),d)}else this.setFooterHtml(a.template.Footer.evaluate({moreWord:f,offUsable:e}),d)}}})})(rudolph);(function(a){var b=a.view.GuideView=function(a){this.container=a.container;this.customUsingGuide=a.customUsingGuide;this.guideContainer=null;this.initialize()};
rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){this.render()},setGuideHtml:function(a){if(!!this.container==false)return false;var b=rudolphUtil.getElementsByClassName(this.container,"list");if(b.length>0){rudolphUtil.replaceClassName(b[0],"list","guide");this.guideContainer=b[0]}if(!!this.guideContainer==false){this.guideContainer=document.createElement("DIV");rudolphUtil.addClassName(this.guideContainer,"guide");this.container.appendChild(this.guideContainer)}this.guideContainer.innerHTML=
a},render:function(b){switch(b){case "USING":if(this.customUsingGuide&&typeof this.customUsingGuide=="function"){this.setGuideHtml(a.template.UsingExternalGuide.evaluate());this.customUsingGuide(rudolphSizzle(".guide",this.container)[0])}else this.setGuideHtml(a.template.UsingSuggest.evaluate());break;case "USE":this.setGuideHtml(a.template.UseSuggest.evaluate())}}})})(rudolph);(function(a){var b=true,c=a.define.Keyboard,d=false,e=false,f=a.view.KeywordInputView=function(a){this._keywordBox=a.inputBox;
this._defaultKeyword="";this._previousKeyword=this._keywordBox.value;this.option=a.option;this._intervalId=this._currentKeyword=null;this.setSmartWatchingTarget();this._firstKeyword=this._keywordBox.value;this._bindEvents()};rudolphUtil.Function.inherit(f,$ssf.EventDispatcher,{_bindEvents:function(){var f=this;rudolphUtil.addEvent(this._keywordBox,"focus",function(a){b&&f.start();f.dispatchEvent("onFocusKeywordBox",{event:a,keyword:f._currentKeyword||""})});rudolphUtil.addEvent(this._keywordBox,"mousedown",
function(b){a.define.useTabKey=false;f.dispatchEvent("onClickKeywordBox",{event:b,keyword:f._keywordBox.value});rudolphUtil.stopPropagation(b)});rudolphUtil.addEvent(this._keywordBox,"keydown",function(g){var l=g.keyCode;l==c.SHIFT?d=true:l==c.ALT?e=true:l!=c.CTRL&&(l==c.ENTER?f.dispatchEvent("onEnterKeywordBox",{event:g}):l==c.ESC?f.dispatchEvent("onAltTabKeywordBox",{event:g}):e&&l==c.TAB?f.dispatchEvent("onEscKeywordBox",{event:g}):l==c.UP||d&&l==c.TAB?f.dispatchEvent("onUpKeywordBox",{event:g,
keyCode:l,isShift:d}):l==c.DOWN||!d&&l==c.TAB?f.dispatchEvent("onDownKeywordBox",{event:g,keyCode:l,isShift:d}):b&&(a.module.ActivationFlag.get()==true&&f._intervalId==null)&&f.start())});rudolphUtil.addEvent(this._keywordBox,"keyup",function(a){a=a.keyCode;a==c.SHIFT?d=false:a==c.ALT&&(e=false);!!f.getValue().trimRudolphUtil().length==0&&f.dispatchEvent("onEmptyKeyword",{keyword:f.getValue(),key:a})});rudolphUtil.addEvent(this._keywordBox,"blur",function(a){f.dispatchEvent("onBlurKeywordBox",{event:a})})},
start:function(){if(!this._intervalId){this._previousKeyword=this._currentKeyword=this._keywordBox.value;this._intervalId=rudolphUtil.Function.interval(this.watching,130,this)}},watching:function(){this._currentKeyword=this._keywordBox.value;if(this._previousKeyword!=this._currentKeyword){this._previousKeyword=this._currentKeyword;this.dispatch(this._currentKeyword)}},dispatch:function(a){this.dispatchEvent("onChangeKeyword",{keyword:a})},setSmartWatchingTarget:function(){if(navigator.userAgent.indexOf("SHW")!=
-1)return false},clear:function(){},setAlwaysWatching:function(){b=true;this.start()},setSmartWatching:function(){b=true},getWatchType:function(){return b},setDefaultKeyword:function(a){this._defaultKeyword=a},getDefaultKeyword:function(){return this._defaultKeyword},initDefaultKeyword:function(){if(!!this._keywordBox.value==true){if(this._firstKeyword!=""&&this._defaultKeyword==""){this._defaultKeyword=this._firstKeyword;this._firstKeyword=""}this._keywordBox.value=this._previousKeyword=this._currentKeyword=
this._defaultKeyword}},setFocus:function(){this._keywordBox.focus()},getValue:function(){return this._keywordBox.value},setValue:function(a){this._previousKeyword=this._keywordBox.value=a},clearValue:function(){this._keywordBox.value=""},setSelect:function(){this._keywordBox.select()},getBoxId:function(){return this._keywordBox.id},blur:function(){this._keywordBox.blur()}})})(rudolph);(function(a){var b=a.view.ListView=function(b){this.keyword=this.index=null;this.positionType=a.define.ListPositionType.DEFAULT;
this.itemArr=null;this.container=b.container;this.limit=b.limit;this.isLimitMatch=b.isLimitMatch;this.customItemValueFunc=b.customItemValueFunc;this.maxSize=this.limit[0]+this.limit[1];this.listModel=this.listContainer=null;this.eventFlag=false;this.reverse=b.reverse;this.maxIndex=this.minIndex=0;this.initialize(b)};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){},move:function(a){if(this.maxIndex==0)return false;var b=this.index;switch(a){case "UP":b--;if(b<this.minIndex){this.dispatchEvent("onHideHighlight");
return false}break;case "DOWN":b++;if(b>=this.maxIndex)return false}this.select(b)},moveUp:function(){this.move("UP")},moveDown:function(){this.move("DOWN")},select:function(a,b){var e=b||"";if(a==null)return false;this.blur();this.index=a;this.setClassNameOnSelectedItem();this.dispatchEvent("onSelectItem",{index:this.index,action:e})},blur:function(){this.index!=null&&this.index>=0&&this.getItemEl()[this.index]&&rudolphUtil.removeClassName(this.getItemEl()[this.index],"on")},getIndex:function(){return this.index},
getSelectedItem:function(){if(this.index==null||this.index<0)return null;var a=this.listModel.all[this.index];return a?a:null},getItemEl:function(){return this.listContainer&&!!this.itemArr==false?this.itemArr=this.listContainer.getElementsByTagName("LI"):this.itemArr},setClassNameOnSelectedItem:function(){var a=this.getItemEl()[this.index];a&&rudolphUtil.addClassName(a,"on")},getItemIndex:function(a){for(var b=0;b<5;++b){if(rudolphUtil.String.startsWith(a.className,"idx_"))return a.className.match(/idx_([0-9]+).*/)[1];
a=rudolphUtil.getParent(a)}},bindEvent:function(){if(!!this.eventFlag==false){var a=this;rudolphUtil.addEvent(this.listContainer,"mouseover",function(b){b=rudolphUtil.getElement(b);b=a.getItemIndex(b);a.select(b,"over")});rudolphUtil.addEvent(this.listContainer,"click",function(b){var e=rudolphUtil.getElement(b),e=a.getItemIndex(e);a.dispatchEvent("onSelectedItemClick",{event:b,string:a.listModel.all[e].string})});rudolphUtil.addEvent(this.listContainer,"mousedown",function(a){rudolphUtil.stopEvent(a)});
this.eventFlag=true}},setListHtml:function(a){if(!!this.container==false)return false;var b=rudolphUtil.getElementsByClassName(this.container,"guide");if(b.length>0){b[0].className="list";this.listContainer=b[0]}if(!!this.listContainer==false){this.listContainer=document.createElement("DIV");rudolphUtil.addClassName(this.listContainer,"list");this.container.appendChild(this.listContainer)}this.listContainer.innerHTML=a;this.bindEvent()},itemEvaluate:function(b,d,e,f){this.reverse&&(b=b.reverse());
for(var f=f||0,h=[],g=b.length,e=g>=e?e:g,g=0;g<e;g++){var l;l=this.customItemValueFunc?this.customItemValueFunc(b[g]):b[g].string;h.push(a.template.Item.evaluate({first:g%2==0?" first":"",item:a.module.KeywordHighlight(l,this.keyword,d),idx:f+g}))}return h.join("")},emptyRender:function(){this.setListHtml("")},render:function(b){if(b==null)return this.emptyRender();this.listModel=b;this.keyword=b.keyword;var d=a.define.ListPositionType;if(this.positionType==d.DEFAULT){var e=b.head,f=b.tail,h=b.head.length,
g=b.tail.length;if(h==0&&g>h){e=b.tail;f=b.head}}else{e=b.tail;f=b.head}b=Math.min(e.length,this.limit[0]);h=this.limit[1];this.isLimitMatch===true&&(h=this.maxSize-b);h=Math.min(f.length,h);this.maxIndex=b+h;this.resetIndex();g=this.limit[1]>0?this.positionType:a.define.KeywordCompareType.FULL;this.setListHtml(a.template.Base.evaluate({list_high:this.itemEvaluate(e,g,b),list_low:h>0?this.itemEvaluate(f,g==d.DEFAULT?d.TRANS:d.DEFAULT,h,b):"",line:b>0&&h>0?"block":"none"}));this.keyword&&this.show()},
changePositionType:function(b){var d=a.define.ListPositionType;this.positionType=this.positionType==d.DEFAULT?d.TRANS:d.DEFAULT;this.render(b)},resetIndex:function(){this.index=this.reverse&&this.listModel&&this.listModel.all?this.listModel.all.length:-1},resetPositionType:function(){this.positionType=a.define.ListPositionType.DEFAULT},unSelect:function(){var a=this.getItemEl()[this.index];a&&rudolphUtil.removeClassName(a,"on")},setIndex:function(a){this.index=a},hide:function(){if(this.listContainer){this.listContainer.style.display=
"none";this.isVisible=false}},show:function(){if(this.listContainer){this.listContainer.style.display="block";this.isVisible=true}},visible:function(){return this.isVisible}})})(rudolph);(function(){function a(){if(!c){c=true;if(document.readyState&&document.readyState==="complete"||document&&document.getElementsByTagName&&document.getElementById&&document.body)return b();if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",
arguments.callee,false);b()},false);else if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);b()}});document.documentElement.doScroll&&A==A.top&&function(){if(!d){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}b()}}()}rudolphUtil.addEvent(A,"load",b)}}function b(){if(!d){d=true;if(e){rudolphUtil.Array.eachRudolphUtil(e,function(a){a.call(document,
null)});e=null}}}var c=false,d=false,e=[];rudolph.DOMReady=function(b){a();d?b.call(document,null):e.push(b);return this}})();(function(a){(a.Instance=function(b,c,f,h,g,l){this.inputBox=rudolphUtil.$(b);if(!!this.inputBox===false){alert(a.message.ERROR_NO_INPUTBOX);return false}this.wrapper=rudolphUtil.$(c);if(!!this.wrapper===false){alert(a.message.ERROR_NO_PARENT_CONTAINER);return false}this.suggestDomain=f;this.requestUrl=h;l===true?this.callbackName=g:this.proxyUrl=g;this.initialize()}).prototype=
{initialize:function(){this.isActivate=null;this.currentKeyword="";this.option={type:"base",thumbActionFunc:null,customItemValueFunc:null,customGetStringFunc:null,limit:[10,3],isLimitMatch:true,focus:a.define.FocusPointType.DEFAULT,encode:a.define.EncodeType.UTF_IN_OUT,customUsingGuide:null,beforeExcuteNativeTab:null,areacode:null,requestString:"",enableRecentKeyword:false,reverse:null,logFunc:null};this.containerBox=null;this.yellowView=new a.view.YellowView;this.keywordInputView=new a.view.KeywordInputView({inputBox:this.inputBox,
option:this.option});this.dataModel=new a.model.DataModel({suggestDomain:this.suggestDomain,requestUrl:this.requestUrl,proxyUrl:this.proxyUrl,callbackName:this.callbackName,encode:this.option.encode,reverse:this.option.reverse,keyword:this.inputBox.value,requestString:this.option.requestString});this._bindEvents()},_requestRecent:function(){this._instanceReady();if(!this.dataModelRecent)this.dataModelRecent=new a.model.DataModelRecent({recentKeywordData:this.recentKeywordData,proxyUrlOrCallbackName:this.callbackName,
boxView:this.boxView,footerView:this.footerView,listView:this.listView,dataModel:this.dataModel,listModel:this.listModel});this.dataModelRecent.request()},_containerRender:function(){var a="suggestBox box_sub";this.option.reverse&&(a=a+" reverseType");this.containerBox=b(this.wrapper,a);this.containerBox.style.display="none";this.baseBox=b(this.containerBox,"baseBox bg")},_createModelView:function(){this.listModel=new a.model.ListModel({limit:this.option.limit,type:this.option.type,customGetStringFunc:this.option.customGetStringFunc,
subwayAreacode:this.option.subwayAreacode,reverse:this.option.reverse});this.boxView=new a.view.BoxView({container:this.containerBox,type:this.option.type,listModel:this.listModel,enableRecentKeyword:this.option.enableRecentKeyword,keywordInputView:this.keywordInputView});this.listView=new a.view.ListView({container:this.baseBox,limit:this.option.limit,isLimitMatch:this.option.isLimitMatch,customItemValueFunc:this.option.customItemValueFunc,reverse:this.option.reverse});this.footerView=new a.view.FooterView({container:this.baseBox,
yellowClip:this.yellowView.container});this.guideView=new a.view.GuideView({container:this.baseBox,customUsingGuide:this.option.customUsingGuide});if(this.option.type=="thumb")this.imageView=new a.view.ImageView({container:this.containerBox,listModel:this.listModel})},_bindEvents:function(){var b=this;this.keywordInputView.addListener({onFocusKeywordBox:function(c){var f=b.keywordInputView.getDefaultKeyword(),h=b.keywordInputView.getValue();if(h==""){if(b.option.enableRecentKeyword)return b._requestRecent();
b.dataModel.dispatchEvent("onEmptyKeyword")}a.Service.hiddenAll();if(h&&h!=f){var g="hidden";b.option.enableRecentKeyword&&(g="visible");setTimeout(function(){b.request(c.keyword,g)},50)}else a.Service.isEqual(b)==false?a.Service.setCurrentInstance(b):b.visible()},onChangeKeyword:function(c){var f=c.keyword;if(b.option.subwayAreacode){f=b.option.subwayAreacode+c.keyword;b.request(f);b.listView.positionType=a.define.ListPositionType.DEFAULT;b.keywordInputView.setDefaultKeyword(f.replace(b.option.subwayAreacode,
""))}else{b.request(f);b.listView.positionType=a.define.ListPositionType.DEFAULT;b.keywordInputView.setDefaultKeyword(f)}}});this.yellowView.addListener({onActivateSuggest:function(c){a.module.ActivationFlag.set("on");if(c.view==this)if(b.getKeyword()){b.keywordInputView.start();b.request(b.getKeyword())}else b.visible("toUse");else this.setDown()},onYellowOff:function(){a.module.ActivationFlag.set("on");if(b.getKeyword()){b.keywordInputView.start();b.request(b.getKeyword())}else b.visible("toUse")},
onYellowUp:function(){!!b.getKeyword()==false&&b.keywordInputView.blur();b.hidden()},onYellowDown:function(){if(!!b.getKeyword()==false){b.option.enableRecentKeyword?b._requestRecent():b.keywordInputView.blur();b.visible("Used")}else{var a=b.getKeyword();b.keywordInputView.setFocus();b.keywordInputView.setValue("");b.keywordInputView.setValue(a);b.keywordInputView.setDefaultKeyword(a);b.visible("Used",true)}}});this._bindEvents=function(){var b=this;this.keywordInputView.addListener({onClickKeywordBox:function(){if(a.Service.getCurrentInstance()==
b)a.module.ActivationFlag.get()==true&&b.toggle();else{a.Service.hiddenAll();a.Service.setCurrentInstance(b)}},onBlurKeywordBox:function(){},onUpKeywordBox:function(c){if(!(b.boxView.isVisible()==false&&c.keyCode==a.define.Keyboard.TAB))if(b.option.reverse){if(b.boxView.isVisible()==true)if(0<b.listView.getIndex())b.listView.moveUp();else{var d=b.getKeyword();b.keywordInputView.setFocus();b.keywordInputView.setValue("");b.keywordInputView.setValue(d);b.keywordInputView.setDefaultKeyword(d);b.boxView.hidden()}else b.boxView.visible();
rudolphUtil.preventDefault(c.event)}else{b.listView.moveUp();rudolphUtil.preventDefault(c.event);if(b.option.enableRecentKeyword&&b.listView.getIndex()==-1&&b.getKeyword()=="")b.option.hideRecent=true}},onEmptyKeyword:function(){b.dataModel.dispatchEvent("onEmptyKeyword")},onDownKeywordBox:function(c){if(a.module.ActivationFlag.get())if(b.boxView.isVisible()==false&&c.keyCode==a.define.Keyboard.TAB)b.option.beforeExcuteNativeTab&&b.option.beforeExcuteNativeTab(c.event);else{if(b.boxView.isVisible()==
true)if(b.listView.getItemEl().length-1>b.listView.getIndex())b.listView.moveDown();else{b.boxView.hidden();b.keywordInputView.initDefaultKeyword()}else if(b.option.reverse){b.boxView.hidden();b.keywordInputView.initDefaultKeyword()}else b.boxView.visible();rudolphUtil.preventDefault(c.event)}},onEscKeywordBox:function(){b.hidden()},onEnterKeywordBox:function(a){b.option.beforeSubmit&&rudolphUtil.stopEvent(a.event);c(b,a);b.hidden()},onBlankKeywordValue:function(){b.hidden()}});this.boxView.addListener({onShowList:function(c){if(b.option.enableRecentKeyword)if(c.isRecent||
!c.data.keyword)if((rudolphUtil.getCookie(a.define.RecentCookieName)||a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF){b.listView.render(null);b.listView.hide();b.footerView.render(null,true);b.boxView.show()}else if(c.data&&c.data.all&&c.data.all.length>0){b.listView.render(c.data);b.listView.show();b.footerView.render(null,true);b.boxView.show()}else b.boxView.hidden();else{b.listView.render(c.data);b.listView.show();b.option.limit[0]==0||b.option.limit[1]==0||!c.more?b.footerView.render("nomore"):
b.footerView.render();b.yellowView.setUp();b.boxView.show()}else{if(!b.option.reverse){b.listView.render(c.data);b.listView.show()}b.option.limit[0]==0||b.option.limit[1]==0||!c.more?b.footerView.render("nomore"):b.footerView.render();if(b.option.reverse){b.listView.render(c.data);b.listView.show()}b.yellowView.setUp();b.boxView.show()}},onShowGuide:function(a){b.option.reverse&&b.footerView.render("nomore");switch(a.type){case "UsingSuggest":b.guideView.render("USING");break;case "UseSuggest":b.guideView.render("USE");
break;case "NoResult":b.listModel.set(null);b.hidden();return false}b.option.reverse||b.footerView.render("nomore");b.boxView.show();b.yellowView.setUp()},onHiddenBox:function(){a.module.ActivationFlag.get()==true&&b.yellowView.setDown();b.listModel.getChangeSort();b.listView.resetIndex();b.listView.resetPositionType()},onDifferntKeyword:function(a){b.request(a.keyword)}});this.listView.addListener({onHideHighlight:function(){b.keywordInputView.initDefaultKeyword();b.hidden()},onSelectItem:function(a){b.boxView.renderType();
b.option.type=="thumb"&&b.imageView&&b.imageView.render(a.index);if(a.action!="over")(a=b.listModel.getSelectedItem(a.index))&&b.keywordInputView.setValue(a.string)},onSelectedItemClick:function(a){rudolphUtil.Browser.mac&&rudolphUtil.Browser.ff&&b.keywordInputView.blur();b.keywordInputView.setValue(a.string);c(b,a);b.hidden()}});this.footerView.addListener({onTailMore:function(){b.keywordInputView.initDefaultKeyword();var a=b.listModel.getChangeSort("tail");b.listView.changePositionType(a);b.footerView.render("head")},
onHeadMore:function(){b.keywordInputView.initDefaultKeyword();var a=b.listModel.getChangeSort("head");b.listView.changePositionType(a);b.footerView.render("tail")},onIsSuggest:function(b){A.open(a.template.IntroduceSuggestURL,"_blank");rudolphUtil.preventDefault(b.event)},onOffSuggest:function(){a.module.ActivationFlag.set("off");b.yellowView.setOff();b.hidden()},onCloseSuggest:function(){b.hidden()},onDeleteRecent:function(){b.dataModelRecent.deleteData()},onToggleRecent:function(c){if((rudolphUtil.getCookie(a.define.RecentCookieName)||
a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF){rudolphUtil.setCookie(a.define.RecentCookieName,a.define.RecentCookieType.ON,365);b.dataModelRecent.request()}else{rudolphUtil.setCookie(a.define.RecentCookieName,a.define.RecentCookieType.OFF,365);b.dataModelRecent.request();rudolphUtil.stopEvent(c)}}});this.dataModel.addListener({onLoadComplete:function(c){c=a.model.Raw.set(c.data,c.route);b.listModel.set(c);b.visible()},onReloadCache:function(a){b.listModel.set(a.data);b.visible()},
onSendData:function(){},onEmptyKeyword:function(a){if(b.option.enableRecentKeyword&&b.getKeyword()=="")if(b.option.hideRecent)b.option.hideRecent=false;else{b._requestRecent();rudolphUtil.stopEvent(a)}else{b.listModel.set(null);b.hidden()}},onOverKeyword:function(){b.listModel.set(null);b.hidden()}});this.option.type=="thumb"&&this.imageView.addListener({onMousedownImage:function(a){var c=b.listView.getSelectedItem();b.option.thumbActionFunc?b.option.thumbActionFunc(c.item):b.listView.dispatchEvent("onSelectedItemClick",
{event:a,string:c.string})}})}},_instanceReady:function(){if(!!this.containerBox==false){this._containerRender();this._createModelView();this._bindEvents()}},getKeyword:function(){return this.keywordInputView.getValue()},getSelectedItem:function(){return this.listView!=null?this.listView.getSelectedItem():null},setDefaultBox:function(){},setOption:function(a,b){this.option[a]=b;return this},setUseThumbnail:function(a){this.option.type="thumb";this.option.thumbActionFunc=a;return this},setUseCustomGetString:function(a){this.option.customGetStringFunc=
a;return this},setUseCustomItemValue:function(a){this.option.customItemValueFunc=a;return this},setInputFocus:function(b){switch(b){case "load":this.option.focus=a.define.FocusPointType.LOAD;break;case "write":this.option.focus=a.define.FocusPointType.WRITE;break;default:this.option.focus=a.define.FocusPointType.DEFAULT}return this},setRequestString:function(a){this.dataModel?this.dataModel.setRequestString(a):this.option.requestString=a;return this},setRequestUrl:function(a){this.dataModel?this.dataModel.setRequestUrl(a):
this.requestUrl=a;return this},setBeforeSubmitFunc:function(a){this.option.beforeSubmit=a;return this},getBeforeSubmitFunc:function(){return this.option.beforeSubmit},setBeforeNativeTabFunc:function(a){this.option.beforeExcuteNativeTab=a;return this},setForm:function(a){this.option.form=a;return this},setKeywordMaxByte:function(b){a.define.KeywordMaxByte=b;return this},setLimit:function(a){this.option.limit=a;return this},setLimitMatch:function(a){this.option.isLimitMatch=a;return this},setEnableRecentKeyword:function(){this.option.enableRecentKeyword=
true;return this},setSubwayAreacode:function(a){this.option.subwayAreacode=a;return this},setYellowClip:function(a){this.yellowView.initialize(a);return this},setEncodeKeyword:function(a){this.dataModel?this.dataModel.setEncode(a):this.setOption("encode",a);return this},setCustomUsingGuideFunc:function(a){this.option.customUsingGuide=a;return this},request:function(a,b){this._instanceReady();this.dataModel.get(a,b)},reRequest:function(){this.request(this.getKeyword())},hidden:function(){this.containerBox&&
this.boxView.hidden()},visible:function(b,c){if(a.module.ActivationFlag.get()==true){this._instanceReady();this.boxView.visible(b,c)}},toggle:function(){this.option.enableRecentKeyword||(this.boxView.isVisible()?this.hidden():this.visible())},block:function(a,b){this._instanceReady();a==true?this.footerView.dispatchEvent("onOffSuggest"):this.yellowView.dispatchEvent("onActivateSuggest",{view:b})},setReverse:function(){this.option.reverse=true;this.dataModel&&this.dataModel.setReverse(true);return this},
setLogFunc:function(a){if((typeof a).toLowerCase()==="function")this.option.logFunc=a;return this}};var b=function(a,b){var c=document.createElement("div");c.className=b;a.appendChild(c);return c},c=function(b){a.module.ClickLog(b);var c=b.option.form,b=b.option.beforeSubmit;if(typeof b=="function")b(c);else(b=eval(b))&&b(c)}})(rudolph);(function(a){a.Service=function(){var b=[],c=null;rudolphUtil.getCookie("suggest");var d=null,e=false,f={init:function(){if(e==true)return this;rudolphUtil.addEvent(document,
"keydown",rudolphUtil.Function.bind(h.keydown,this));rudolphUtil.addEvent(document,"mousedown",rudolphUtil.Function.bind(h.mousedown,this));h.initFocus();e=true;return this},add:function(c,d,e,f,h,g){if(!!f===false){alert(a.message.ERROR_NO_REQUEST_URL);return false}c=new a.Instance(c,d,e,f,h,g);b.push(c);return c},remove:function(){},hiddenAll:function(){for(var a=b.length-1;a>=0;--a)b[a].hidden()},hiddenOther:function(a){for(var c=b.length-1;c>=0;--c)a!=b[c]&&b[c].hidden()},block:function(a,c){for(var d=
b.length-1;d>=0;--d)b[d].block(a,c)},setCurrentInstance:function(a){c=a},getCurrentInstance:function(){return c},isEqual:function(a){return c!=null&&c!=a?false:true},getInstanceList:function(){return b},getActivationFlag:function(){return a.module.ActivationFlag.get()}},h={initFocus:function(){a.DOMReady(function(){for(var c=b.length-1;c>=0;--c)if(b[c].option.focus==a.define.FocusPointType.LOAD){f.setCurrentInstance(b[c]);f.getCurrentInstance().keywordInputView.setSelect();f.getCurrentInstance().keywordInputView.setFocus();
break}})},keydown:function(c){for(var e=rudolphUtil.getElement(c),f=e.nodeName,h=c.keyCode,g=a.define.Keyboard,o=["BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","SPACEBAR","HOME","END","PAGEDOWN","PAGEUP","CAPSLOOK","LEFT","RIGHT","UP","DOWN","MAC_COMMAND"],p=o.length-1;p>=0;--p)if(g[o[p]]==h)return true;if(c.ctrlKey||c.metaKey||e&&(f=="INPUT"||f=="SELECT"||f=="TEXTAREA"))return true;if(d==null)for(p=b.length-1;p>=0;--p)if(b[p].option.focus==a.define.FocusPointType.LOAD||b[p].option.focus==a.define.FocusPointType.WRITE){d=
b[p];break}if(d){d.keywordInputView.clearValue();d.keywordInputView.setFocus()}},mousedown:function(a){f.hiddenAll(a)},findInputBox:function(a){for(var c=b.length-1;c>=0;--c)if(b[c].inputBox==a)return true;return false}};return f}()})(rudolph);define("lib/swfobject",swfobject);define("log/KoreanClick",["jquery"],function(a){var b=a('<iframe style="position:absolute;left:0;top:0;width:0;height:0;border:0"></iframe>').appendTo("body");return{log:function(){b.attr("src","mapclick.html?_="+Date.now())}}});
t.qidx=0;t.updateQIndex=function(){t.qidx++};t.sendLog=function(a,b){if(t.qidx)a.qidx=t.qidx;a.tregionid=t_regionid||"";var c="http://stlog1.local.daum.net/logcollector/log/map?";b&&(c=b);(new Image).src=c+jQuery.param(a)};t.log=function(a,b,c){console.info("Localdss.log: "+a+": "+b,c);a=jQuery.extend({type:a},c);if(b!=null)a.q=Array.isArray(b)?b.join("^"):b;t.sendLog(a)};t.logStoreview=function(a,b,c,d){console.info("Localdss.logStoreview: %s: %s (%s, store: %s)",a,c,b,d);t.sendLog({type:a,confirmid:b,
placename:c,store:d},"http://stlog1.local.daum.net/logcollector/log/map/storeview?")};t.log_=function(a,b,c,d,e){console.info("Localdss: "+[a,b,c,d].join(" "));a={wx:b.getX().toFixed(0),wy:b.getY().toFixed(0),region:c,type:a};if(d)a.confirmid=d;e&&jQuery.extend(a,e);t.sendLog(a)};t.logRoadview=function(a,b,c,d,e){var f=c.getX().toFixed(0),c=c.getY().toFixed(0);console.info("Localdss.roadview: %s: %s, %s, %s, (%s, %s, %s)",a,b,f,c,d,e&&e.id,t._q);a={type:a,panoid:b,wx:f,wy:c,region:d};if(t._q)a.q=
t._q;if(e){if(e.id)a.docid=e.id;if(e.route_type)a.route_type=e.route_type}t.sendLog(a)};t.logMapRoadview=function(a,b){t.log_("start_roadview",a,b)};t.logNoRoadview=function(a,b){t.log_("not_on_line",a,b)};t.logMapLabel=function(a,b,c,d){t.log_("poiclick",a,b,c,d)};t.logAd=function(a,b){t.sendLog({type:a,confirmid:b})};t.pad36=function(a,b){if(!isFinite(a))return"";var c=(~~a).toString(36);return c.length>b?"-zzzzzz".substr(a>0?1:0,b):c.replace(/^-?/,"$&000000".slice(0,2+b-c.length))};t.watchMap=
function(a){function b(){if(d[0]){var a={type:"use_tracking",data1:d.join("")};t.sendLog(a);d.length=0}}var c=0,d=[];jQuery(A).on("beforeunload",b);setInterval(b,3E5);daum.maps.event.addListener(a,"idle",function(){var e=a.getCenter(),f=e.getX(),e=e.getY(),h=a.getLevel(),g=a.getMapTypeId(),l=t.typeForLog(g),k=require("map/MapTileManager");a.isRoadmap()&&k.get("terrain")&&(l=7);l==-1&&(l=g);g=Date.now();if(c&&g>=c+1E3){k=0.001*(g-c)|0;k=[t.pad36(f>>8,3),t.pad36(e>>8,3),t.pad36(h,1),t.pad36(l,1),t.pad36(Math.min(k,
300),2)].join("");console.info("LocalTrack: (%d, %d, %d) %d %dms: %s",f,e,h,l,g-c,k);if(k.length==10){d.push(k);d.length>=100&&b()}}c=g})};t.typeForLog=function(a){var b=daum.maps.MapTypeId||{},c=-1;switch(a){case b.ROADMAP:c=1;break;case b.SKYVIEW08:c=12;break;case b.HYBRID08:c=13;break;case b.SKYVIEW09:c=14;break;case b.HYBRID09:c=15;break;case b.SKYVIEW10:c=16;break;case b.HYBRID10:c=17;break;case b.SKYVIEW11:c=18;break;case b.HYBRID11:c=19;break;case b.SKYVIEW:c=2;break;case b.HYBRID:c=3}return c};
t.logSearch=function(a,b){t._q=a;t.log("search_q",a,b)};t.logSearchIn=function(a){t._type=a};t.logSearchKeyword=function(a,b){if(t._type&&a){t._q=a;t.log("search_type_"+t._type,t._q,b)}t._type=""};t.logSearchOut=function(a,b){t._q&&a&&t.log("search_q_click_"+a,t._q,b?{confirmid:b}:null)};t.logSearchOutWithArgs=function(a,b){t._q&&a&&t.log("search_q_click_"+a,t._q,b?b:{})};t.logPathSearchIn=function(a){t._path_type=a};t.logPathSearchWithType=function(a,b,c){if(b&&a){t._path_q=a;t.log("search_q_"+b,
t._path_q,c)}t._path_type=""};t.logPathSearchKeyword=function(a,b){if(t._path_type&&a){t._path_q=a;t.log("search_type_path_"+t._path_type,t._path_q,b)}t._path_type=""};t.logPathSearchOut=function(a,b){t._path_q&&a&&t.log("search_path_q_click_"+a,t._path_q,b?{confirmid:b}:null)};t.logPathSearchOutWithArgs=function(a,b){if(t._path_q&&a){a=="_"&&(a="");t.log("search_path_q_click"+a,t._path_q,b?b:{})}};define("log/LogHistory",[],function(){var a=[];return{set:function(b,c){a.length>6&&a.shift();if(c)var d=
jQuery.map(c,function(a){return a}),b=b+("("+d.join(",")+")");a.push(b)},get:function(){return a}}});define("log/Tiara",["log/KoreanClick","log/LogHistory"],function(a){function b(a){try{console.info("Tiara: "+a);var b=__Tiara.__getTracker();c?c=false:b.__setReferer(location.href);b.__trackPageview(a)}catch(f){}}var c=true;return{log:function(c){a.log();b(c)},logOnly:b,load:function(){}}});var q={click:function(a,b,c){console.info("TiaraClick: "+a+" "+b);Application.logHistory.set(a+","+b,c);var d=
Date.now(),d="http://tiara.daum.net/tiara.front/front/click/"+d+"?dummy="+d+"&url=t__nil_"+a+"="+b;c&&(d=d+("&"+jQuery.param(c)));(new Image).src=d;c=["__trackEvent"];c.push(a);c.push(b);A._tiq.push(c)},ROUTE_METHOD:{toString:function(){return Application.carRouteSearchController.getActive()?"car":"traffic"}},MODE:{toString:function(){var a=Application.carRouteSearchController.getActive()?"car":"traffic";return Application.keywordSearchController.getActive()?"search":Application.roadviewController.getActive()?
"roadview":a}}};define("log/Tico",[],function(){return Tico});(function(){function a(a,c,d){var e=A.event||{},c=a+"\nat "+c+":"+d+":1";e.errorUrl&&(c=e.errorMessage+"\nat "+e.errorUrl+":"+e.errorLine+":"+e.errorCharacter);console.log({message:e.errorMessage||a,stack:c})}if(["map.daum.net","stage.map.daum.net","local.daum.net"].indexOf(location.host)>-1)A.onerror=a})();define("manager/AoiManager",["map/Map","controller/RoadviewController","model/Aoi","map/MiniTooltipManager"],function(a,b,c,d){function e(a){n=
a.coords}function f(b){h();b===k[l.SEARCH]&&daum.maps.event.addListener(a,"mousemove",e)}function h(){daum.maps.event.removeListener(a,"mousemove",e)}function g(a){var b=Ab(arguments,1),c;for(c in k)k[c][a].apply(k[c],b)}var l={SEARCH:"SEARCH",FLAG:"FLAG"},k={},n=null;return{KEY:l,getModel:function(a){var b,c;for(c in k)if(b=k[c].getAoi(a))return b},hideAll:function(){g("hide")},clearAll:function(){g("clear")},onSearchTabChange:function(a){switch(a){case 0:k[l.SEARCH].setMapEvent();k[l.FLAG].removeMapEvent();
f(k[l.SEARCH]);break;case 1:k[l.FLAG].setMapEvent();k[l.SEARCH].removeMapEvent();h();break;case 2:case 3:k[l.FLAG].removeMapEvent();k[l.SEARCH].removeMapEvent();h()}},getController:function(e){if(!k[e]){k[e]=new W(a,b,c,this,d);k[e].onClear.add(h);k[e].onFind.add(f)}return k[e]},getMouseCoords:function(){return n}}});"use strict";nc.MAX_LEVEL=13;Jb.prototype.marker_=null;Jb.prototype.createMarker=function(){return this.marker_};Jb.prototype.getMarker=function(){return this.marker_};Jb.prototype.createInfoWindow=
function(){return this.infowindow_};Jb.prototype.clickMarker=function(){};Jb.prototype.map_=null;Jb.prototype.setMap=function(a){if(a){if(!this.marker_){var b=this.marker_=this.createMarker();console.assert(b instanceof daum.maps.AbstractOverlay);daum.maps.event.addListener(b,"click",this.clickMarker.bind(this))}this.marker_.setMap(a);this.map_=a}else if(this.map_){this.marker_.setMap(null);this.map_=null}};define("manager/MapSuggest",["jquery"],function(a){function b(a){this.id=a.id;this.url=a.url;
this.urlMaker=a.urlMaker||this.defUrlMaker;this.parser=a.parser||this.defParser;this.itemMaker=a.itemMaker||this.defItemMaker;this.itemParser=a.itemParser||this.defItemParser;this.onSubmit=a.onSubmit||c;this.onSubmitHistory=a.onSubmitHistory||c;this.onSubmitFavorite=a.onSubmitFavorite||c;this.useHistoryClick=a.useHistoryClick!="undefiend"?a.useHistoryClick:false;this.useFavoriteClick=a.useFavoriteClick!="undefiend"?a.useFavoriteClick:false;this.listClassName=a.listClassName||"ms_item";this.maxCount=
a.maxCount||d;this.logKey=a.logKey||null;this.logCallback=a.logCallback||c;this.originKeyword=this.lastKeyword="";this.init()}var c=function(){},d=10;b.prototype.init=function(){var b=this;this.inputEl=a("#"+this.id.replace(/\./g,"\\."));this.suggestTarget=a("#"+this.id.replace(/\./g,"\\.")+"Suggest");this.suggestWrap=a('<div class="suggestBox box_sub"><div class="baseBox bg"><div class="list"><ul class="suggest_list_target"></ul></div></div><div class="favorite_find"></div><div class="search_recent"></div></div>');
this.suggestTarget.append(this.suggestWrap);this.suggestListTarget=this.suggestWrap.find(".suggest_list_target");var c=false,d=false;this.inputEl.on("focus",function(){b.update()});this.inputEl.on("keydown",function(a){var e=a.keyCode;if(e==16)c=true;else if(e==18)d=true;else if(e!=17)if(e==13){a.preventDefault();a=b.suggestWrap.find(".search_recent ."+b.listClassName+".on");e=b.suggestWrap.find(".favorite_find ."+b.listClassName+".on");a.length>0&&!a.hasClass("hover")?b.fireSubmit("history",a):e.length>
0&&!e.hasClass("hover")?b.fireSubmit("favorite",e):b.fireSubmit("suggest")}else if(e==27)b.hide();else if(!(d&&e==9))if(e==38||c&&e==9)b.HighlightMoveUp(a);else if(e==40||!c&&e==9)if(e==40&&!b.isShow()){a.preventDefault();b.show()}else b.HighlightMoveDown(a)});this.inputEl.on("keyup",function(a){a=a.keyCode;a==16?c=false:a==18&&(d=false);b.update()});this.suggestWrap.on("hover","."+this.listClassName,function(){b.clearSelected();a(this).addClass("on hover")});this.suggestWrap.on("click",".baseBox ."+
this.listClassName,function(){b.setKeyword(a(this).text());b.fireSubmit("suggest")});this.suggestWrap.on("click",".search_recent ."+this.listClassName,function(){if(this.useHistoryClick){b.setKeyword("","origin");b.fireSubmit("history",a(this))}else b.hide()});this.suggestWrap.on("click",".favorite_find ."+this.listClassName,function(){if(this.useFavoriteClick){b.setKeyword("","origin");b.fireSubmit("favorite",a(this))}else b.hide()});a(document).on("mousedown touchstart",function(a){b.inputEl&&(b.inputEl.is(a.target)||
b.inputEl.has(a.target).length>0)?b.toggle():b.suggestWrap&&(!b.suggestWrap.is(a.target)&&b.suggestWrap.has(a.target).length==0)&&b.hide()})};b.prototype.update=function(){var b=this.inputEl.val();if(this.lastKeyword!=b){this.originKeyword=this.lastKeyword=b;this.clearSelected();var c=null,d=this;this.show();c=this.urlMaker(b);a.ajax({url:c,dataType:"JSON",cache:true,success:function(a){d.parser(a)}})}};b.prototype.defUrlMaker=function(a){var b=this.url,b=b+(this.url.indexOf("?")>0?"&":"?");return b+
("q="+a+"&mode=json&code=utf_in_out&callback=?")};b.prototype.defParser=function(b){var c=this,d="",e=[];if(b&&b.items){e=b.items.splice(0,this.maxCount);a(e).each(function(a,e){if(c.subwayRegionId){var g=e.split("|"),l=g[0].replace(/\([\W\w]*\)/,"").trim(),m=g[1],s=g[3],g={id:s,x:g[5],y:g[6],simpleName:l,fullName:l+(m?" "+m:"")};s&&(d=d+c.itemMaker(g,a,b.q))}else d=d+c.itemMaker(e.split("|"),a,b.q)});this.suggestListTarget.html(d);d?this.suggestWrap.find(".baseBox").css("display","block"):this.suggestWrap.find(".baseBox").css("display",
"none")}};b.prototype.defItemMaker=function(a,b,c){b="";a=this.itemParser(a);b=b+('<li class="'+this.listClassName+'">');b=b+'<a href="#">'+e.highlight(a[0],c);return b+"</a></li>"};b.prototype.defItemParser=function(a){return[a[0],a[0]]};b.prototype.fireSubmit=function(b,c){if(b=="history")this.onSubmitHistory(c);else if(b=="favorite")this.onSubmitFavorite(c);else{var d=this.suggestWrap.find(".baseBox ."+this.listClassName),e=null,g=-1;a(d).each(function(b,c){if(a(c).hasClass("on")){e=a(c);g=b+1}});
if(e&&(this.logKey||this.logCallback)){d=[this.originKeyword,e.text(),g,d.length];if(this.logKey){q.click("suggest",this.logKey,{param1:d.join("|")});t.log("search_q_click_suggest",d[0],{sq:d[1],data1:JSON.stringify({idx:d[2],cnt:d[3]})})}else this.logCallback(d)}this.onSubmit()}this.hide()};b.prototype.HighlightMoveUp=function(b){if(this.isShow()){b.preventDefault();var c=this.suggestWrap.find("."+this.listClassName+".on"),b=this.suggestWrap.find("."+this.listClassName);if(c.length>0){var d=-1;b.each(function(b,
e){a(e).is(c)&&(d=b)});if(b=d-1>=0?b.get(d-1):null){this.clearSelected();b=a(b).addClass("on");b.closest(".baseBox").length>0?this.setKeyword(b.text(),"move"):this.setKeyword("","origin")}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}};b.prototype.HighlightMoveDown=function(b){if(this.isShow()){b.preventDefault();var c=this.suggestWrap.find("."+this.listClassName+".on"),b=this.suggestWrap.find("."+this.listClassName);
if(c.length>0){var d=-1;b.each(function(b,e){a(e).is(c)&&(d=b)});if(b=b.get(d+1)){this.clearSelected();b=a(b).addClass("on");b.closest(".baseBox").length>0?this.setKeyword(b.text(),"move"):this.setKeyword("","origin")}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}else{this.clearSelected();if(b.length>0){b=b.first();b.first().addClass("on");b.closest(".baseBox").length>0&&this.setKeyword(b.text(),"move")}else this.hide()}}};b.prototype.clearSelected=function(){this.suggestWrap.find("."+
this.listClassName).removeClass("on hover")};b.prototype.setUrl=function(a){this.url=a};b.prototype.setUrlMaker=function(a){this.urlMaker=a};b.prototype.setParser=function(a){this.parser=a};b.prototype.setItemMaker=function(a){this.itemMaker=a};b.prototype.setKeyword=function(a,b){a=a.replace(/\s\|\s(.*)/gi,"");if(b=="origin"){this.inputEl.val(this.originKeyword);this.lastKeyword=this.originKeyword}else{this.inputEl.val(a);if(b=="move")this.lastKeyword=a}};b.prototype.setSubwayAreacode=function(a){this.subwayRegionId=
a};b.prototype.getInputTarget=function(){return this.inputEl};b.prototype.getHistoryTarget=function(){return this.suggestWrap.find(".search_recent")};b.prototype.getFavoriteTarget=function(){return this.suggestWrap.find(".favorite_find")};b.prototype.show=function(){this.suggestWrap.css("display","block")};b.prototype.hide=function(){this.clearSelected();this.suggestWrap.css("display","none")};b.prototype.toggle=function(){this.isShow()?this.hide():this.show()};b.prototype.isShow=function(){return this.suggestWrap.css("display")==
"block"};var e=function(){return{highlight:function(a,b){return a.replace(b,'<strong class="emph_keyword">'+b+"</strong>")}}}();return b});A.santa={_seq:0,_init:function(){rudolph.Service.init();rudolph.view.KeywordInputView.prototype.dispatch=function(a){A.suggestThis=this;this.dispatchEvent("onChangeKeyword",{keyword:a})}},_Proxy:function(a){this.setSubwayAreacode=function(b){a&&a.setSubwayAreacode(b,",")};this.setQuery=function(b){if(a){var c=a.callbackName.replace(/&.*/,"");a.dataModel.setCallbackName(c+
"&"+b)}};this.sendRequest=function(b){b&&a.request(b,false)};this.setKeyword=function(b){a.keywordInputView.setValue(b)}},create:function(a,b,c){if(typeof daum=="undefined"||!rudolph)return new santa._Proxy(null);var c=c||{},d=++santa._seq;d==1&&santa._init();b=/^((?:[^\/]|\/\/)+)(\/[^?]*)(\?.*)?/.exec(b);a=santa["$"+d]=rudolph.Service.add(a,a+"Suggest",b[1],b[2],c.proxyUrl||"santa.$"+d+".dataModel.forceLoadComplete",!c.proxyUrl);b[3]&&a.setRequestString(b[3]+"&q=KEYWORD&mod=json&code=CHARSET");if(!("prefixCount"in
c))c.prefixCount=10;if(!("suffixCount"in c))c.suffixCount=3;a.setLimit([c.prefixCount,c.suffixCount]);c.suffixCount||a.setLimitMatch(false);c.buttonId&&a.setYellowClip(c.buttonId);c.onThumbnail&&a.setUseThumbnail(c.onThumbnail);c.onSubmit&&a.setBeforeSubmitFunc(c.onSubmit);if(c.onParseItem){a.setUseCustomItemValue(function(a){return c.onParseItem(a.item)[0]});a.setUseCustomGetString(function(a){return c.onParseItem(a)[1]})}(c.log||c.logCallback)&&a.setLogFunc(function(a){if(a.index){var b=[a.inputQuery,
a.keyword,a.index,a.totalCount];if(c.logCallback)c.logCallback(b);else{q.click("suggest",c.log,{param1:b.join("|")});t.log("search_q_click_suggest",a.inputQuery,{sq:a.keyword,data1:JSON.stringify({idx:a.index,cnt:a.totalCount})})}}});return new santa._Proxy(a)},hide:function(){typeof daum!="undefined"&&rudolph&&rudolph.Service.hiddenAll()}};define("manager/ViewLayout",["view/FrameDecorator"],R(function(a){function b(a){if(f!=a){f=a;f==4&&(g<400&&Application.carRouteSearchController.getActive())&&
f==2;switch(f){case 1:y.css({left:0,top:0,width:"100%",height:"100%"});break;case 2:y.width(l).height(k);p.showNormal();break;case 4:y.width("100%").height(k);p.showHorizon()}n.toggleClass("MAP",f==1).toggleClass("MAPFRAME",f==2||f==4).toggleClass("ROADVIEW",f==2||f==3||f==4).toggleClass("SUBWAY",f==5);c()}}function c(){jQuery("#view").width(h).height(g);p.setMaxSize(Math.ceil(h*2/3),Math.ceil(g*2/3));jQuery("#shadow").height(g-jQuery("#localInfo").height());switch(f){case 1:d.notify();break;case 2:y.css({left:0,
top:g-k,width:l,height:k});d.notify();o.width("100%").height("100%");e.notify();break;case 3:o.width("100%").height("100%");e.notify();break;case 4:o.width("100%").height(g-k-(p.isExpanded()?7:0));e.notify();y.css({left:0,top:g-k,height:k});d.notify();a.relayout();break;case 5:s.height(g-q.height())}}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=new m,e=new m,f=1,h=0,g=0,l=200,k=200,n=jQuery("body"),y=jQuery("#view\\.map"),o=jQuery("#view\\.roadview"),p=a,s=jQuery("#view\\.subway\\.flash"),
q=jQuery("#subwayLegend");p.onResize.add(function(a){if(a.innerWidth){l=a.outerWidth;k=a.innerHeight;b(a.mode==H.HORIZON?4:2);(f==2||f==4)&&c()}});this.onMapResize=d;this.onRoadviewResize=e;this.setSize=function(a,b){if(!(h==a&&g==b)){h=a;g=b;c()}};this.setMapOnly=ya(b,1);this.setRoadviewWithMiniMap=ya(b,2);this.setRoadviewOnly=ya(b,3);this.setRoadviewWithWideMap=ya(b,4);this.setSubwayOnly=ya(b,5);this.get=function(){return f}}));Qb.prototype=new daum.maps.AbstractOverlay;Qb.POINTER_IMAGE=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2011/image/btn_goalchange.png",
new daum.maps.Size(22,23),new daum.maps.Point(9,9));Qb.TOOLTIP_IMAGE=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/plus_tip.png",new daum.maps.Size(91,16),new daum.maps.Point(-12,7));pa.prototype=new daum.maps.AbstractOverlay;pa.prototype.onAdd=function(){var a=this.getMap();this.marker_.setMap(a);if(this.skyviewImage_){daum.maps.event.addListener(a,"maptypeid_changed",this.mapTypeIdHandler_);this.changeMarkerImage_()}Application.mainMapController.tool.onClickTool.add(this.toolActivate);
Application.mainMapController.tool.onComplete.add(this.toolDeactivate);this.isToolActivate=Application.mainMapController.tool.isToolActivate()};pa.prototype.onRemove=function(){this.skyviewImage_&&daum.maps.event.removeListener(this.getMap(),"maptypeid_changed",this.mapTypeIdHandler_);this.marker_.setMap(null);Application.mainMapController.tool.onClickTool.remove(this.toolActivate);Application.mainMapController.tool.onComplete.remove(this.toolDeactivate)};pa.prototype.draw=function(){};pa.prototype.getPosition=
function(){return this.marker_.getPosition()};pa.prototype.setPosition=function(a){var b=this.marker_.getPosition();if(b.getX()!=a.getX()||b.getY()!=a.getY()){this.marker_.setPosition(a);this.onPositionChanged.notify()}};pa.prototype.getImage=function(){return this.marker_.getImage()};pa.prototype.changeMarkerImage_=function(){this.getMap()&&(!this.hover_&&!this.highlight_)&&this.marker_.setImage(!this.getMap().isRoadmap()&&this.skyviewImage_||this.roadmapImage_)};pa.prototype.setHover=function(a){this.hover_=
!!a;this.changeMarker_()};pa.prototype.setHoverYes=function(){this.onOver.notify();this.setHover(true)};pa.prototype.setHoverNo=function(){this.onOut.notify();this.setHover(false)};pa.prototype.getMarker=function(){return this.marker_};pa.prototype.setActive=function(a){this.highlight_=a;this.changeMarker_()};pa.prototype.getActive=function(){return this.highlight_};pa.prototype.changeMarker_=function(){if(this.hover_||this.highlight_){this.setZIndex(5);this.highlight_&&this.eventMarkerImage_?this.marker_.setImage(this.eventMarkerImage_):
this.marker_.setImage(this.rolloverImage_)}else{this.setZIndex(this.zIndex_||2);this.changeMarkerImage_()}};pa.prototype.setTitle=function(a){this.marker_.setTitle(a)};pa.prototype.setZIndex=function(a){this.marker_.setZIndex(a)};pa.prototype.setEvent=function(){this.eventMarkerImage_=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2015/ndm/event_cherryblossom_marker.png",new daum.maps.Size(35,42),{offset:new daum.maps.Point(17,43),spriteSize:new daum.maps.Size(42,50),spriteOrigin:new daum.maps.Point(4,
5)})};"use strict";define("map/InfoWindowManager","map/Map factory/MapOverlayFactory factory/InfoWindowToolbarFactory factory/ButtonFactory log/Tiara controller/HistoryController".split(" "),R(function(a,b,c,d,e,f){function g(){if(w){w.setMap(null);z=t=w=null}}function j(a,c,d,e){if(typeof Application!="undefined"){if(Application.roadviewController.getDbClickActive()){Application.roadviewController.setDbClickActive(false);return}Application.roadviewController.setDbClickActive(false);Application.roadviewController.close()}w=
b.create(c,10,a.getPane(),e);a.doLayout&&a.doLayout();d||w.panIntoView();a&&(t=a);c&&(z=c);(c instanceof Ed||c instanceof pa)&&c.onPositionChanged&&c.onPositionChanged.add(function(){if(w&&t&&z){w=b.create(z,10,t.getPane());t.doLayout&&t.doLayout()}});a.onClose.add(g)}function l(a,b,c,d){if(!a||!a.getPane||!a.onClose)throw Error();g();j(a,b,c,d);e.log("/fake/infowindow")}function k(a,b,e,g){if(a.subway&&a.subway.id){a=s.extend(true,{name:a.name,coords:a.coords},a.subway);e=o(a,b,e,g)}else{e=new de(a,
g,c,d,e);f.addPoi(q.PLACE,a);a.id||(e=new he(a,c));l(e,b||a.coords);u={id:a.id};e.onClose.add(function(){r.notify()})}return e}function n(a,b,c,e){var g=!(!a.subway||!a.subway.id),h=new ne(a,c,d,e);h.onExpand.add(function(){k(a,b,e,function(){n(a,b,c,e)}).onClose.add(function(){Application.keywordSearchController.activeItem_=null})});l(h,b||a.coords);u={id:a.id};g?f.addPoi(q.SUBWAY_STATION,{id:a.subway.id,name:a.name,coords:a.coords}):f.addPoi(q.PLACE,a);return h}function y(a,b,e,g){b=new Yd(a,b,
e,c,d,Application.busLineController,!!g);b.onClose.add(function(){r.notify()});l(b,g||a.coords);f.addPoi(q.BUS_STOP,a);return b}function o(b,e,g,h){g=new je(b,h,c,d,g);g.onSibling.add(function(b){b.fetchDetail(function(){a.setCenter(b.coords);o(b)})});l(g,e||b.coords);f.addPoi(q.SUBWAY_STATION,b);return g}function p(a){a.getBusStops(function(b){b=new se(b);b.onBusStop.add(function(b){Y.find(b.id,function(b){y(b).onClose.add(function(){p(a)})})});l(b,a.coords)})}var s=jQuery,q=f.TYPE_LIST,r=this.onClose=
new m,u=null;this.getState=function(){return u};var w=null,t=null,z=null,K=this.close=function(){g();r.notify();u=null};this.closeWithoutNotify=function(){g()};this.closeToType=function(a){var b;switch(a){case "traffic":b=wd;break;case "cctv":b=rd;break;case "accident":b=od}t&&(b&&t instanceof b)&&K()};this.createWeather=function(a,b){var c=new le(a);l(c,b);return c};this.createAddress=function(a,b,e,g){e=new pd(a,c,d,e);l(e,b||a.coords,g);u=null;a.type!="point"&&f.addPoi(q.ADDRESS,a);return e};this.createAddressWithNoPan=
function(a,b,e){e=new pd(a,c,d,e);l(e,b||a.coords,true);u=null;return e};this.createPoint=function(a,b,e,f){e=new ee(a,e,c,d);l(e,b||a.coords);u=null;f&&e.setFavoriteIcon(false);return e};this.createReview=function(a,b){var e=new fe(a,c,d);l(e,b||a.coords);u={review:a.id};return e};this.createAccident=function(a,b){var c=new od(a);l(c,b||a.coords);u=null;return c};this.createTraffic=function(a,b){var c=new wd(a,d);l(c,b||a.coords);u=null;return c};this.createPlace=function(a,b,c){return k(a,b,c)};
this.createPlaceWithMedium=function(a,b,c,d){return n(a,b,c,d)};this.createBusStop=function(a,b,c,d){u={busstopid:a.id};return y(a,b,c,d)};this.createSubwayStation=function(a,b){u=null;return o(a,b)};this.createBusStopGroup=function(a){u=null;p(a)};this.createCctv=function(a,b){var c=new rd(a,d);l(c,b||a.coords);u=null;return c};this.createIssuedPlace=function(a,b){var c=new be(a);l(c,b||address.coords);u=null;return c};this.createSubwayTooltip=function(a,b){var c=new ie(a);l(c,a.coords,true,b);u=
null;return c};this.createBusStopRoute=function(a,b){var c=new Zd(a);l(c,a.coords,true,b);u=null;return c};this.createTransitMedium=function(a,b){var c=new Fd(a);l(c,a.coords,false,b);return c};this.createStartEndPointInfo=function(a,b){var c=new ge(a);l(c,a.coords,true,b);u=null;return c};this.createCarInfoInfo=function(a,b){var c=new sd(a);l(c,b,true);u=null;return c};this.createWalkPointInfo=function(a,b){var c=new vd(a);l(c,a.coords,true,b);u=null;return c};this.createWalkPointGroupInfo=function(a,
b,c){a=new ke(a);l(a,b,false,c);u=null;return a};this.createIntercityInfo=function(a,b,c,d){a=new ae(a,d);l(a,b,false,c);u=null;return a};this.createFromElement=function(b,c,d,e,f){u=null;g();if(f){a.setLevel(3);a.setCenter(c)}if(typeof Application!="undefined"){Application.roadviewController.setDbClickActive(false);Application.roadviewController.close()}w=new daum.maps.InfoWindow({position:c,offset:e,content:b,zIndex:10});w.open(a,d)};this.relayout=function(){if(w){w.setMap(null);w.setMap(a)}}}));
define("map/LastRoadviewMarker",["map/Map"],R(function(a){function b(a){return'<div style="position:absolute;top:-69px"><div style="position:relative;float:left;left:-50%;border:1px solid #7681A8;padding:5px 9px 4px;background:#fff">'+a+'</div></div><div style="position:absolute;overflow:hidden;left:-3px;top:-41px;width:7px;height:5px;background:url(http://t1.daumcdn.net/localimg/localimages/07/2011/image/map_bt_store_layer.gif)"></div>'}function c(){j++||g.setMap(a);f.setZIndex(4)}function d(){j&&
(--j||g.setMap(null));f.setZIndex(0)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var e=new m,f=new daum.maps.Marker({image:new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2011/icon/ico_map_point.png",new daum.maps.Size(28,35))}),g=new daum.maps.Billboard({yAnchor:1,zIndex:6});g.setContent(b("\uc774\uc804 \ub85c\ub4dc\ubdf0 \uc9c0\uc810"));var j=0;daum.maps.event.addListener(f,"mouseover",c);daum.maps.event.addListener(f,"mouseout",d);daum.maps.event.addListener(f,
"click",function(){e.notify()});this.set=function(b){if(b){g.setPosition(b);c();setTimeout(d,3E3);f.setPosition(b);f.setMap(a)}else{d();f.setMap(null)}};this.setTitle=function(a){g.setContent(b(a))};this.onClick=e}));bc.prototype.parse=function(a){for(var b=this.map_;/^%/.test(a);)a=decodeURIComponent(a);this.data_=a=eval("("+a+")");var c=a.coordinate=="wcongnamul";b.setMapTypeId(a.map_type=="TYPE_MAP"?daum.maps.MapTypeId.ROADMAP:a.map_hybrid=="true"?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);
b.setLevel(a.mapLevel||3);c=c?new daum.maps.Coords(a.mapCenterX,a.mapCenterY):(new daum.maps.Congnamul(a.mapCenterX,a.mapCenterY)).toCoords();b.setCenter(c);a.graphicInfo&&a.graphicInfo.forEach(this.buildGraphic_,this);a.markInfo&&a.markInfo.forEach(this.buildMarker_,this)};bc.prototype.addOverlay_=function(a){a.setMap(this.map_)};bc.prototype.buildGraphic_=function(a){var b=null,c=a.options;c.endArrow=c.endarrow=="classic"||c.endarrow===true;if(a.type=="circle"){var d=Math.abs(a.sPoint.x-a.ePoint.x)*
0.2,e=Math.abs(a.sPoint.y-a.ePoint.y)*0.2;if(d!=e)a.type="ellipse"}switch(a.type){case "line":b=new daum.maps.Polyline(c);if(a.sPoint&&a.ePoint)b.setPath([new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)]);else if(a.points){a=this.getCoordsArr_(a.points);b.setPath(a)}break;case "arrow":b=new daum.maps.Polyline(c);if(a.sPoint&&a.ePoint)b.setPath([new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)]);else if(a.points){a=this.getCoordsArr_(a.points);
b.setPath(a)}break;case "circle":b=new daum.maps.Circle(c);b.setPosition(new daum.maps.Coords(a.sPoint.x+a.ePoint.x>>1,a.sPoint.y+a.ePoint.y>>1));b.setRadius(Math.abs(a.sPoint.x-a.ePoint.x)*0.2);break;case "ellipse":b=new daum.maps.Ellipse(c);b.setPosition(new daum.maps.Coords(a.sPoint.x+a.ePoint.x>>1,a.sPoint.y+a.ePoint.y>>1));b.setRadius(Math.abs(a.sPoint.x-a.ePoint.x)*0.2,Math.abs(a.sPoint.y-a.ePoint.y)*0.2);break;case "rect":b=new daum.maps.Rectangle(c);b.setBounds(new daum.maps.CoordsBounds(new daum.maps.Coords(a.sPoint.x,
a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)));break;case "rectangle":b=new daum.maps.Rectangle(c);b.setBounds(new daum.maps.CoordsBounds(new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)));break;case "polyline":b=new daum.maps.Polyline(c);b.setPath(a.points.map(function(a){return new daum.maps.Coords(a.x,a.y)}));break;case "polygon":b=new daum.maps.Polygon(c);b.setPath(a.points.map(function(a){return new daum.maps.Coords(a.x,a.y)}));break;case "text":b=
new daum.maps.InfoWindow({position:new daum.maps.Coords(a.point.x,a.point.y),content:a.message})}b&&b.setMap(this.map_)};bc.prototype.getCoordsArr_=function(a){var b=[];a.forEach(function(a){b.push(new daum.maps.Coords(a.x,a.y))});return b};bc.prototype.buildMarker_=function(a,b){var c=a.coordinate=="wcongnamul"?new daum.maps.Coords(a.x,a.y):(new daum.maps.Congnamul(a.x,a.y)).toCoords(),d=a.icon,e=null;if(d){e={offset:new daum.maps.Point(d.offsetX<0?-d.offsetX:d.offsetX,d.offsetX<0?-d.offsetY:d.offsetY)};
if(d.spriteWidth&&d.spriteHeight){e.spriteSize=new daum.maps.Size(d.spriteWidth,d.spriteHeight);e.spriteOrigin=new daum.maps.Point(d.spriteOriginX,d.spriteOriginY)}e=new daum.maps.MarkerImage(d.src,new daum.maps.Size(d.width,d.height),e)}var f=new daum.maps.Marker({position:c,zIndex:1,image:e,title:a.label,clickable:true});f.setMap(this.map_);var g,j;if(a.infowindow)g=a.infowindow.contents;else if(a.content){d=a.confirmid?jQuery("<a href=http://place.map.daum.net/"+a.confirmid+' target="_blank" title="\uc0c1\uc138\uc815\ubcf4 \ubcf4\uae30">'+
a.content+"</a>"):jQuery('<em title="\uc0c1\uc138\uc815\ubcf4\uac00 \uc5c6\ub294 \uc7a5\uc18c\uc785\ub2c8\ub2e4.">'+a.content+"</em>");d=jQuery('<span class="name"></span>').append(d);e="place_graphic";if(a.markerType=="standPlace"&&this.data_.roadviewInfo){var l=this.data_.roadviewInfo[0];b&&this.data_.roadviewInfo[b]&&(l=this.data_.roadviewInfo[b]);e="place_marker";if(l&&l.panoId){var k=jQuery('<span class="miniroadview" title="\ub85c\ub4dc\ubdf0"></span>');k.click(function(){Application.roadviewController.show({coords:c,
panoId:l.panoId,pan:l.pan,tilt:l.tilt,zoom:l.zoom})});d.append(k)}if(l&&l.storeId){k=jQuery('<span class="ministoreview" title="\uc2a4\ud1a0\uc5b4\ubdf0"></span>');k.click(function(){Application.roadviewController.showStoreView(l.storeId,l.storePanoId,{pan:l.storePan,tilt:l.storeTilt,zoom:l.storeZoom})});d.append(k)}}else d.addClass("normal");k=jQuery('<span class="miniclose" title="\ub2eb\uae30"></span>');d.append(k);j=new Rb(this.map_);j.setData(e,c,d);this.data_.version&&j.setPlusmapVersion(this.data_.version);
j.setZIndex(1);j.show();k.click(function(){j.hide()});daum.maps.event.addListener(f,"click",function(){j.getVisible()?j.hide():j.show()})}var n;if(g){n=new daum.maps.InfoWindow({disableAutoPan:true,content:g});n.open(this.map_,f)}var m=1;if(a.markerType){f&&f.setZIndex(2);n&&n.setZIndex(2);j&&j.setZIndex(2);m=2}daum.maps.event.addListener(f,"mouseover",function(){f&&f.setZIndex(3);n&&n.setZIndex(3);j&&j.setZIndex(3)});daum.maps.event.addListener(f,"mouseout",function(){f&&f.setZIndex(m);n&&n.setZIndex(m);
j&&j.setZIndex(m)})};define("map/Map",["jquery","controller/WindowController","params","log/Tiara"],function(a,b,c,d){typeof __overrideMapTypes=="function"&&__overrideMapTypes(c);a=Fb.fetchMapOption_(c);b.updateHeight();if(!a.center)a.center=new daum.maps.Coords(494945,1128987);if(a.level===void 0)a.level=3;if(!a.mapTypeId)a.mapTypeId=jQuery.cookie("maptype")=="skyview"?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.ROADMAP;a.keyboardShortcuts=c.keyboardShortcuts!="off"?true:false;var e=new daum.maps.Map(jQuery("#view\\.map").get(0),
a);e.setLevel(a.level);t.watchMap(e);e.isRoadmap=function(a){a=a||e.getMapTypeId();return a==daum.maps.MapTypeId.ROADMAP||a==daum.maps.MapTypeId.INDOOR_SIDE};d.logOnly(e.isRoadmap()?"fake/start_2d":"fake/start_skyview");return e});la.prototype=new daum.maps.AbstractOverlay;la.prototype.floating_=!0;la.prototype.setType=function(a){if(this.klass_){this.panel_.removeClass("Flag-"+this.klass_+"-drag");this.panel_.removeClass("Flag-"+this.klass_)}this.panel_.hasClass("Flag-drag")&&this.panel_.addClass("Flag-"+
a+"-drag");this.panel_.addClass("Flag-"+a);var b="";switch(a){case "origin":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/red_b.png";break;case "via1":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/green_b_1.png";break;case "via2":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/green_b_2.png";break;case "via3":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/green_b_3.png";break;case "via4":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/green_b_4.png";
break;case "via5":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/green_b_5.png";break;case "dest":b="http://t1.daumcdn.net/localimg/localimages/07/2013/img/blue_b.png"}this.flagImg_.attr("src",b);this.klass_=a};la.prototype.isActivateFlag=function(){return A.Application&&Application.mainMapController.tool.isToolActivate()?false:true};la.prototype.onAdd=function(){this.panel_.appendTo(this.getMap().getNode());this.dragStart_();this.floating_=true};la.prototype.onRemove=function(){this.panel_.detach();
this.floating_=false};la.prototype.draw=function(){if(!this.floating_){var a=this.getProjection();if(a){a=a.pointFromCoords(this.coords_);this.panel_.css({left:a.x,top:a.y})}}};la.prototype.dragStart_=function(){if(this.isDragActivate=this.isActivateFlag()){this.panel_.addClass("Flag-drag");if(this.klass_){this.panel_.addClass("Flag-"+this.klass_+"-drag");this.panel_.removeClass("Flag-"+this.klass_)}var a=this.getMap().getNode();this.mapSize_={width:a.clientWidth,height:a.clientHeight}}};la.prototype.moveBy=
function(a,b){var c=this.getProjection(),d=this.floating_?c.containerPointFromCoords(this.coords_):c.pointFromCoords(this.coords_);d.x=d.x+a;d.y=d.y+b;this.panel_.css({left:d.x,top:d.y});this.coords_=this.floating_?c.coordsFromContainerPoint(d):c.coordsFromPoint(d);d=c.containerPointFromCoords(this.coords_);a=d.x<0?-8:d.x>=this.mapSize_.width?8:0;b=d.y<0?-8:d.y>=this.mapSize_.height?8:0;if(a||b){this.dx_=a;this.dy_=b;this.scrollSwitch_.start()}else this.scrollSwitch_.stop()};la.prototype.setorder=
function(a){this.type=a};la.prototype.scroll_=function(){var a=this.getProjection(),b=a.containerPointFromCoords(this.getMap().getCenter());b.x=b.x+this.dx_;b.y=b.y+this.dy_;this.getMap().setCenter(a.coordsFromContainerPoint(b));b=a.containerPointFromCoords(this.coords_);b.x=b.x+this.dx_;b.y=b.y+this.dy_;this.coords_=a.coordsFromContainerPoint(b);this.draw()};la.prototype.drag_=function(a){this.isDragActivate&&this.moveBy(a.dx,a.dy)};la.prototype.sink_=function(){if(this.floating_){this.panel_.appendTo(this.getPanels().overlayLayer);
var a=this.getProjection().pointFromCoords(this.coords_);this.panel_.css({left:a.x,top:a.y});this.floating_=false}this.panel_.removeClass("Flag-drag");this.panel_.removeClass("Flag-"+this.klass_+"-drag");this.panel_.addClass("Flag-"+this.klass_)};la.prototype.showGuide_=function(){this.isActivateFlag()&&this.panel_.addClass("Flag-HOVER")};la.prototype.hideGuide_=function(){this.panel_.removeClass("Flag-HOVER")};la.prototype.setPosition=function(a){this.coords_=a;this.sink_();this.draw()};la.prototype.setPoint=
function(a){this.panel_.css({left:a.x,top:a.y});this.coords_=this.getProjection().coordsFromContainerPoint(a)};la.prototype.setVisible=function(a){this.panel_.toggle(!!a)};la.prototype.takeDown=function(){if(this.isDragActivate){this.panel_.hasClass("Flag-HOVER")&&this.hideGuide_();this.scrollSwitch_.stop();this.sink_();this.onChange.notify(this)}};la.prototype.remove_=function(){this.panel_.hasClass("Flag-HOVER")&&this.hideGuide_();this.onRemoveFlag.notify(this)};la.prototype.getCoords=function(){return this.coords_};
la.createOrigin=function(){return new la("origin")};la.createVia=function(){return new la("via")};la.createDest=function(){return new la("dest")};la.prototype.setCoords=function(a){this.coords_=a;this.draw();name?this.onCoords.notify(new Za(a,name)):this.queryName_()};"use strict";zd.prototype=new daum.maps.AbstractOverlay;define("map/MapTileManager",["map/Map"],R(function(a){var b=this.onOverlay=new m;if(!(this instanceof arguments.callee))return new arguments.callee(a);var c={roadview:daum.maps.MapTypeId.ROADVIEW,
traffic:daum.maps.MapTypeId.TRAFFIC,terrain:daum.maps.MapTypeId.TERRAIN,theme:void 0,themespring:void 0,overlay:daum.maps.MapTypeId.OVERLAY,bicycle:daum.maps.MapTypeId.BICYCLE,bicyclehybrid:daum.maps.MapTypeId.BICYCLE_HYBRID,air:void 0,themefall:void 0,usedistrict:daum.maps.MapTypeId.USE_DISTRICT,bboundary:daum.maps.MapTypeId.B_BOUNDARY,hboundary:daum.maps.MapTypeId.H_BOUNDARY,indoor:daum.maps.MapTypeId.INDOOR_MAIN},d={terrain:1,overlay:1.5,air:2,usedistrict:3,bboundary:3.5,hboundary:3.5,roadview:4,
traffic:5,bicycle:6,bicyclehybrid:6,themespring:7,themefall:7,theme:8,indoor:9},e=[];this.set=function(f,g){if(!!(e.indexOf(f)>-1)!=g&&c[f]){if(g){for(var j=d[f],l=e.length;l--;)if(j>=d[e[l]])break;l++;e.splice(l,0,f);a.addOverlayMapTypeId(c[f]);for(var k in c){j=c[k];k=="overlay"?e.indexOf(k)>-1&&a.removeOverlayMapTypeId(j):a.removeOverlayMapTypeId(j)}k=e.length;for(j=0;j<k;j++)a.addOverlayMapTypeId(c[e[j]])}else{k=e.indexOf(f);j=c[f];if(k>-1&&j){e.splice(k,1);a.removeOverlayMapTypeId(j)}}b.notify(f)}};
this.get=function(a){return!!(e.indexOf(a)>-1)};this.setId=function(a,b){c[a]=b};this.getOverlayIndex=function(a){return e.indexOf(a)}}));La.ROADVIEW=1;La.TRAFFIC=2;La.ACCIDENT=4;La.CCTV=8;define("map/MapTypeControl","map/Map view/LayerLegendView controller/AccidentController controller/CctvController map/MapTileManager controller/AirMapTileController controller/LocalPlatformAdController".split(" "),R(La));pc.prototype.map_=null;pc.prototype.setVisible=function(a){this.set("visible",a)};pc.prototype.handleOverlay_=
function(){var a=this.map_.isRoadmap();this.roadmapOverlay_.setMap(a?this.map_:null);this.skyviewOverlay_.setMap(a?null:this.map_)};pc.prototype.handleVisible_=function(){if(this.get("visible")){this.switchHandler_();daum.maps.event.addListener(this.map_,"maptypeid_changed",this.switchHandler_)}else{daum.maps.event.removeListener(this.map_,"maptypeid_changed",this.switchHandler_);this.roadmapOverlay_.setMap(null);this.skyviewOverlay_.setMap(null)}};pc.prototype.dispose=function(){this.setVisible(false);
this.skyviewOverlay_=this.roadmapOverlay_=this.map_=null};z.IMGBASE="http://t1.daumcdn.net/localimg/localimages/07/2011/";z.SEARCH_IMG="http://t1.daumcdn.net/localimg/localimages/07/2012/img/marker_normal.png";z.LINECOURSE_IMG="http://t1.daumcdn.net/localimg/localimages/07/2012/line/marker_lline.png";z.CCTV_IMG="http://t1.daumcdn.net/localimg/localimages/07/2013/img/marker_cctv.png";z.EXACT_PLACE_IMG="http://t1.daumcdn.net/localimg/localimages/07/2012/img/marker_direct.png";z.create_=function(a,b,
c,d,e,f,g,j){e=e===void 0?void 0:new daum.maps.Point(e,f);return new daum.maps.Marker({zIndex:j||0,position:a,image:new daum.maps.MarkerImage(b,new daum.maps.Size(c,d),e),clickable:g})};z.createExactPlace=function(a){var b=z.createExactPlaceSpriteImage(true),c=z.createExactPlaceSpriteImage(false);return new pa(a,b,b,c)};z.createPlace=function(a,b){var c=z.createPlaceSpriteImage(a,10),d=z.createPlaceSpriteImage(a,182),e=z.createPlaceHoverImage(a,268);return new pa(b,c,d,e)};z.createLinecourse=function(a,
b){var c=z.createLineCourseSpriteImage(a,80),d=z.createLineCourseHoverImage(a,120);return new pa(b,c,c,d)};z.createExactPlaceSpriteImage=function(a){return a?new daum.maps.MarkerImage(z.EXACT_PLACE_IMG,new daum.maps.Size(33,36),{offset:new daum.maps.Point(12,36),spriteSize:new daum.maps.Size(160,60),spriteOrigin:new daum.maps.Point(80,0)}):new daum.maps.MarkerImage(z.EXACT_PLACE_IMG,new daum.maps.Size(40,42),{offset:new daum.maps.Point(13,42),spriteSize:new daum.maps.Size(160,60),spriteOrigin:new daum.maps.Point(120,
0)})};z.createPlaceSpriteImage=function(a,b){var c=10+(a-1)*46;return new daum.maps.MarkerImage(z.SEARCH_IMG,new daum.maps.Size(33,36),{offset:new daum.maps.Point(12,36),spriteSize:new daum.maps.Size(644,946),spriteOrigin:new daum.maps.Point(b,c)})};z.createSheepPlaceImage=function(){return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2015/ndm/event_cherryblossom_marker_s.png",new daum.maps.Size(32,37),{offset:new daum.maps.Point(15,37),spriteSize:new daum.maps.Size(42,
50),spriteOrigin:new daum.maps.Point(5,10)})};z.createPlaceHoverImage=function(a,b){var c=10+(a-1)*52;return new daum.maps.MarkerImage(z.SEARCH_IMG,new daum.maps.Size(40,42),{offset:new daum.maps.Point(13,42),spriteSize:new daum.maps.Size(644,946),spriteOrigin:new daum.maps.Point(b,c)})};z.createLineCourseSpriteImage=function(a,b){var c=(a-1)*50;return new daum.maps.MarkerImage(z.LINECOURSE_IMG,new daum.maps.Size(34,36),{offset:new daum.maps.Point(13,36),spriteSize:new daum.maps.Size(176,763),spriteOrigin:new daum.maps.Point(b,
c)})};z.createLineCourseHoverImage=function(a,b){var c=(a-1)*50;return new daum.maps.MarkerImage(z.LINECOURSE_IMG,new daum.maps.Size(40,42),{offset:new daum.maps.Point(14,42),spriteSize:new daum.maps.Size(176,763),spriteOrigin:new daum.maps.Point(b,c)})};z.makeHoverable=function(a){daum.maps.event.addListener(a,"mouseover",function(){this.setZIndex(3)});daum.maps.event.addListener(a,"mouseout",function(){this.setZIndex(2)});return a};z.createSpecialPlace=function(a,b){var c=z.createPlaceSpriteImage(a,
96),d=z.createPlaceHoverImage(a,368);return new pa(b,c,null,d,4)};z.createPremiumPlace=function(a,b){var c=z.createPlaceSpriteImage(a,139),d=z.createPlaceHoverImage(a,418);return new pa(b,c,null,d,4)};z.createLandmark=function(a){return z.create_(a,"http://t1.daumcdn.net/localimg/localimages/07/2013/img/marker_landmark2.png",17,20,8,20,false,2)};z.createBusStop=function(a,b){var c=z.createPlaceSpriteImage(a,53),d=z.createPlaceSpriteImage(a,225),e=z.createPlaceHoverImage(a,318);return new pa(b,c,d,
e)};z.createHere=z.createAddress=function(a){return z.create_(a,"http://t1.daumcdn.net/localimg/localimages/07/2012/img/marker_p.png",40,42,13,39,true,3)};z.THEMEIMGBASE="http://t1.daumcdn.net/localimg/localimages/07/2014/img/marker_r3_3.png";z.THEMEMAKER_LIST="bus sub storeview hair food  bank mart hospital oil cafe cvs park post beach_100 mountain_100 island_100 campsite_100 valley_100 forest_100 theme_tvfood".split(" ");z.createThemeMarker=function(a,b){var c=null,d=null,e=z.THEMEMAKER_LIST.indexOf(a);
a=="reserve_island"&&(e=z.THEMEMAKER_LIST.indexOf("island_100"));if(e!=-1){d=10+e*36;c=z.createThemeSpriteImage(d,10);d=z.createThemeSpriteImage(d,46)}else switch(a){case "culture":c=z.createThemeImage_CULTURE(0,0);d=z.createThemeImage_CULTURE(0,36);break;case "hotel":c=z.createThemeImage_HOTEL(0,0);d=z.createThemeImage_HOTEL(0,36)}return c?new Dd(b,c,d):null};z.createThemeImage_CULTURE=function(a,b){return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/marker_r_c.png",
new daum.maps.Size(26,26),{offset:new daum.maps.Point(11,26),spriteSize:new daum.maps.Size(62,26),spriteOrigin:new daum.maps.Point(b,a)})};z.createThemeImage_HOTEL=function(a,b){return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/marker_r_d.png",new daum.maps.Size(26,26),{offset:new daum.maps.Point(11,26),spriteSize:new daum.maps.Size(62,26),spriteOrigin:new daum.maps.Point(b,a)})};z.createThemeSpriteImage=function(a,b){return new daum.maps.MarkerImage(z.THEMEIMGBASE,
new daum.maps.Size(26,26),{offset:new daum.maps.Point(11,26),spriteSize:new daum.maps.Size(72,756),spriteOrigin:new daum.maps.Point(b,a)})};z.createDirectionStart=function(a){return z.create_(a,"http://t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_red.png",41,45,7,38)};z.createDirectionEnd=function(a){return z.create_(a,"http://t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_blue.png",41,45,7,38)};z.createDirectionRoute=function(a){return z.create_(a,"http://t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_green.png",
41,45,7,38)};z.NULL_IMAGE=new daum.maps.MarkerImage("http://i1.daumcdn.net/dmaps/defaultimg/transparent.gif",new daum.maps.Size(40,41));z.DIRECTION_IMAGE={};z.DIRECTION_HOVER_IMAGE={};z.getDirectionImage=function(a){return z.DIRECTION_IMAGE[a]=z.DIRECTION_IMAGE[a]||new daum.maps.MarkerImage(z.IMGBASE+"icon/ico_mapbx_gray"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};z.getDirectionHoverImage=function(a){return z.DIRECTION_HOVER_IMAGE[a]=z.DIRECTION_HOVER_IMAGE[a]||new daum.maps.MarkerImage(z.IMGBASE+
"icon/ico_mapbx_blue"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};z.createDirectionNumber=function(a,b){if(a>0){var c=(a<10?"0":"")+a;return new pa(b,this.getDirectionImage(c),null,this.getDirectionHoverImage(c))}return new daum.maps.Marker({image:z.NULL_IMAGE,zIndex:-9,position:b,clickable:false})};z.STOP_MARKER_IMAGE=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2011/image/btn_goalchange.png",new daum.maps.Size(22,23),new daum.maps.Point(9,
9));z.createStop=function(a){return new daum.maps.Marker({image:z.STOP_MARKER_IMAGE,zIndex:2,position:a,clickable:false})};z.STOP_REMOVE_MARKER_IMAGE=new daum.maps.MarkerImage("http://i1.daumcdn.net/dmaps/apis/n_local_btn_17.png",new daum.maps.Size(16,15),new daum.maps.Point(-11,7));z.createStopRemover=function(a){return new daum.maps.Marker({image:z.STOP_REMOVE_MARKER_IMAGE,zIndex:3,position:a})};z.createCctv=function(a){var b=z.getCctvImage_(new daum.maps.Point(10,48)),c=z.getCctvImage_(new daum.maps.Point(46,
48));return new Dd(a,b,c)};z.getCctvImage_=function(a){return new daum.maps.MarkerImage(z.CCTV_IMG,new daum.maps.Size(26,28),{offset:new daum.maps.Point(13,28),spriteSize:new daum.maps.Size(72,80),spriteOrigin:a,shape:"rect"})};z.GAS_STATION=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/oil_m.png",new daum.maps.Size(39,33),new daum.maps.Point(13,32));z.createGasStation=function(a){return new daum.maps.Marker({zIndex:2,position:a,clickable:true,image:z.GAS_STATION})};
z.REST_AREA=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/rest_m.png",new daum.maps.Size(39,33),new daum.maps.Point(13,32));z.createRestArea=function(a){return new daum.maps.Marker({zIndex:2,position:a,clickable:true,image:z.REST_AREA})};z.COURSE_START_END=new daum.maps.MarkerImage(z.IMGBASE+"icon/point_road.png",new daum.maps.Size(15,15),new daum.maps.Point(8,8));z.createCourseStartEnd=function(a){return new daum.maps.Marker({zIndex:-1,position:a,clickable:false,
image:z.COURSE_START_END})};z.issuePlace=function(){var a=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/dot_b.png",new daum.maps.Size(10,10),{offset:new daum.maps.Point(5,5),spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)});return new daum.maps.Marker({position:null,image:a,clickable:true})};z.createCarDirectionNumber=function(a,b){return a>0?new pa(b,this.getWalkNumberImage(a),null,this.getOverWalkNumberImage(a)):new daum.maps.Marker({image:z.NULL_IMAGE,
zIndex:-9,position:b,clickable:false})};z.getWalkNumberImage=function(a){var b=Math.floor((a-1)/10)*30;b<0&&(b=0);a=(a-1)%10*30;return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/ico_num_map.png",new daum.maps.Size(20,20),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(320,920),spriteOrigin:new daum.maps.Point(a,b)})};z.getOverWalkNumberImage=function(a){var b=Math.floor((a-1)/10)*30;b<0&&(b=0);a=(a-1)%10*30;return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/ico_num_map_on.png",
new daum.maps.Size(22,22),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(320,920),spriteOrigin:new daum.maps.Point(a,b)})};z.walkpointMarker=function(a,b){return new daum.maps.Marker({position:a,clickable:true,image:b})};z.fakeMarker=function(a){return new daum.maps.Marker({position:a,clickable:false})};z.getWalkGroupDirectionHoverImage=function(a){return new daum.maps.MarkerImage(z.IMGBASE+"icon/ico_mapbx_blue"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,
18))};z.walkpointGroupMarker=function(a,b){return new daum.maps.Billboard({position:a,clickable:true,content:b})};z.getTransitWalkMarkerImage=function(){return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/new_line_icon2.png",new daum.maps.Size(21,21),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(21,63),spriteOrigin:new daum.maps.Point(0,43)})};z.getTransitWalkHoverMarkerImage=function(){return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/new_line_icon_over2.png",
new daum.maps.Size(21,21),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(21,63),spriteOrigin:new daum.maps.Point(0,43)})};z.getFavoriteMarkerImage=function(){return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2016/map/ico_starmarker.png",new daum.maps.Size(20,20),new daum.maps.Point(9,11))};z.transitWalkMarker=function(a){return new daum.maps.Marker({position:a,clickable:true,zIndex:4,image:z.getTransitWalkMarkerImage()})};z.localPlatformMarker=function(a){return new daum.maps.Marker({zIndex:a==
"GLOBAL"?3:2,clickable:true,image:new daum.maps.MarkerImage(a=="GLOBAL"?"http://t1.daumcdn.net/localimg/localimages/07/2012/img/ad_marker2.png":"http://t1.daumcdn.net/localimg/localimages/07/2012/img/ad_marker1.png",new daum.maps.Size(35,41),new daum.maps.Point(14,41))})};z.getTransitMarker=function(a,b){var c=a=="BUS"?0:22,d=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/new_line_icon2.png",new daum.maps.Size(21,21),{offset:new daum.maps.Point(10,11),spriteSize:new daum.maps.Size(21,
63),spriteOrigin:new daum.maps.Point(0,c)}),c=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2013/img/new_line_icon_over2.png",new daum.maps.Size(21,21),{offset:new daum.maps.Point(10,11),spriteSize:new daum.maps.Size(21,63),spriteOrigin:new daum.maps.Point(0,c)});return new pa(b,d,d,c,4)};z.getTransitInterMarker=function(a,b){var c=84,c=a=="BUSTERMINAL"?0:a=="TRAINSTATION"?21:a=="AIRPORT"?42:a=="PORT"?63:a=="TAXI"?84:105,d=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2014/localsearch/new_line_icon.png",
new daum.maps.Size(21,21),{offset:new daum.maps.Point(10,11),spriteSize:new daum.maps.Size(21,150),spriteOrigin:new daum.maps.Point(0,c)}),c=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2014/localsearch/new_line_icon_over.png",new daum.maps.Size(21,21),{offset:new daum.maps.Point(10,11),spriteSize:new daum.maps.Size(21,150),spriteOrigin:new daum.maps.Point(0,c)});return new pa(b,d,d,c,4)};z.getTransitInterWalkMarker=function(a,b){var c=z.getTransitWalkMarkerImage(),d=z.getTransitWalkHoverMarkerImage();
return new pa(b,c,c,d,4)};z.favoriteMarker=function(a){var b=z.getFavoriteMarkerImage();return new pa(a,b,b,b,4)};ta.prototype.markers_=[];ta.prototype.add=function(a){console.assert(a.setMap);this.markers_.push(a);a.setMap(this.map_)};ta.prototype.clear=function(){this.hide();this.markers_.length=0};ta.prototype.clearAt=function(a){this.markers_[a].setMap(null);this.markers_[a]=null};ta.prototype.at=function(a){return this.markers_[a]};ta.prototype.hide=function(){this.markers_.forEach(function(a){a.setMap(null)})};
ta.prototype.show=function(){this.markers_.forEach(function(a){a.setMap(this.map_);a.getActive&&a.getActive()&&a.setActive(true)},this)};ta.prototype.setHover=function(a,b){var c=this.at(a);c&&c.setHover(b?true:false)};ta.prototype.setMarkerActive=function(a){if(a<0)this.activeMarker_&&this.activeMarker_.setActive(false);else{a=this.at(a);this.activeMarker_&&this.activeMarker_!=a&&this.activeMarker_.setActive(false);a.setActive(true);this.activeMarker_=a}};ta.prototype.isEmpty=function(){return!this.markers_||
!this.markers_.length};ta.prototype.getMarkerBounds=function(){var a=new daum.maps.CoordsBounds;this.markers_.forEach(function(b){a.extend(b.getPosition())},this);return a};ta.prototype.getMarkerActive=function(){return this.activeMarker_};Qc.prototype.x=NaN;Qc.prototype.y=NaN;Qc.prototype.hitTest=function(a,b,c){return Math.abs(a-this.x)<=c&&Math.abs(b-this.y)<=c};define("map/MiniMapTypeControl",["map/Map"],R(function(a){function b(){var b=a.isRoadmap();c.toggleClass("roadmap-ACTIVE",b);d.toggleClass("skyview-ACTIVE",
!b)}var c=jQuery("#miniMapTypeControl\\.roadmap");c.click(function(){a.setMapTypeId(daum.maps.MapTypeId.ROADMAP)});var d=jQuery("#miniMapTypeControl\\.skyview");d.click(function(){a.setMapTypeId(daum.maps.MapTypeId.HYBRID)});b();daum.maps.event.addListener(a,"maptypeid_changed",b)}));"use strict";"use strict";ua.BUSSTOP="BUSSTOP";ua.PLACE="PLACE";ua.THEME="THEME";ua.POIBUSSTOP="POIBUSSTOP";ua.CCTV="CCTV";ua.DOT="DOT";ua.AOILINE="AOILINE";define("map/MiniTooltipManager",["map/Map"],R(ua));define("map/MiniZoomControl",
["map/Map"],R(function(a){jQuery("#miniZoomControl\\.zoomin").click(function(){a.setLevel(a.getLevel()-1)});jQuery("#miniZoomControl\\.zoomout").click(function(){a.setLevel(a.getLevel()+1)});jQuery("#miniZoomControl\\.reset").click(function(){a.setCenter(Application.roadviewController.walker_.getPosition());a.setLevel(3)})}));ib.Polygon=function(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,f=a.length/2,g=Array(f),j=
Array(f),l=0;l<f;l++){g[l]=a[2*l];j[l]=a[2*l+1];b=Math.min(b,a[2*l]);d=Math.max(d,a[2*l]);c=Math.min(c,a[2*l+1]);e=Math.max(e,a[2*l+1])}var k=[b,c,d,e];this.isContain=function(a,b){var c=0;if(k[0]<=a&&k[2]>=a&&k[1]<=b&&k[3]>=b)for(var d=g.length,e=d-1,f=0;f<d;f++){if((j[f]<b&&j[e]>=b||j[e]<b&&j[f]>=b)&&(g[f]<=a||g[e]<=a))c=c^g[f]+(b-j[f])/(j[e]-j[f])*(g[e]-g[f])<a;e=f}return c}};Gd.clickMarker=null;pb.SUBTITLE_MAP={"0":"\uc548\ub0b4",5:"\uc0ac\uace0",a:"\uacf5\uc0ac",c:"\uc9d1\ud68c/\ud589\uc0ac"};
pb.ICON_MAP={"0":new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/trafficinfo/info.png",new daum.maps.Size(39,33),new daum.maps.Point(13,32)),5:new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/trafficinfo/accident.png",new daum.maps.Size(39,33),new daum.maps.Point(13,32)),a:new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/trafficinfo/construction.png",new daum.maps.Size(39,33),new daum.maps.Point(13,32)),c:new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/trafficinfo/no_thoroughfare.png",
new daum.maps.Size(39,33),new daum.maps.Point(13,32))};pb.findAll=function(a,b){require("server").accident(null,function(c){a.call(b,pb.loadAll_(c))})};pb.loadAll_=function(a){var b=a.find("accidents").map(function(a){return new pb(a)});b.timestamp=a.text("baseTime");return b};Ca.prototype.coords=new daum.maps.Coords(0,0);Ca.prototype.name="";Ca.prototype.oldname="";Ca.findWhatsHere=function(a,b,c){require("server").whatsHere({x:a.getX()|0,y:a.getY()|0},function(a){b.call(c,Ca.loadWhatsHere_(a))})};
Ca.loadWhatsHere_=function(a){var b=a.text("name");if(b){var c=new Ca;c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));c.name=b;return c}return null};Ca.getAoiModel=function(a){var b=new Ca,c=a.id,d=a.lineData.split("|"),e=d[0].split(","),f=d[d.length-1].split(",");b.aoiPath=[d];b.startPoint=new daum.maps.Coords(e[0],e[1]);b.endPoint=new daum.maps.Coords(f[0],f[1]);b.centerPoint=a.coords;b.id=c;return b};define("model/Aoi",["map/Map"],function(a){function b(b,d,e){this.map_=a;this.searchResult=
d;this.type=e;this.overlay=new ta(this.map_);this.id=b.id;this.aoiPath=b.aoiPath||[];this.startPoint=b.startPoint;this.endPoint=b.endPoint;this.markerPosition=this.centerPoint=b.centerPoint;this.parsedFullPath=this.coordsBounds=null;this.simplePathMap={};this.endMarker}b.prototype.getCoordsBounds=function(){var a=this.map_.getLevel();this.coordsBounds||this.calcBounds_(a);return this.coordsBounds};b.prototype.calcBounds_=function(){this.coordsBounds=new daum.maps.CoordsBounds;for(var a=this.parsedFullPath||
this.parseAoiPath_(),b,e=a.length;e--;){b=a[e];for(var f=b.length;f--;)this.coordsBounds.extend(new daum.maps.Coords(b[f].getX(),b[f].getY()))}};b.prototype.isLineOverlayEmpty=function(){return this.overlay.isEmpty()};b.prototype.hideLineOverlay=function(){this.overlay.hide()};b.prototype.clearLineOverlay=function(){this.overlay.clear()};b.prototype.resetMarkerPosition=function(){this.markerPosition=this.centerPoint};b.prototype.getVisibleMarkerPosition=function(){function a(b,d,e){var l=d+~~((e-
d+1)/2),m=b[l],s=b[d],q=b[e],r=g.getX(),u=g.getY();return f.contain(m)?m:l==d||l==e?null:j(s.getX(),s.getY(),r,u)<j(r,u,q.getX(),q.getY())?a(b,d,l):a(b,l,e)}var b,e,f=this.map_.getBounds(),g=this.map_.getCenter(),j=this.getDistance_;if(f.intersects(this.getCoordsBounds())&&!f.contain(this.markerPosition)){b=this.simplePathMap[this.map_.getLevel()].sort(function(a,b){return a.length-b.length});for(var l=b.length;l--;){e=b[l];if(e=a(e,0,e.length-1))return this.markerPosition=e}}return this.markerPosition};
b.prototype.parseAoiPath_=function(){var a,b;this.parsedFullPath=[];for(var e=0,f=this.aoiPath.length;e<f;e++){b=this.aoiPath[e];for(var g=0,j=b.length;g<j;g++){a=b[g].split(",");b[g]=new daum.maps.Coords(a[0],a[1])}this.parsedFullPath.push(b)}return this.aoiPath=this.parsedFullPath};b.prototype.getSimplePaths=function(a){var b=[];this.parsedFullPath||this.parseAoiPath_();if(!this.simplePathMap[a]){b=a<5?this.parsedFullPath:this.simplify_(a);this.simplePathMap[a]=b}return this.simplePathMap[a]};b.prototype.getDistance_=
function(a,b,e,f){return Math.sqrt(Math.pow(a-e,2)+Math.pow(b-f,2))};b.prototype.simplify_=function(a){var b=[],e=(1<<a>>1)*5,f=this.getDistance_;this.aoiPath.forEach(function(a){var c=[],g=a[0],k,n,m;c.push(g);for(var o=1,p=a.length-1;o<p;o++){k=a[o];n=k.getX();m=k.getY();n=f(n,m,g.getX(),g.getY());if(n>e){c.push(k);g=k}}c.push(a[a.length-1]);b.push(c)});return b};return b});qb.fetchByBCode=function(a,b){require("server").getBcodeShape({code:a},function(a){b(new qb(a))})};qb.fetchByHCode=function(a,
b){require("server").getHcodeShape({code:a},function(a){b(new qb(a))})};qb.fetchByCoords=function(a,b,c){require("server").getJibunShape({x:a,y:b},function(a){c(new qb(a,true))})};sc.find=function(a,b,c,d){require("server").busLineStop({busstopid:a,busline:b},function(a){c.call(d,sc.createFromData(a))})};sc.createFromData=function(a){var b=null,c=a.text("realtimeState"),d=a.object("arrival");if(d){b=new sc;b.stateArray=[{status:d.text("collectStatus"),state:d.number("vehicleState"),time:d.number("arrivalTime"),
message:""}];if(d.has("vehicleState2")){b.stateArray.push({status:d.text("collectStatus2"),state:d.number("vehicleState2"),time:d.number("arrivalTime2"),message:""});b.stateOnly=false}else b.stateOnly=true;for(var e=0;e<b.stateArray.length;e++){var f=b.stateArray[e],g="",g=c=="CP_ERROR"?a.text("hname").split(" ")[0]+" \ubc84\uc2a4 \uc7a5\uc560":c=="ERROR"?"\uc810\uac80\uc911":f.state==-3?"\uc810\uac80\uc911":f.state==1001?"\uc815\ubcf4\uc5c6\uc74c":f.state==-2?"\uc6b4\ud589\uc885\ub8cc":f.state==
-1?"\ucc28\ub7c9\ub300\uae30":f.state==10?"\ud68c\ucc28\ub300\uae30":f.state==1002?"\uace7\ub3c4\ucc29":"\uc815\uc0c1\uc6b4\ud589";f.message=g}if(b.stateArray.length==2&&(b.stateArray[0].message!="\uc815\uc0c1\uc6b4\ud589"&&b.stateArray[0].message==b.stateArray[1].message||b.stateArray[0].status=="DELAY"&&b.stateArray[1].status=="DELAY"))b.stateOnly=true;b.direction=d.text("direction");b.direction2=d.text("direction2");b.busStopCount=d.number("busStopCount");b.busStopCount2=d.number("busStopCount2")}return b};
Dc.dayTypes={1:"\ud3c9\uc77c",2:"\ud1a0\uc694\uc77c",3:"\ud734\uc77c",4:"\uc8fc\ub9d0"};X.TYPE={"0101":"blue",BLUE:"blue","0102":"green",GREEN:"green","0103":"red",RED:"red","0104":"yellow",YELLOW:"yellow","0109":"ma",MAUL:"ma","0106":"general",GENERAL:"general","0107":"sit",SEAT:"sit","0110":"direct",DIRECT:"direct","0108":"express",EXPRESS:"express","0105":"air",AIRPORT:"air","0111":"external",OUTER:"external","0112":"intercity",INTERCITY:"intercity","0113":"rural",RURAL:"rural"};X.STRING={blue:"\uac04\uc120",
green:"\uc9c0\uc120",red:"\uad11\uc5ed",yellow:"\uc21c\ud658",ma:"\ub9c8\uc744",general:"\uc77c\ubc18",sit:"\uc88c\uc11d",direct:"\uc9c1\ud589",express:"\uae09\ud589",air:"\uacf5\ud56d",external:"\uc678\uacfd",intercity:"\uc2dc\uc678",rural:"\ub18d\uc5b4\ucd0c"};X.REGIONCODE="seoul kyunggi kangwon incheon daejeon kwangju busan ulsan daegu chungbook jeju cheongju".split(" ");X.REGIONID="11 31 32 23 25 24 21 26 22 33 39 3301".split(" ");X.PROVIDER_CLASS={1:"seoul",2:"daegu",4:"cheongju",5:"kyunggi",
6:"busan",7:"jeju",8:"chuncheon",9:"incheon",10:"daejeon",11:"ulsan",12:"gwangju",13:"changwon",14:"gimhae",15:"pohang",16:"gyeongsan",17:"yeosu",19:"geoje",20:"jeonju",21:"cheonan",22:"wonju",24:"asan",25:"suncheon",30:"tongyeong",31:"gwangyang",59:"sejong",104:"yangsan",105:"jinju",99999:"blank"};X.prototype.addPath=function(a){a=a.split(",");this.linePath_=[];for(var b=0;b<a.length;b++){var c=a[b].split(" ");c&&this.linePath_.push(new daum.maps.Coords(c[0],c[1]))}};X.prototype.addBusStop=function(a){a.forEach(function(a){this.busStops.push(new Y(a))},
this)};X.findAll=function(a,b,c,d,e){a={q:a,spage:b};if(c.regionName)a.g_name=c.regionName;else{if(c.regionId)a.region_id1=c.regionId;if(c.typeId)a.bus_type_id=c.typeId;if(c.qaType)a.qa_type=c.qaType}require("server").searchBus(a,function(a){d.call(e,X.loadAll_(a))})};X.loadAll_=function(a){var b=a.find("List").map(function(a){return new X(a)}),c=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});c.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});var d=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),
id:a.text("id")}});d.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});var e=a.text("current_guide.qa_type")||"",f=a.text("query"),g={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||
[]},j={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]};return{count:a.number("total_count"),pageCount:a.number("page_count"),buses:b,regions:c,types:d,qaType:e,originalKeyword:f,
currentGuide:g,nextGuide:j}};X.findOne=function(a,b,c,d){a={q:a,bus_srcid:b};require("server").searchBus(a,function(a){c.call(d,X.loadAll_(a))})};X.findAllInRegion=function(a,b,c,d){require("server").busStopsInBounds({hcode:a,page:b},function(a){c.call(d,X.loadAllInRegion_(a))})};X.loadAllInRegion_=function(a){return X.loadInBounds_(a)};X.findInBounds=function(a,b,c,d){var e=a.getSouthWest(),a=a.getNorthEast();require("server").busLinesInBounds({rect:(e.getX()|0)+","+(e.getY()|0)+","+(a.getX()|0)+
","+(a.getY()|0),page:b},function(a){c.call(d,X.loadInBounds_(a))})};X.loadInBounds_=function(a){var b=a.find("buses").map(function(a){return new X(a)});return{count:a.number("total"),buses:b}};X.findBusLine=function(a,b,c){require("server").busInfo(a,function(d){if(d.text("value")!="error"){d=new X(d);d.id=d.id||a;b.call(c,d)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})};X.prototype.loadVehicles_=function(a){return a.map(function(a){var c=new Tb;c.status=
a.text("collectStatus");c.number=a.text("vehicleNumber");c.position=a.number("sectionOrder")-2+Math.min(1,a.number("sectionOffsetDist")/Math.max(a.number("sectionDist"),1)||0);c.first=a.bool("firsttVehicle");c.last=a.bool("lastVehicle");c.type=a.number("vehicleType");return c})};X.prototype.loadBusDetailInfo_=function(a){return new Dc(a)};X.prototype.hasFareUrl=function(){return["11","31","23","25","24","21","26","22"].indexOf(this.hcode)>=0};X.prototype.getFareUrl=function(a){a=X.REGIONID.indexOf(a||
this.hcode);return"pubtrans/payinfo/buspay_"+X.REGIONCODE[a]+".html"};Tb.TYPE_LOW=1;Tb.TYPE_BENDY=2;Tb.TYPE_SECOND_FLOOR=3;Y.prototype.id="";Y.prototype.coords=new daum.maps.Coords(0,0);Y.prototype.name="";Y.prototype.region="";Y.prototype.hitTest=function(a,b){var c=3<<b;return Math.abs(a.getX()-this.coords.getX())<c&&Math.abs(a.getY()-this.coords.getY())<c};Y.prototype.load_=function(a){this.rawData=a;this.id=a.text("masterId")||a.text("id")||a.text("code")||a.text("DOCID");this.coords=new daum.maps.Coords(a.number("wx")||
a.number("x"),a.number("wy")||a.number("y"));this.name=String.stripTags(a.text("name")||a.text("BUSSTOP_NAME"));this.hname=String.stripTags(a.text("hname1")+" "+a.text("hname2")+" "+a.text("hname3"));this.codenames=[];if(a.find("readableItsIdList").length>0)this.codenames=a.find("readableItsIdList").map(function(a){return a.text("value").trim()},this);else if(a.text("readableItsId"))this.codenames[0]=a.text("readableItsId");else if(a.text("STOP_ID"))this.codenames=a.text("STOP_ID").split(",");this.codenames=
this.codenames.reduce(function(a,c){c=c.replace(/\([\W\w]*\)/,"").replace(/-/g,"").trim();a.indexOf(c)===-1&&a.push(c);return a},[]);this.turningPoint=Boolean(a.number("turningPoint"));this.virtual=Boolean(a.number("virtual"));this.region=a.text("RGN_D1_NAME");this.region1=a.text("RGN_D2_NAME");this.region2=a.text("RGN_D3_NAME");this.lines=a.find("lines").map(function(a){return new X(a,this.codenames)},this);this.roadview=Ma.create(a)||Ma.createWithText(a.text("roadview"));if(!this.roadview&&a.object("roadView"))this.roadview=
Ma.create(a.object("roadView"));this.types=a.text("STOP_BUS_TYPE").split("|").map(function(a){return X.TYPE[a]}).filter(Boolean);this.direction=a.text("direction")||null;this.realTime=a.text("realTime")=="true"||false;this.nextLinkSpeed=a.number("nextLinkSpeed")||0;this.order=a.number("order")||0};Y.find=function(a,b,c){require("server").busStop(a,function(a){b.call(c,Y.load_(a))})};Y.findTransitBusStop=function(a,b,c,d){require("server").transitBusStop({busstopid:a,buslines:b.join(",")},function(a){c.call(d,
Y.load_(a))})};Y.load_=function(a){return new Y(a)};Y.findAllByName=function(a,b,c,d,e){a={spage:b,q:a};if(c.regionName)a.g_name=c.regionName;else{if(c.regionId)a.region_id1=c.regionId;if(c.typeId)a.bus_type_id=c.typeId;if(c.qaType)a.qa_type=c.qaType}require("server").searchBusStop(a,function(a){var b=a.find("List").map(function(a){var b=new Y;b.load_(a);return b}),c=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});c.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});
var g=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});g.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});var k=a.text("current_guide.qa_type")||"",n=a.text("query"),m={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||
[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]},o={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]};d.call(e,{count:a.number("total_count"),
pageCount:a.number("page_count"),busStops:b,regions:c,types:g,qaType:k,originalKeyword:n,currentGuide:m,nextGuide:o})})};Id.prototype.getBusStops=function(a){var b=["blue","green","red","yellow","air","general","sit","express","ma","direct","external","intercity","rural"];require("server").busStopGroup(this.id,function(c){a(c.find("value").map(function(a){var c=new Y;c.id=a.text("id");c.name=a.text("name");c.coords=this.coords;c.codenames=a.find("readableItsIdList").map(function(a){return a.text("value")});
c.codenames=c.codenames.reduce(function(a,b){b=b.replace(/\([\W\w]*\)/,"").replace(/-/g,"").trim();a.indexOf(b)===-1&&a.push(b);return a},[]);c.types=[];for(var f=0;f<13;++f)a.number("type2")&1<<f&&c.types.push(b[f]);return c},this))}.bind(this))};Da.prototype.load_=function(a){if(this.error=a.text("success")!="true"){this.resultCode=a.text("resultCode");return this}this.resultCode="";this.raw=a.obj_;this.source=a.text("source");var b=this.outlines.pop();this.outlines=a.find("outlines").map(function(a){return a.text("value")});
this.outlines.push(b);this.distance=a.number("totalLength");this.lenthOnRoad=a.number("lenthOnRoad");this.time=a.number("expectedTime");this.taxiFare=a.number("expectedTaxiCost");this.toll=a.number("tollCost");b=a.find("tollFares");this.tollFares=[];for(var c=0;c<6;c++){var d=b[c];d&&d.number("value")?this.tollFares.push(d.number("value")):this.tollFares.push(0)}this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("bound.left"),a.number("bound.bottom")),new daum.maps.Coords(a.number("bound.right"),
a.number("bound.top")));this.ferryNode=a.bool("ferryNode");b=a.find("nodes").map(M.create);this.hasRoadviewInfo=b.some(function(a){return!!a.roadview});b[0].confirmid=this.origin.id;b.slice(-1)[0].confirmid=this.dest.id;this.checkpoints=b;var e=Application.flagSearchController.getWaypoints(),f=0;this.checkpoints.forEach(function(a){if(a.seq==M.VIA){f++;a.name=e[f].name}},this);var g=this.sectionPoints=[],j=[],l=0;sections=a.find("sections").forEach(function(a,b){++l;g[b]=[];var c=null;a.find("links").forEach(function(a){if(a.text("points")){var d=
a.number("grade"),e=a.text("roadnum");if(d==1)if(c&&c.number==e){c.time=c.time+a.number("time");c.distance=c.distance+a.number("length");++c.count}else{c={name:a.text("name"),number:e,time:a.number("time"),distance:a.number("length"),start:l,count:1};j.push(c)}e=this.checkpoints[l];e.traffic=M.getTraffic(d,a.number("speed"));this.raw.nodes[l].traffic=M.getTrafficText(e.traffic);d=a.text("points").split(",");e.points=d.map(function(a){a=a.split(" ");return new daum.maps.Coords(a[0],a[1])});if(a.has("hints"))for(var d=
e.hints=[],a=a.text("hints"),f=0,k=a.length;f<k;++f)d[f]=a.charCodeAt(f)-48;g[b]=g[b].concat(e.points);++l}},this);++l},this);this.pointGroups=[];j.forEach(function(a){var b=this.pointGroups[a.start]=new dc;b.name=a.name;b.number=a.number;b.time=a.time;b.distance=a.distance;b.count=a.count;b.item=this.checkpoints.slice(a.start,a.start+a.count)},this);a.number("roadside.on")&&this.loadRoadside_(a);return this};Da.prototype.loadRoadside_=function(a){this.accidents=a.array("roadside.accident").map(function(a){return new pb(a)});
this.cctvs=a.array("roadside.cctv").map(function(a){return new ub(a)});this.gasStations=a.array("roadside.gasStation").map(function(a){var c=new ja;c.id=a.number("confirmId");c.placename=a.text("placeName");c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return c});this.restAreas=a.array("roadside.restArea").map(function(a){var c=new ja;c.id=a.number("confirmId");c.placename=a.text("placeName");c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return c})};Da.REALTIME="SHORTEST_REALTIME";
Da.OPTIMAL="SHORTEST_TIME";Da.SHORTEST="SHORTEST_DIST";Da.prototype.method=Da.REALTIME;Da.OPTION_NONE="NONE";Da.OPTION_FREEWAY="FREEWAY";Da.OPTION_BIKE="BIKE";Da.prototype.option=Da.OPTION_NONE;Da.prototype.viaIndex=0;Da.find=function(a,b,c,d,e){var f=new Da;f.method=b;f.option=c;var g={carMode:b.toString(),carOption:c.toString(),u2X:[],u2Y:[]},j=a.length-1,l="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=j&&b!=1){g.u2X.push(c.getX()|0);g.u2Y.push(c.getY()|0)}else{var d=b==0?"s":b==j?"e":"p";
g[d+"Name"]=a.name;g[d+"X"]=c.getX()|0;g[d+"Y"]=c.getY()|0}l=l+((a.id?a.id:"")+(b!=j?",":""))});g.ids=l;f.outlines=[a[0].name,a[j].name];f.origin=a[0];f.dest=a[j];if(a.length==2&&f.origin.coords&&f.dest.coords){a=f.origin.coords;b=f.dest.coords;if(a.getX()==b.getX()&&a.getY()==b.getY()){f.error=true;f.resultCode="SAME_POINT";d.call(e,f);return}}var k=Bb();require("server").carRoute(g,function(a){k.dispose();d.call(e,f.load_(a))})};Da.createRoadviewParam=function(a){var b={},c=a.length-1,d="",e=[];
a.forEach(function(a,g){var j=a.coords;if(g!=0&&g!=c){e.push(j.getX()|0);e.push(j.getY()|0)}else{var l=g==0?"s":"e";b[l+"Name"]=a.name;b[l+"X"]=j.getX()|0;b[l+"Y"]=j.getY()|0}d=d+((a.id?a.id:"")+(g!=c?",":""))});b.ids=d;if(e.length)b.mXY=e.join(",");return b};Da.showRoadviewVideo=function(a,b,c,d){a=Da.createRoadviewParam(a);jQuery.extend(a,b||{});require("server").roadviewVideoView(a,function(a){c.call(d,a)},function(){c.call(d,new Ga)})};T.prototype.load_=function(a){if(this.error=a.text("resultSummaryCode")!=
"ROUTE_RESULT_SUCCESS"){this.resultCode=a.text("resultSummaryCode");return this}this.resultCode="";var b=this.origin,c=this.dest;this.carRoutes=a.find("list").map(function(a){var e=new Da;e.origin=b;e.dest=c;return e.load_(a)});return this};T.REALTIME="SHORTEST_REALTIME";T.OPTIMAL="SHORTEST_TIME";T.SHORTEST="SHORTEST_DIST";T.prototype.method=T.REALTIME;T.OPTION_NONE="NONE";T.OPTION_FREEWAY="FREEWAY";T.OPTION_BIKE="BIKE";T.getSourceLineColor=function(a){var b="#3386ff";switch(a){case "daum":b="#3386ff";
break;case "skp":b="#ff4122";break;case "mn":b="#00e005";break;case "kt":b="#ffd91d"}return b};T.getSourceOutLineColor=function(a){var b="#002d6e";switch(a){case "daum":b="#002d6e";break;case "skp":b="#7b1100";break;case "mn":b="#006b08";break;case "kt":b="#784900"}return b};T.getSourceText=function(a){var b=null;switch(a){case "daum":b="\uae40\uae30\uc0ac \uc9c0\ub3c4";break;case "skp":b="\ud2f0\ub9f5";break;case "mn":b="\ub9f5\ud53c";break;case "kt":b="\uc62c\ub808\ub0b4\ube44"}return b+" \uacbd\ub85c"};
T.prototype.option=T.OPTION_NONE;T.prototype.viaIndex=0;T.find=function(a,b,c,d,e){var f=new T;f.method=b;f.option=c;var b={carMode:b.toString(),carOption:c.toString()},g=a.length-1,j="";a.forEach(function(a,b){var c=a.coords,d="pt",e="POINT",f="";if(a.id){a.id[0]=="P"?e="PLACE":a.id[0]=="M"?e="SUBWAYSTATION":a.id[0]=="B"?e="BUSSTOP":a.id[0]=="A"&&(e="ADDRESS");f=a.id.substr(1)}b===0?d="sp":b===g&&(d="ep");c=[c.getX()||"",c.getY()||"",a.name?encodeURIComponent(a.name):"",e||"",f||""];j=j+("&"+d+"="+
c.join(","))});f.outlines=[a[0].name,a[g].name];f.origin=a[0];f.dest=a[g];if(a.length==2&&f.origin.coords&&f.dest.coords){a=f.origin.coords;c=f.dest.coords;if(a.getX()==c.getX()&&a.getY()==c.getY()){f.error=true;f.resultCode="SAME_POINT";d.call(e,f);return}}var l=Bb();require("server").carSetRoute({params:b,addParamData:j},function(a){l.dispose();d.call(e,f.load_(a))})};ub.prototype.testZoom=function(a){return a<=this.flag?true:false};ub.ICON=new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2009/map/traffic/cctv.png",
new daum.maps.Size(24,20));ub.findAll=function(a,b,c){require("server").cctv(c,function(c){a.call(b,ub.loadAll_(c))})};ub.loadAll_=function(a){return a.find("value").map(function(a){return new ub(a)})};ub.SOURCE_HTML={road:'<p class="notice_top"><span class="source_mltm">\uad6d\ud1a0\uad50\ud1b5\ubd80 </span><span class="source_road">\ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',
seoul:'<p class="notice_top"><span class="source_seoul">\uc11c\uc6b8\uc2dc\uc124\uacf5\ub2e8</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',mltm:'<p class="notice_top"><span class="source_mltm">\uad6d\ud1a0\uad50\ud1b5\ubd80</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',UTIS:'<p class="notice_top"><span class="source_utis">\uacbd\ucc30\uccad(UTIS)</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',
mltm_pusan:'<p class="notice_top"><span class="source_mltm">\uad6d\ud1a0\uad50\ud1b5\ubd80 </span><span class="source_busan">\ubd80\uc0b0\uad11\uc5ed\uc2dc</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',road_live:'<p class="notice_top"><span class="source_road">\ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac(LIVE)</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 30\ucd08~1\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',
gyeonggi:'<p class="notice_top"><span class="source_gyeonggi">\uacbd\uae30\ub3c4\uad50\ud1b5\uc815\ubcf4\uc13c\ud130</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',jeju:'<p class="notice_top"><span class="source_jeju">\uc81c\uc8fc\uc790\uce58\uacbd\ucc30\ub2e8 \uad50\ud1b5\uc815\ubcf4\uc13c\ud130</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>',
cheonan:'<p class="notice_top"><span class="source_cheonan">\ucc9c\uc548\uc2dc\uad50\ud1b5\uc815\ubcf4\uc13c\ud130</span></p><p class="notice_bottom">\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>'};M.STRAIGHT="a";M.LEFT="b";M.RIGHT="c";M.UTURN="d";M.TOPRIGHT="f";M.BOTTOMRIGHT="g";M.BOTTOMLEFT="h";M.TOPLEFT="i";M.GOHIGHWAY="j";M.GOHIGHWAYSIDE="e";M.GOUNDERPASS="k";M.GOUNDERPASSSIDE="l";M.HEAVY="heavy";M.MEDIUM="medium";M.MODERATE=
"moderate";M.LIGHT="light";M.NULL="null";M.START="start";M.END="goal";M.VIA="through";M.TG="tg";M.RESTAREA="restarea";M.TRAFFIC_TABLE=[[30,50,70],[20,30,50],[10,20,30]];M.getTable=function(a){return M.TRAFFIC_TABLE[a<=1?0:a<=4?1:2]};M.getTraffic=function(a,b){var c=M.getTable(a);return b<=0?M.NULL:b<=c[0]?M.HEAVY:b<=c[1]?M.MEDIUM:b<=c[2]?M.MODERATE:M.LIGHT};M.getTrafficText=function(a){switch(a){case M.HEAVY:return"\uc815\uccb4";case M.MEDIUM:return"\uc9c0\uccb4";case M.MODERATE:return"\uc11c\ud589";
case M.LIGHT:return"\uc6d0\ud65c"}return""};M.ROTATION=[null,M.STRAIGHT,M.LEFT,M.RIGHT,M.UTURN,M.BOTTOMLEFT,M.BOTTOMRIGHT,M.TOPRIGHT,M.TOPLEFT,M.GOHIGHWAY,M.GOHIGHWAYSIDE,M.GOUNDERPASS,M.GOUNDERPASSSIDE];M.TYPE={START:M.START,END:M.END,VIA:M.VIA};M.create=function(a){var b=new M;b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));b.seq=M.TYPE[a.text("type")]||a.number("seq");b.name=a.text("name");b.distance=a.text("distance");b.info=a.text("info");if(a.has("roadView"))b.roadview=Ma.create(a.object("roadView"));
b.rotation=M.ROTATION[a.number("arrowCode")]||M.STRAIGHT;b.restArea=a.number("guideCode")==35;b.tollgate=a.number("guideCode")==36;b.ferry=a.number("guideCode")==40;b.accList=a.array("accList");return b};M.prototype.isWaypoint=function(){return[M.START,M.END,M.VIA].indexOf(this.seq)>=0};dc.prototype.number=0;dc.prototype.name="";dc.prototype.time=0;dc.prototype.distance=0;dc.prototype.count=1;Sc.create=function(a){var b=new Sc;b.confirmid=a.split("^")[0];b.name=a.split("^")[1];b.number=a.split("^")[2];
return b};B.DISPLAY1="DISPLAY1";B.CREATE_AT="CREATE_AT";B.isKakaoUser=function(){return B.serviceName==="KAKAO"};B.isSuccess=function(a){return a.text("success")||a.text("status.code")===B.RESULT_CODE.SUCCESS};B.getUserinfo=function(a,b){require("server").favoriteUser(null,function(c){a.call(b,c)})};B.setService=function(a,b){a&&require("server").favoriteSelect(a.toObject?a.toObject():a,b)};B.findAllWithOther=function(a,b,c){if(B.isKakaoUser()){var d={};require("server").favoriteDaumList(b,function(e){d.daum=
B.loadAll_(e);require("server").favoriteList(b,function(b){d.kakao=B.loadAll_(b);a.call(c,d)})})}};B.findAll=function(a,b,c){require("server").favoriteList(b,function(b){a.call(c,B.loadAll_(b))})};B.loadAll_=function(a){if(B.isSuccess(a)){var b=[],c=a.find("favorites").map(function(a){var c=new B(a);if(c.route_form)c.route_form=JSON.parse(c.route_form);c.buslines&&c.buslines.split(",").forEach(function(a){b.push(new B(new Ga({type:"busstopline",seq:c.seq,key:c.key,buslines:a})))});return c}),c=c.concat(b);
return{list:c,myplaces:a.object("myplaces")?a.object("myplaces").raw():{}}}return null};B.copy=function(a,b){if(a||a.seq){var c=a.seq;require("server").favoriteCopy(c,b)}};B.add=function(a,b){a&&require("server").favoriteAdd(a.toObject?a.toObject():a,b)};B.remove=function(a,b){a&&require("server").favoriteDelete(a.toObject?a.toObject():a,b)};B.edit=function(a,b){a&&require("server").favoriteEditname(a.toObject?a.toObject():a,b)};B.addBusline=function(a,b){a&&require("server").favoriteAddBusline(a.toObject?
a.toObject():a,b)};B.removeBusline=function(a,b){a&&require("server").favoriteDeleteBusline(a.toObject?a.toObject():a,b)};B.homeToggle=function(a,b){if(a){a.seq=a.fid;require("server").favoriteHometoggle(a.toObject?a.toObject():a,b)}};B.getFavDisplays=function(a,b){var c=["\uc74d","\uba74","\ub3d9","\ub85c","\uac00"],d,e,f=b.name||"",g="";switch(a){case "point":f=b.name||b.oldname;break;case "address":if(b.infowindowSubAddress)g=b.infowindowSubAddress.address;else if(b.otherName){d=b.otherName.split(" ").reverse();
d.some(function(a){e=a.substr(a.length-1,1);g=g?a+" "+g:a;if(c.indexOf(e)!==-1)return true})}break;case "place":if(b.newAddress)g=b.newAddress;if(b.address)if(g){d=b.address.split(" ");d.forEach(function(a){e=a.substr(a.length-1,1);c.indexOf(e)!==-1&&(g=g+(" ("+a+")"))})}else g=b.address;break;case "busstop":(d=b.hname.trim())||(d=b.region+" "+b.region1+" "+b.region2);g=d||"";break;case "busline":g=b.region;break;case "route_pubtrans":case "route_subway":d=jQuery.extend([],b);b.length>2&&(d=[b[0],
b[b.length-1]]);case "route_car":case "route_walk":d||(d=b);f=d.map(function(a){return a.name}).join(" - ")}f={name:f};if(g)f.subtitle=g;return f};B.createFromPoint=function(a){var b=a.coords.getX(),c=a.coords.getY(),a=B.getFavDisplays("point",a);return{type:"point",key:b+"|"+c,display1:a.name,x:b|0,y:c|0}};B.createFromAddress=function(a){if(a.type=="point")return B.createFromPoint(a);var b=B.getFavDisplays("address",a);return{type:"address",key:a.docid,display1:b.name,display2:b.subtitle,x:a.coords.getX()|
0,y:a.coords.getY()|0}};B.createFromTraffic=function(a){var b=new B;b.type="speed";b.display1=a.desc;b.level=a.level;b.x=a.coords.getX()|0;b.y=a.coords.getY()|0;return b};B.createFromCctv=function(a){var b=new B;b.type="cctv";b.display1=a.roadname+" | "+a.name;b.key=a.id;b.x=a.coords.getX()|0;b.y=a.coords.getY()|0;return b};B.createFromPlace=function(a){var b=B.getFavDisplays("place",a),b={type:"place",key:a.id,display1:b.name,display2:b.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0};if(a instanceof
Ea||a.subway&&a.subway.id){b.type="subwaystation";b.key=a.subway?a.subway.id:a.id;if(a.lineName){if(b.display1.substr(-1,1)!=="\uc5ed")b.display1=b.display1+"\uc5ed";b.display1=b.display1+(" "+a.lineName)}}return b};B.createFromBusStop=function(a){var b="";a.codenames[0]&&(b=a.codenames.join(","));var c=B.getFavDisplays("busstop",a);return{type:"busstop",key:a.id,display1:c.name,display2:c.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0,its_id:b}};B.createFromBusLine=function(a){var b=null,c;for(c in X.TYPE)if(X.TYPE.hasOwnProperty(c)&&
X.TYPE[c]==a.type&&!jQuery.isNumeric(c)){b=c;break}c=B.getFavDisplays("busline",a);return{type:"busline",key:a.id,display1:c.name,display2:c.subtitle,busline_type:b}};B.createFromBusStopAndBusLine=function(a,b){var c="";a.codenames[0]&&(c=a.codenames.join(","));var d=B.getFavDisplays("busstop",a);return{type:"busstopline",key:a.id,display1:d.name,display2:d.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0,its_id:c,buslines:b.id}};B.createCarFromWaypoints=function(a){var b=a.map(function(a){return B.getRouteData(a)}),
a=B.getFavDisplays("route_car",a);return{type:"route_car",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};B.createTransitFromWaypoints=function(a){var b=a[a.length-1],c=[];c.push(B.getRouteData(a[0]));c.push(B.getRouteData(b));a=B.getFavDisplays("route_pubtrans",a);return{type:"route_pubtrans",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(c)}};B.createWalkFromWaypoints=function(a){var b=a.map(function(a){return B.getRouteData(a)}),a=B.getFavDisplays("route_walk",
a);return{type:"route_walk",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};B.createSubway=function(a,b){var c=[];c.push({name:a.name,key:a.id,x:a.coords.getX()||0,y:a.coords.getY()||0,poi_type:"SUBWAYSTATION"});c.push({name:b.name,key:b.id,x:b.coords.getX()||0,y:b.coords.getY()||0,poi_type:"SUBWAYSTATION"});var d=B.getFavDisplays("route_subway",[a,b]);return{type:"route_subway",key:a.id+"|"+b.id,display1:d.name,display2:d.subtitle,route_form:JSON.stringify(c)}};B.getRouteData=
function(a){return{name:a.name,x:a.coords.getX(),y:a.coords.getY(),poi_type:a.pointType=="NORMAL"?"POINT":a.pointType,key:a.id}};B.updateViewDataFromFav=function(a){var b=function(a){var b=false;if(a.route_form&&a.route_form.length>1){a.route_form.some(function(e){if(a.display1.indexOf(e.name)>-1)b=true;else{b=false;return true}});a.route_form.forEach(function(b,d){if(d==0){b.iconClass="depart";b.iconName="\ucd9c\ubc1c"}else if(d==a.route_form.length-1){b.isArrival=true;b.iconClass="arrive";b.iconName=
"\ub3c4\ucc29"}else{b.iconClass="stopby";b.iconName="\uacbd\uc720"}})}return b};a.isHomeText=a.isHome=="true"?"\ud648 \ubaa9\ub85d \uc81c\uac70":"\ud648 \ubaa9\ub85d \ucd94\uac00";a.isText=true;jQuery.extend(a,B.VIEW_INFO[a.type]);switch(a.type){case "busstop":a.isBusStop=true;a.wrapClass="favorite_registerated";if(a.buslines){a.isBuslines=true;a.wrapClass="favorite_busroute"}else a.isBuslines=false;if(a.subtitle){b=a.subtitle.split(" | ");if(b.length>1){a.isSubInfo=true;a.subInfo=b[0]}}break;case "busline":a.isText=
false;a.isBusInfo=true;if(b=X.TYPE[a.busline_type]){a.isBusIcon=true;a.busIconClass="bus"+b;a.busIconName=X.STRING[b]}if(b=a.subtitle){a.isSubInfo=true;a.subInfo=b}break;case "route_car":if(b(a)){a.isText=false;a.isRouteInfo=true}break;case "route_pubtrans":if(b(a)){a.isText=false;a.isRouteInfo=true}break;case "route_walk":if(b(a)){a.isText=false;a.isRouteInfo=true}break;case "route_subway":if(b(a)){a.isText=false;a.isRouteInfo=true}}};B.setBusstopLines=function(a,b,c){a=jQuery(a);b.forEach(function(b){if(b.type==
"busstop"&&b.buslines){var e=b.buslines.split(",").map(function(a){return a.split("#")[0]});Y.findTransitBusStop(b.key,e,function(b){return function(d){var e=a.find(".wrap_busstation[data-key="+b.key+"]");e.find("span.txt_infobus").remove();d.lines.forEach(function(a,d){var g=X.TYPE[a.type]||a.type,h=X.STRING[g],m=a.name;if(a.direction){var p=a.direction;a.arrival&&(p=a.arrival.direction2||a.arrival.direction||a.direction);m=m+("("+p+")")}g='<span class="txt_infobus"><span class="ico_busline ico_bus'+
g+'">'+h+"</span>"+m+"</span>";if(c){h=jQuery('<a href="#"></a>').addClass("link_busline");h.data({stopid:b.key,lineid:a.id});h.html(g);g=h}else g=jQuery(g);d==0&&g.css("margin-top","11px");e.append(g).show()})}}(b))}})};B.typeText={address:"\uc8fc\uc18c",busstopline:"\ubc84\uc2a4",busstop:"\ubc84\uc2a4\uc815\ub958\uc7a5",busline:"\ubc84\uc2a4\ub178\uc120",place:"\uc7a5\uc18c",speed:"\uc18d\ub3c4\uc815\ubcf4",point:"\uc704\uce58\uc815\ubcf4",cctv:"CCTV",roadview:"\ub85c\ub4dc\ubdf0",route_car:"\uc790\ub3d9\ucc28",
route_pubtrans:"\ub300\uc911\uad50\ud1b5",route_walk:"\ub3c4\ubcf4",route_subway:"\uc9c0\ud558\ucca0"};B.RESULT_CODE={SUCCESS:"SUCCESS",KAPI_FAIL:"KAPI_FAIL",INVALID_PARAMETER:"INVALID_PARAMETER",DUPLICATE_ITEM:"DUPLICATE_ITEM",NOT_EXIST_ITEM:"NOT_EXIST_ITEM",OVER_MAX_COUNT:"OVER_MAX_COUNT",INTERNAL_PROBLEM:"INTERNAL_PROBLEM",NO_DAUM_LOGIN:"NO_DAUM_LOGIN",NO_LINKED_KAKAO_ACCOUNT:"NO_LINKED_KAKAO_ACCOUNT",NOT_KAKAO_MAP_USER:"NOT_KAKAO_MAP_USER",NOT_KAKAO_FAVORITE_USER:"NOT_KAKAO_FAVORITE_USER",OVER_MAX_HOME_COUNT:"OVER_MAX_HOME_COUNT"};
B.VIEW_INFO={place:{typeClass:"location",typeName:"\uc7a5\uc18c"},address:{typeClass:"location",typeName:"\uc8fc\uc18c"},point:{typeClass:"location",typeName:"\uc9c0\uc810"},subwaystation:{typeClass:"location",typeName:"\uc9c0\ud558\ucca0\uc5ed"},roadview:{typeClass:"roadview",typeName:"\ub85c\ub4dc\ubdf0"},storeview:{typeClass:"storeview",typeName:"\uc2a4\ud1a0\uc5b4\ubdf0"},busstop:{typeClass:"busstation",typeName:"\uc815\ub958\uc7a5"},busline:{typeClass:"busstation",typeName:"\ubc84\uc2a4"},route_car:{typeClass:"carroute",
typeName:"\uc790\ub3d9\ucc28 \uae38\ucc3e\uae30"},route_pubtrans:{typeClass:"transportation",typeName:"\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30"},route_walk:{typeClass:"walkingroute",typeName:"\ub3c4\ubcf4 \uae38\ucc3e\uae30"},route_subway:{typeClass:"transportation",typeName:"\uc9c0\ud558\ucca0 \uae38\ucc3e\uae30"}};Oa.create=function(){var a=new Oa;a.waypoints.push(null);a.waypoints.push(null);return a};Oa.prototype.getValuableWaypoints=function(){return this.waypoints.filter(function(a){return a!=
null},this)};Oa.prototype.isOriginDest=function(){var a=this.waypoints.length-1;return this.waypoints[0]&&this.waypoints[a]?true:false};Oa.prototype.setWaypoints=function(a){this.waypoints=a};Oa.prototype.getViaCount=function(){return this.waypoints.slice(1,this.waypoints.length-1).filter(function(a){return a!=null},this).length};Oa.prototype.addFirstEmptyViaWaypoint=function(a){for(var b=this.waypoints,c=b.length-1,d=false,e=1;e<b.length-1;e++)if(b[e]==null){d=true;b[e]=a;break}d||this.waypoints.splice(c,
0,a)};Oa.prototype.isViaEmpty=function(){return!this.waypoints.every(function(a){return a!=null},this)};Oa.prototype.addWaypoint=function(a,b){this.waypoints.splice(a,0,b)};Oa.prototype.removeWaypoint=function(a){return this.waypoints.splice(a,1)[0]};Oa.prototype.setWaypoint=function(a,b){this.waypoints[a]=b};Oa.prototype.getLastIndex=function(){return this.waypoints.length-1};Oa.prototype.getWaypoints=function(){return this.waypoints.slice()};Oa.prototype.isEmptyOriginDest=function(){return!this.waypoints[0]&&
!this.waypoints.slice(-1)[0]};Bc.prototype.get=function(a){return this.data_[a]};Bc.prototype.set=function(a,b){var c=this;if(c.data_[a]!==b){c.data_[a]=b;c.listeners_.forEach(function(b){b[0]===a&&b[1].call(c)})}return c};Bc.prototype.on=function(a,b){this.listeners_.push([a,b]);return this};db.prototype.id=0;db.SKE="SKE";db.SKG="SKG";db.GSC="GSC";db.SOL="SOL";db.HDO="HDO";db.E1G="E1G";db.NHO="NHO";db.prototype.fetchFacilities=function(){require("server").placeById(this.id,function(a){this.loadFacilities(a);
this.onLoad.notify()}.bind(this))};db.prototype.loadFacilities=function(a){a=a.object("place.placeaddinfos.oil");this.facilities=[a.text("maint")=="Y"?"maint":false,a.text("carwash")=="Y"?"carwash":false,a.text("store")=="Y"?"store":false,a.text("gas")=="Y"?"gas":false]};ec.prototype.level=0;ec.prototype.index=0;Uc.prototype.index=0;Uc.prototype.loadAt_=function(a){this.name=a.text("title")||"";this.desc=a.text("description")||"";this.imgUrl=a.text("imgUrl")||null;this.coords=new daum.maps.Coords(a.text("wx"),
a.text("wy"));this.linkUrl=a.text("linkUrl")};x.THEMEID=" storeview food     oil  hospital hotel  ".split(" ");x.prototype.clearResult_=function(a){this.loaded=a;this.guideMessage=null;this.premiumKeyword=this.message="";this.snSelected=false;this.themeId=0;this.themeCategories.length=0;this.categories.length=0;this.categoryPath.length=0;this.categoryChildren.length=0;this.locationMessage="";this.placeAdCount=this.placeCount=this.places.length=0;this.reviewCount=this.reviews.length=0;this.originalKeyword=
void 0;this.spellCandidate.length=0;this.homonyms.length=0;this.addressCount=this.addresses.length=0;this.highlightedFirst=false;this.busesCount=this.buses.length=0;this.busStopCount=this.busStops.length=0;this.busRegions.length=0;this.busTypes.length=0;this.busTypeId_=this.busRegionId_=null;this.landmarks=[];this.whatsHere=this.whatsHere_;this.coordinates=null;this.coordinatesText="";this.inferredKeyword=void 0;this.gasType=this.sortType=this.eucKrKeyword="";this.filterId_=null;this.pageCount=0;
this.tileSearch=false;this.trans_map_type=0;this.target=null;this.relkey="";this.isBuilding=this.isHighway=this.addressRetry=false;this.nextGuide=this.currentGuide=this.exposure_level=null;this.qaType_="";this.repeated_=false;this.busRecommend="";this.busRecommendTop=false;this.dssSrcId=this.analysis=""};x.prototype.clear=function(){this.keyword_="";this.cidx_=null;this.clearSort();this.clearResult_(false);this.setInitialMode_()};x.prototype.setSearchBusStop=function(a){this.willSearchBusStop_=a};
x.prototype.noExactSearch=function(){this.exactSearch_=false};x.prototype.setThemeId=function(a,b,c){this.mode_=x.THEME;this.themeId_=a;this.themeCategory=this.themeCategory_=b||0;this.keyword_=c||"";this.setPage(this.defaultPage_)};x.prototype.setIssue=function(a){this.kmlData_=a;this.findIssueMap_()};x.THEME="theme";x.THEMEBUSSTOP="themebusstop";x.ALL="all";x.PLACE="place";x.ADDRESS="address";x.BUSES="buses";x.BUSSTOPS="busstops";x.BUSSTOP="busstop";x.BUS="bus";x.ISSUEMAP="issuemap";x.prototype.setThemeBusStopMode=
function(){this.mode_=x.THEMEBUSSTOP;this.setPage(this.defaultPage_)};x.prototype.setInitialMode_=function(){this.mode_=null};x.prototype.setAllMode=function(){this.mode_=x.ALL;this.setPage(this.defaultPage_)};x.prototype.setPlaceMode=function(a){this.mode_=x.PLACE;!a&&this.setPage(this.defaultPage_)};x.prototype.setAddressMode=function(a){this.mode_=x.ADDRESS;!a&&this.setPage(this.defaultPage_)};x.prototype.setBusMode=function(a,b){if(a==0)this.mode_=x.BUSES;else if(a==1)this.mode_=x.BUSSTOPS;!b&&
this.setPage(this.defaultPage_)};x.prototype.setBusStopMode=function(a){this.mode_=x.BUSSTOP;!a&&this.setPage(this.defaultPage_)};x.prototype.getKeyword=function(){return this.keyword_};x.prototype.setKeyword=function(a,b,c){this.whatsHere_=!!b;this.mode_=c||x.ALL;if(this.keyword_=a){this.sort_=this.defaultSort_|0;this.sort=this.defaultSort_|0;this.categoryDepth_=this.category_=this.defaultSort_=0;this.correction_=true;this.cidx_=this.defaultCidx_?this.cidx_:null;this.defaultCidx_=false;this.params_=
this.isParams_?this.params_:null;this.isParams_=false;this.placeCount=0;this.setPage(this.defaultPage_)}};x.prototype.setWhatsHereKeyword=function(a){this.bounds_=null;if(a.name)this.setKeyword(a.name,a.coords);else{this.clearResult_(true);this.coordinatesText="\ud574\ub2f9 \uc9c0\uc5ed\uc740 \uc8fc\uc18c\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4";this.coordinates=a.coords;this.whatsHere_=true;this.onChange.notify()}};x.prototype.setPage=function(a){this.page_=a||1;this.page=a||1;this.defaultPage_=
1;this.doRequest_()};x.prototype.setBusRegionId=function(a){this.busRegionId_=a};x.prototype.setBusTypeId=function(a){this.busTypeId_=a};x.prototype.getBusRegionId=function(){return this.busRegionId_};x.prototype.getBusTypeId=function(){return this.busTypeId_};x.prototype.setRepeatFlag=function(a){this.repeated_=a};x.prototype.setLiteral=function(){this.cidx_=this.targetCidx_;this.getMode()==x.ALL?this.setAllMode():this.setPlaceMode()};x.prototype.setSnSelected=function(a,b){this.snSelected=true;
this.keyword_=b;this.getMode()==x.ALL?this.setAllMode():this.setPlaceMode()};x.prototype.setSort=function(a){this.sort=this.sort_=a};x.prototype.clearSort=function(){this.sort=this.sort_=0};x.prototype.setBounds=function(a){console.assert(a===null||a instanceof daum.maps.CoordsBounds);this.bounds_=a};x.prototype.hasBounds=function(){return this.bounds_!=null};x.prototype.doRequest_=function(){if(/^\s*(\d+(\.\d+)?)\s*,\s*(\d+(\.\d+)?)\s*$/.test(this.keyword_)){var a=Number(RegExp.$1),b=Number(RegExp.$3);
if(a>=32&&a<=42&&b>=123&&b<=133){this.clearResult_(true);this.coordinatesText="\uc704\ub3c4, \uacbd\ub3c4 : "+a+", "+b;this.coordinates=(new daum.maps.LatLng(a,b)).toCoords();this.onChange.notify();return}}switch(this.mode_){case null:break;case x.THEME:this.findTheme_();break;case x.THEMEBUSSTOP:this.findThemeBusStop_();break;case x.ALL:this.findAll_();break;case x.ADDRESS:this.findAddresses_();break;case x.PLACE:this.findPlaces_();break;case x.BUSES:this.findBuses_();break;case x.BUSSTOPS:this.findBusStops_();
break;case x.BUSSTOP:this.findBusStop_();break;case x.ISSUEMAP:this.findIssueMap_();break;default:console.assert(false,"Invalid state: "+this.mode_)}this.mode_!=x.PLACE&&t.logSearchKeyword(this.keyword_)};x.prototype.findIssueMap_=function(){require("server").issue({kml:this.kmlData_},this.loadIssueMap.bind(this))};x.prototype.loadIssueMap=function(a){this.clearResult_(true);var b=1;a.find("issueInfo.items").forEach(function(a){this.places.push(new Uc(b,a));b++},this);this.onIssue.notify()};x.prototype.findTheme_=
function(){var a=this.bounds_;if(a){var b={},c=x.THEMEID[this.themeId_];if(!c)c=this.themeId_;b.theme_id=c;if(this.themeId_==1)b.theme_type="stheme";if(this.themeCategory_)b.cateId=this.themeCategory_;if(this.pageSize_)b.pageSize=this.pageSize_;b.cpage=this.page_;c=a.getSouthWest();a=a.getNorthEast();b.rect=(c.getX()|0)+","+(c.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0);if(this.sort_)b.sort=this.sort_|0;require("server").searchTheme(b,this.loadTheme_.bind(this))}};x.prototype.loadTheme_=function(a){this.clearResult_(true);
this.themeId=this.themeId_;var b=new gc;b.id=0;b.name="\uc804\uccb4";b.themeId=this.themeId_;a.find("cateGroupList").forEach(function(a){a=new gc(a);a.themeId=this.themeId_;if(a.themeId!=4){this.themeCategories.push(a);b.count=b.count+a.count}},this);b.count>0&&this.themeCategories.unshift(b);this.places=a.find("place").map(function(a,b){return new ec(0,b+1,a)});this.placeCount=a.number("place_totalcount");this.placeAdCount=0;this.pageCount=a.number("page_count");this.onChange.notify(null)};x.prototype.findThemeBusStop_=
function(){var a=this.bounds_;if(a){var b={type:"busStop",q:"xxx",theme_id:"busStop",spage:"1"},c=a.getSouthWest(),a=a.getNorthEast();b.rect=(c.getX()|0)+","+(c.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0);if(this.sort_)b.sort=this.sort_|0;require("server").searchBusStopWithBounds(b,this.loadThemeBusStop_.bind(this))}};x.prototype.loadThemeBusStop_=function(a){this.clearResult_(true);this.busStops=a.find("List").map(function(a){return new Y(a)});this.busStopCount=a.number("total_count");this.onChange.notify(null)};
x.setBoundsParams=function(a,b){if(b){a.mcheck="Y";a.rect=(b.getSouthWest().getX()|0)+","+(b.getSouthWest().getY()|0)+","+(b.getNorthEast().getX()|0)+","+(b.getNorthEast().getY()|0)}};x.prototype.findAll_=function(){var a={q:this.keyword_,msFlag:"A"};x.setBoundsParams(a,this.bounds_);a.sort=this.sort_;if(this.willSearchBusStop_)a.gb="R";if(this.category_){a.cate_id=this.category_;if(this.categoryDepth_)a.cate_depth=this.categoryDepth_}if(!this.correction_)a.translate="N";if(this.filterId_)a.srcid=
this.filterId_;if(this.localCode_){a.local_code=this.localCode_;this.localCode_=void 0}if(this.cidx_)this.defaultSidx_?a.sidx=this.cidx_:a.cidx=this.cidx_;this.defaultSidx_=false;if(this.snSelected)a.sn_selected="y";require("server").search(a,this.loadAll_.bind(this))};x.prototype.loadMessage_=function(a){this.guideMessage=a.find("guide_message").map(function(a){return new Tc(a)});this.premiumKeyword=a.text("premium_keyword");this.sn_query=a.text("sn_query");if(a.text("oil_yn")=="y"){this.sortType=
"gas";if(a.text("lpg_yn")=="y")this.gasType="lpg"}this.targetCidx_=a.text("sidx")||"";if(a.find("place").length==0&&a.find("premium").length==0&&a.find("special").length==0&&!this.bounds_){var b=new Tc;b.keyword=this.keyword_;this.guideMessage=[b];this.inferredKeyword=this.guideMessage[0]?this.guideMessage[0].keyword:""}else{if(a.find("guide_message").length==0&&!this.bounds_){b=new Tc;b.keyword=this.keyword_;b.bunji=a.text("sn_query");this.guideMessage=[b]}if(this.guideMessage[0]){this.inferredKeyword=
this.guideMessage[0].keyword;this.sn_query=this.guideMessage[0].bunji}else this.inferredKeyword="";if(this.guideMessage[1])this.targetCidx_=this.guideMessage[1].cidx}};x.prototype.loadBusMessage_=function(a){this.currentGuide={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||
[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]};this.nextGuide={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]}};x.prototype.getInferredKeyword=
function(){return this.inferredKeyword};x.prototype.loadCategories_=function(a){if(this.category_&&!this.bounds_){var b=[];a.text("cateLink")&&(b=a.text("cateLink").split("|").map(function(a,b){var e=new fc;e.id=a.split(":")[0];e.depth=b+1;e.name=a.split(":")[1];return e}));this.categoryPath=b;a.find("cateGroupList").forEach(function(a){var b=new fc;b.id=a.number("id");b.name=a.text("name");b.id>0&&this.categoryChildren.push(b)},this)}};x.prototype.loadEucKrKeyword_=function(a){this.eucKrKeyword=
a.text("encodedQ")};x.prototype.loadAll_=function(a){var b=Application.whatsHereController.getCache(this.keyword_),c;this.clearResult_(true);this.loadEucKrKeyword_(a);this.loadMessage_(a);this.isBuilding=a.text("building_yn")=="y";this.isHighway=a.text("highway_yn")=="y";if(a.text("trans_map_type")){this.trans_map_type=a.text("trans_map_type");if(this.trans_map_type=="RESULT_JUNGDAP_REDIRECT"){this.keyword_=a.text("trans_map_str");this.originalKeyword=a.text("org_query")}else this.spellCandidate=
[a.text("trans_map_str")]}this.homonyms=a.find("samename").map(function(a){return a.text("value")});this.category_=a.number("cate_id");this.loadCategories_(a);if(!(this.isBuilding&&this.placeCount>0)&&!this.isHighway){c=a.find("address").map(function(a){return new Ca(a)});if(b){if(c[0]){b.subList=c[0].subList;b.infowindowSubAddress=c[0].infowindowSubAddress;b.zipcode=c[0].zipcode;b.zonenum=c[0].zonenum;b.buildingName=c[0].buildingName}this.addresses=[Application.whatsHereController.toAddress(b)];
this.addressRetry=false;this.addressCount=1}else{this.addresses=c;this.addressRetry=a.text("address_retry")=="y";this.addressCount=a.number("addr_count")}}this.locationMessage=a.text("origin_loc");this.retry=a.text("retry")=="y";this.setPlaceModel_(a);this.reviewCount=a.number("review_count");this.highlightedFirst=a.text("mng_type")=="single";this.exposure_level=a.number("exposure_level");this.buses=a.find("bus").map(function(a){return new X(a)});this.busesCount=a.number("bus_cnt");this.busStops=
a.find("busStop").map(function(a){return new Y(a)});this.busStopCount=a.number("bus_count")||a.number("busStop_cnt");this.pageCount=a.number("page_count");if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});switch(a.text("MSFLAG")){case "S":this.mode_=x.PLACE}this.tileSearch=a.text("tile_search")==="true";this.target=a.text("target");this.busRecommend=a.text("bus_recommend");this.busRecommendTop=
a.text("bus_recommend_top")=="true";this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};x.prototype.findAddresses_=function(){require("server").searchAddress({q:this.keyword_,cpage:this.page_},this.loadAddresses_.bind(this))};x.prototype.loadAddresses_=function(a){var b=Application.whatsHereController.getCache(this.keyword_),c;this.clearResult_(true);this.loadMessage_(a);this.loadEucKrKeyword_(a);c=a.find("List").map(function(a){return new Ca(a)});if(b){if(c[0]){b.subList=
c[0].subList;b.infowindowSubAddress=c[0].infowindowSubAddress;b.zipcode=c[0].zipcode;b.buildingName=c[0].buildingName}this.addresses=[Application.whatsHereController.toAddress(b)];this.addressRetry=false;this.addressCount=1}else{this.addresses=c;this.addressCount=a.number("total_count");if(a.text("retry")=="y")this.addressRetry=true}this.pageCount=a.number("page_count");this.tileSearch=a.text("tile_search")==="true";this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};
x.prototype.findPlaces_=function(){var a={q:this.keyword_,msFlag:"S"};x.setBoundsParams(a,this.bounds_);a.page=this.page_;if(this.willSearchBusStop_)a.gb="R";a.sort=this.sort_;if(this.category_){a.cate_id=this.category_;if(this.categoryDepth_)a.cate_depth=this.categoryDepth_}if(!this.correction_)a.translate="N";if(this.filterId_)a.srcid=this.filterId_;if(this.cidx_)this.defaultSidx_?a.sidx=this.cidx_:a.cidx=this.cidx_;this.defaultSidx_=false;if(this.snSelected)a.sn_selected="y";require("server").search(jQuery.extend(a,
this.params_),this.loadPlaces_.bind(this))};x.prototype.setPlaceModel_=function(a){this.places=[];var b=[a.find("place"),a.find("special"),a.find("premium")],c=[],d=0,e=0,f=a.text("mrank_type"),g=null;if(this.exactSearch_&&(f=="answer"||f=="answerad")){g=new ec(3,0,b[0][0]);b[0].splice(0,1);this.places.push(g)}for(var j=2;j>=0;--j){var l=0;b[j].forEach(function(a,b){var f=a.number("confirmid");if(jQuery.inArray(f,c)>=0)e++;else{c.push(f);if(!j){b=d;d++}if(!a.number("x")&&!a.number("y")){e++;l++}else this.places.push(new ec(j,
b+1-l,a))}},this)}this.placeCount=(a.number("place_totalcount")<=15?a.number("place_totalcount")-e:a.number("place_totalcount"))||a.number("place_count");this.placeAdCount=a.find("special").length+a.find("premium").length};x.prototype.loadPlaces_=function(a){this.clearResult_(true);this.loadEucKrKeyword_(a);this.exposure_level=a.number("exposure_level");this.loadMessage_(a);this.loadCategories_(a);this.homonyms=a.find("samename").map(function(a){return a.text("value")});this.locationMessage=a.text("origin_loc");
this.setPlaceModel_(a);this.category_=a.number("cate_id");this.tileSearch=a.text("tile_search")==="true";this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};x.prototype.findBuses_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;x.setBoundsParams(a,this.bounds_);
require("server").searchBus(jQuery.extend(a,this.params_),this.loadBuses_.bind(this))};x.prototype.loadBuses_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.loadEucKrKeyword_(a);this.originalKeyword=a.text("query");this.busTypeId_=a.text("bus_type_id");this.busRegionId_=a.text("region_id1");this.buses=a.find("List").map(function(a){return new X(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",
id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.busRecommend="busname";if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});this.qaType_=a.text("current_guide.qa_type")||"";this.tileSearch=a.text("tile_search")==="true";this.busesCount=a.number("bus_cnt")||
a.number("total_count");this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};x.prototype.findBusStops_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;x.setBoundsParams(a,this.bounds_);require("server").searchBusStop(jQuery.extend(a,this.params_),this.loadBusstops_.bind(this))};
x.prototype.loadBusstops_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.loadEucKrKeyword_(a);this.originalKeyword=a.text("query");this.busTypeId_=a.text("bus_type_id");this.busRegionId_=a.text("region_id1");this.busStops=a.find("List").map(function(a){return new Y(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),
id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.busRecommend="busstop";if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});this.qaType_=a.text("current_guide.qa_type")||"";this.tileSearch=a.text("tile_search")==="true";this.busStopCount=a.number("total_count");this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=
a.text("srcid")||"";this.onChange.notify(null)};x.prototype.loadReviews_=function(a){this.clearResult_(true);this.loadMessage_(a);this.themeId=this.themeId_;this.loadEucKrKeyword_(a);this.reviews=a.find("review").map(function(a){return new Na(a)});this.reviewCount=a.number("total_count");this.tileSearch=a.text("tile_search")==="true";this.onChange.notify(null)};x.prototype.findBusStop_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=
this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;require("server").searchBusStop(a,this.loadBusStop_.bind(this))};x.prototype.loadBusStop_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.originalKeyword=a.text("query");this.busStops=a.find("List").map(function(a){return new Y(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=
a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.qaType_=a.text("current_guide.qa_type")||"";this.busRecommend="busstop";this.busRecommendTop=a.text("bus_recommend_top")=="true";this.tileSearch=a.text("tile_search")==="true";this.busStopCount=a.number("total_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};x.prototype.isAllMode=
function(){return this.mode_==x.ALL};x.prototype.getMode=function(){return this.mode_};x.prototype.getCidx=function(){return this.cidx_};x.prototype.getThemeName=function(){return x.THEME_NAME[this.themeId]};x.prototype.setCategory=function(a){this.category_=a.id;this.categoryDepth_=a.depth;this.bounds_=null;this.mode_==x.PLACE?this.setPlaceMode():this.setAllMode()};x.prototype.setKeywordParams=function(a){this.isParams_=true;this.params_=a};x.prototype.isThemeMode=function(){return this.mode_===
x.THEME};x.prototype.isBusTabMODE=function(){return this.mode_===x.BUSES||this.mode_===x.BUSSTOPS};x.prototype.isBusesMODE=function(){return this.mode_===x.BUSES};x.prototype.isBusstopsMODE=function(){return this.mode_===x.BUSSTOPS};x.prototype.isPlaceMode=function(){return this.mode_===x.PLACE};x.prototype.isAddressMode=function(){return this.mode_===x.ADDRESS};x.prototype.isReviewMode=function(){return this.mode_===x.REVIEW};x.prototype.isBusStopMode=function(){return this.mode_===x.BUSSTOP};x.prototype.setCorrection=
function(){this.keyword_=this.originalKeyword;this.correction_=false;this.setPage(this.defaultPage_)};x.prototype.getBounds=function(){return this.bounds_};x.prototype.setFilterId=function(a){this.filterId_=a};x.prototype.setQaType=function(a){this.qaType_=a};x.prototype.getQaType=function(){return this.qaType_};x.prototype.setLocalCode=function(a){this.localCode_=a};x.prototype.setDefaultSort=function(a){this.defaultSort_=a|0};x.prototype.getCategory=function(){return this.category_};x.prototype.setDefaultLiterally=
function(a,b){this.defaultCidx_=true;this.defaultSidx_=!b;this.cidx_=a};x.prototype.getLiterally=function(){return this.cidx_};x.prototype.setDefaultPage=function(a){this.defaultPage_=parseInt(a)||1};x.prototype.setPageSize=function(a){this.pageSize_=a};x.findPosition=function(a,b){var c=new x;c.setSearchBusStop(true);c.onChange.add(function(){var a=c.addresses[0]||c.places[0]||c.reviews[0];b(a?a.coords:null,c)},this);c.setKeyword(a)};rb.find=function(a,b,c){rb.find_(a,b,c)};rb.find_=function(a,b,
c){a={x:a.getX(),y:a.getY()};require("server").reverseGeocoding(a,function(a){b.call(c,rb.load_(a))})};rb.load_=function(a){return new rb(a)};rb.code_=function(a){return!a?{}:{code:a.text("code"),fullName:a.text("fullName"),name0:a.text("name0"),code1:a.text("code1"),name1:a.text("name1"),code2:a.text("code2"),name2:a.text("name2"),code3:a.text("code3"),name3:a.text("name3")}};define("model/LocalPlatformAd",[],function(){var a=A.localAdData;return{find:function(b){return a?a[b]:null}}});define("model/MyRouteInfo",
["jquery","util/Storage"],function(a,b){function c(a){return{name:a.name,id:a.id,index:a.index,pointType:a.pointType,coords:{x:a.coords.getX(),y:a.coords.getY()}}}function d(a,b){f=b.filter(function(b){var c=true;if(a.id){if(a.id==b.id){a.use=b.use+1;c=false}}else if(a.coords.x==b.coords.x&&a.coords.y==b.coords.y){a.use=b.use+1;c=false}return c?b:false});return a}function e(a,b){return b.filter(function(b){return valid=b.waypoints.every(function(b,c){return a.waypoints[c].coords.x==b.coords.x&&a.waypoints[c].coords.y==
b.coords.y})}).length!=0}var f=[],g=[];return{addWaypoint:function(a){f=JSON.parse(b.getItem("waypoints"))||[];object=c(a);object.time=+new Date;object.use=1;var e=+new Date;f=f.filter(function(a){return e-a.time<5184E6?a:false});object=d(object,f);f.unshift(object);f.length>1E3&&f.pop();console.log(object,f);b.setItem("waypoints",JSON.stringify(f))},getWaypoints:function(){return JSON.parse(b.getItem("waypoints"))||[]},removeWaypoint:function(a){f=JSON.parse(b.getItem("waypoints"))||[];f.splice(a,
1);b.setItem("waypoints",JSON.stringify(f))},clearWaypoints:function(){b.removeItem("waypoints")},addRoute:function(a,d){g=JSON.parse(b.getItem("routes"))||[];var f={waypoints:a.map(c)};if(!e(f,g)){f.methodType=d||"";f.time=+new Date;g.unshift(f);g.length>10&&g.pop();b.setItem("routes",JSON.stringify(g))}},getRoutes:function(){return JSON.parse(b.getItem("routes"))||[]},removeRoute:function(a){g=JSON.parse(b.getItem("routes"))||[];g.splice(a,1);b.setItem("routes",JSON.stringify(g))},clearRoutes:function(){b.removeItem("routes")},
getStatus:function(){return JSON.parse(b.getItem("status"))||0},setStatus:function(a){b.setItem("status",a)}}});Ub.findAt=function(a,b,c){require("server").poi({X:a.getX()|0,Y:a.getY()|0,LEVEL:b},function(a){c(a.find("address")[0]?Ub.loadAddress_(a.find("address")[0]):ja.loadAt_(a))})};Ub.loadAddress_=function(a){var b=new Ca;b.name=a.text("newAddress");b.oldname=a.text("address");b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b};Ub.findAll=function(a,b,c){require("server").placesInBounds(a,
function(a){b.call(c,Ub.loadAll_(a))})};Ub.loadAll_=function(a){var b=[],c=[],d=[],e=[];if(a.text("resultCode")=="SUCCESS"){a=a.raw();if(a.places)b=a.places;if(a.addresses)c=a.addresses;if(a.trafficData&&a.trafficData.busStops)d=a.trafficData.busStops;if(a.trafficData&&a.trafficData.subwayStations)e=a.trafficData.subwayStations}return{places:b,addresses:c,busStops:d,subwayStations:e}};ja.prototype.loadAt_=function(a){this.id=a.number("confirmid")||a.number("new_id");this.placeid=a.number("id")||a.number("confirmid");
this.imgsrc=a.text("img")||a.text("img1")?"http://t1.daumcdn.net/thumb/C84x76/?fname="+(a.text("img")||a.text("img1")):"";this.name=String.stripTags(a.text("name"))||a.text("vname");this.roadview=a.text("roadview")?new Ma(a.text("roadview")):null;this.phone=[a.text("tel")];this.category=a.text("last_cate_name")||a.text("cate_name_depth2")||"";this.isFiy=true;var b=a.text("full_category_ids").split("|");if(this.category){var c=this.placeCategory=new fc;c.id=a.number("last_cate_id");if(jQuery.inArray("22951",
b)!=-1&&jQuery.inArray("22956",b)!=-1)this.isFiy=false;if(String.stripTags(a.text("cate_name_depth1"))=="\uc758\ub8cc,\uac74\uac15")this.noAdReview=true;var d=a.number("last_cate_depth");if(a.text("catetype")=="G"&&jQuery.inArray("2529",b)==-1){d=parseInt(d)-1;this.category=a.text("cate_name_depth"+d)||a.text("cate_name_depth2")||"";c.id=b[d-1]||b[1]}c.depth=d;c.name=this.category}this.categories=[1,2,3,4,5].map(function(b){return String.stripTags(a.text("cate_name_depth"+b))}).filter(Boolean);if(b=
a.text("new_address_disp")){b=b.split("|").filter(function(a){return!!a});this.newAddress=b.join(" ")}else this.newAddress="";if(b=a.text("address_disp"))if(this.newAddress){b=b.split("|");this.address=b[2]?(b[2]+" "+b[3]).trim():""}else{b=b.split("|").filter(function(a){return!!a});this.address=b.join(" ")}else this.address="";this.zipcode=a.text("new_zipcode");this.vote=a.number("grade_count");this.star=a.number(a.has("reviewCount")?"star_5":"grade_5");this.grade=a.number("grade_5");this.review=
a.number("reviewCount");if(a.has("x"))this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.cardBenefits=vb.parseString(a.text("card"));switch(a.text("source")){case "opinet":this.gas=new db(a);this.gas.id=this.id;break;case "estate":this.estate=a.number("outlinksrvc_id");break;case "subway":this.subway=new Ea;this.subway.id=a.text("sourceId");break;case "traffic":if(/^BT/.test(a.text("sourceId"))){this.intercity="intercityBus";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else if(/^(PO|FT)/.test(a.text("sourceId"))){this.intercity=
"ferry";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else if(/^IS/.test(a.text("sourceId"))){this.intercity="island";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else this.intercityId=this.intercity=null}this.website=a.text("homepage");this.office_hours=a.text("office_hours").split("|");this.phone=this.phone.concat(a.text("phoneSynonyms").split(" ").filter(Boolean));this.desc=a.text("comment");this.storeview=a.number("storeview_id");this.ad=a.text("source")==
"ad";this.sourceName=a.text("source");this.realEstates=a.text("real_estate_count")||"";this.hub_data=a.text("hub_data").split("|")[0];if(a.text("point_extension_yn")=="Y")this.pointExtension=true;if(a.text("related_place"))this.dup_data=a.text("related_place").split("|").map(function(a){return Sc.create(a)});this.dangol=a.text("outlinksrvc")=="dangol";this.outsrcId=a.text("outlinksrvc");this.outsrclinkId=a.text("outlinksrvc_id");b=a.text("courseinfo").split("~");this.courseinfo={origin:b[0],dest:b[1],
length:a.text("geoinfo"),time:a.text("requiringtime")};this.tipCnt=a.text("tipcnt");this.holiday_info=a.text("holiday_info");if(a.text("tvshow_name")){b=a.text("tvshow_name").trim();c=a.text("tvshow_info").split("|");if(b&&c.length)this.tvshow_info=[b,c[1],c[2].replace(/(....)(..)(..)/,"$1.$2.$3")]}if(a.text("event_1"))this.event1=a.text("event_1")||""};ja.loadAt_=function(a){if(a=a.find("place")[0]){var b=new ja;b.loadAt_(a);return b}return null};ja.findPath=function(a,b,c){var a=Number(a),d=new ja;
d.id=a;var e="";typeof AoiTest!="undefined"&&(e="&level="+AoiTest.lv);require("server").placeLineList("confirmid="+a+e,function(a){b.call(c,d.loadPath_(a))})};ja.prototype.getFakePointWithIndex_=function(a,b){var c=a[0][b].split(",");return new daum.maps.Coords(c[0],c[1])};ja.prototype.setFakeStartPoint_=function(a){this.startPoint=this.getFakePointWithIndex_(a,0)};ja.prototype.setFakeEndPoint_=function(a){this.endPoint=this.getFakePointWithIndex_(a,a[0].length-1)};ja.prototype.setFakeCenterPoint_=
function(a){this.centerPoint=this.getFakePointWithIndex_(a,~~(a[0].length/2))};ja.prototype.loadPath_=function(a){a=a.find("value")[0];if(!a)return null;this.aoiPath=a.find("lines");this.startPoint=a.object("spoint");this.endPoint=a.object("epoint");this.centerPoint=a.object("cpoint");for(a=this.aoiPath.length;a--;)this.aoiPath[a]=this.aoiPath[a].text("value").split("|");this.startPoint?this.startPoint=new daum.maps.Coords(this.startPoint.number("x"),this.startPoint.number("y")):this.setFakeStartPoint_(this.aoiPath);
this.endPoint?this.endPoint=new daum.maps.Coords(this.endPoint.number("x"),this.endPoint.number("y")):this.setFakeEndPoint_(this.aoiPath);this.centerPoint?this.centerPoint=new daum.maps.Coords(this.centerPoint.number("x"),this.centerPoint.number("y")):this.setFakeCenterPoint_(this.aoiPath);return this};ja.find=function(a,b,c){var a=Number(a),d=new ja;d.id=a;require("server").placeById(a,function(a){b.call(c,d.load_(a))})};ja.prototype.load_=function(a){if(a.text("ret_code")=="200"){this.coords=new daum.maps.Coords(a.number("place.location.wcongx"),
a.number("place.location.wcongy"));this.name=a.text("place.name.placeFullName");this.phone=[a.text("place.phone.phoneMainNum")].concat(a.find("place.phone.phoneRelNums").map(function(a){return a.text("value")}).slice(1));this.address=a.text("place.location.addrFullName");this.address=(this.newAddress=a.text("place.location.newAddrFullNameDetail"))?a.text("place.location.addrFrom3DetphName"):a.text("place.location.addrFullName");this.zipcode=a.text("place.zipcode5");this.review=a.number("place.totalrvwCnt");
this.website=a.text("place.homepage");this.imgsrc=a.text("place.mainPhotoUrl")?"http://t1.daumcdn.net/thumb/C84x76/?fname="+a.text("place.mainPhotoUrl"):"";this.star=a.number("place.score.scoreAvg");this.grade=a.number("place.score.totalScore");this.vote=a.number("place.score.scoreCnt");this.category=a.text("place.category.cateName1")||a.text("place.category.cateName2")||a.text("place.category.cateName3")||a.text("place.category.cateName4")||a.text("place.category.cateName5");this.categories=[1,2,
3,4,5].map(function(b){return String.stripTags(a.text("place.category.cateName"+b))}).filter(Boolean);if(a.text("place.roadview.hasroadview")=="true"){var b=this.roadview=new Ma;b.panoId=a.text("place.roadview.panoid");b.pan=a.number("place.roadview.pan");b.tilt=a.number("place.roadview.tilt");b.zoom=a.number("place.roadview.rvlevel");b.coords=new daum.maps.Coords(a.number("place.roadview.wphotox"),a.number("place.roadview.wphotoy"))}switch(a.text("place.type")){case "opinet":this.gas=new db;this.gas.loadFacilities(a);
break;case "estate":this.estate=a.number("place.typeId");break;case "subwayexit":this.subway=new Ea;this.subway.id=a.text("place.typeId")}this.storeview=a.text("place.STOREVIEW_ID");if(a.has("place.placeaddinfos.oil")){b=this.gas=new db;b.providerId=a.text("place.placeaddinfos.oil.oilCompanyid");b.provider=a.text("place.placeaddinfos.oil.oilCompanyname");b.gasPrice=a.number("place.placeaddinfos.oil.oilB027value");b.premiumGasPrice=a.number("place.placeaddinfos.oil.oilB034value");b.dieselPrice=a.number("place.placeaddinfos.oil.oilD047value");
b.lpgPrice=a.number("place.placeaddinfos.oil.oilK015value");b.timestampText=a.text("place.placeaddinfos.oil.oilB027time");b.loadFacilities(a)}this.sourceName=(this.ad=a.text("place.adstatus")=="Y")?"ad":"place";this.cardBenefits=a.find("place.placeaddinfos.adcards").map(function(a){var b=new vb;b.ad=true;b.setCard(a.text("cardvendor"));b.benefit=a.text("cardmapdesc");return b}).concat(a.find("place.placeaddinfos.cards").map(function(a){var b=new vb;b.setCard(a.text("name"));b.benefit=a.text("searchbenefitname");
return b}));this.desc=decodeURIComponent(a.text("place.introduction")).replace(/\+/g," ");this.dg_membership=a.number("place.placeaddinfos.membership.cashsavingrate")||a.number("place.placeaddinfos.membership.stampcnt")||a.number("place.placeaddinfos.membership.dcminamt");this.hub_data=a.has("place.placeaddinfos.interparktour")?"interparktour":a.has("place.placeaddinfos.hira")?"hira":a.has("place.placeaddinfos.nice")?"nice":"";if(this.hub_data=="interparktour")this.institution=new Vc(a);else if(this.hub_data==
"hira")this.institution=new Ec(a);else if(this.hub_data=="nice")this.institution=new tc(a);if(this.institution&&!this.institution.isValid())this.institution=null;if(a.has("place.placeaddinfos.LINE_COURSE")){this.pointExtension=true;this.distance=a.text("place.placeaddinfos.LINE_COURSE.geominfo");this.time=a.text("place.placeaddinfos.LINE_COURSE.requiringtime");this.difficulty=a.text("place.placeaddinfos.LINE_COURSE.difficulty");this.source=a.text("place.placeaddinfos.LINE_COURSE.datasource");this.sourceUrl=
decodeURIComponent(a.text("place.placeaddinfos.LINE_COURSE.datasourceurl"));this.courseinfo={origin:a.text("place.placeaddinfos.LINE_COURSE.startname"),dest:a.text("place.placeaddinfos.LINE_COURSE.endname")}}this.mainName=a.text("place.name.placeMainName");this.dangol=a.text("place.placeaddinfos.outlinkdata.outlinksrvc")=="dangol";this.outsrcId=a.text("place.placeaddinfos.outlinkdata.outlinksrvc");this.outsrclinkId=a.text("place.placeaddinfos.outlinkdata.outlinksrvcid");if(a.has("place.placeaddinfos.trafficplace.btid")){this.intercity=
"intercityBus";this.intercityId=a.text("place.placeaddinfos.trafficplace.btid")}else if(a.has("place.placeaddinfos.trafficplace.isid")){this.intercity="island";this.intercityId=a.text("place.placeaddinfos.trafficplace.isid")}else if(a.has("place.placeaddinfos.trafficplace.poid")){this.intercity="ferry";this.intercityId=a.text("place.placeaddinfos.trafficplace.poid")}else if(a.has("place.placeaddinfos.trafficplace.ftid")){this.intercity="ferry";this.intercityId=a.text("place.placeaddinfos.trafficplace.ftid")}if(a.find("place.placeaddinfos.addinfos").length!=
0){b=a.find("place.placeaddinfos.addinfos")[0];if(b.text("code"))this.convenience=b.text("contents")}this.tipCnt=a.text("tipcnt");return this}return null};ja.prototype.getDaumPlaceUrl=function(){return require("url").DAUM_PLACE+this.id};ja.prototype.getDaumPlaceReviewUrl=function(){return this.getDaumPlaceUrl()+"#review"};ja.prototype.getLandingUrl=function(){switch(this.outsrcId){case "agency":return"http://realestate.daum.net/h/"+this.outsrclinkId;case "land":case "estate":return"http://realestate.daum.net/maemul/danji/"+
this.outsrclinkId+"/maemullist#t:DanjiInfo";case "land_hotissue":return"http://realestate.daum.net/maemul/issue/"+this.outsrclinkId;case "bunyang":return"http://bunyang.realestate.daum.net/detail.php?viewType=Detail&build_dtl_cd="+ +this.outsrclinkId}return this.getDaumPlaceUrl()};ja.findPlace=function(a,b,c){require("server").searchPlaceById(a,function(a){var e=new ja;e.loadAt_(a);b.call(c,e.id?e:null)})};ja.prototype.hasCoords=function(){return!!this.coords};vb.parseString=function(a){return a.split("|").filter(Boolean).map(vb.parseItemString_)};
vb.NAME_MAP={CT:"\uc528\ud2f0\uce74\ub4dc"};vb.prototype.setCard=function(a){this.card=vb.NAME_MAP[a]||a};vb.parseItemString_=function(a){var a=a.split("/"),b=new vb;if(/^BIZ\^/.test(a[0])){b.ad=true;a[0]=a[0].substring(4)}b.setCard(a[0]);b.benefit=a[2];return b};fc.prototype.id=0;fc.prototype.depth=0;fc.prototype.name="";tc.prototype.titleName="\uae30\uc5c5\uc815\ubcf4";tc.prototype.url="";tc.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};tc.prototype.isValid=function(){return this.biztypename==
"-"&&this.companytype=="-"&&this.chief=="-"?false:true};Ec.prototype.titleName="\ubcd1\uc6d0\uc815\ubcf4";Ec.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};Ec.prototype.isValid=function(){return this.category=="-"&&this.medicalStr=="-"&&this.spcStr=="-"?false:true};Vc.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};Vc.prototype.isValid=function(){var a=false;this.titleName=="\ud638\ud154\uc815\ubcf4"&&this.hotelratename!="-"&&(a=true);if(this.totalroomcountStr!=
"-"||this.timeinfoStr!="-")a=true;this.titleName=="\ud39c\uc158\uc815\ubcf4"&&this.amendities!="-"&&(a=true);return a};define("model/RelatedAddress",[],function(){return function(a,b,c,d){this.type=b;this.typeName=c;a=a.split("^");this.address=a[0];this.prefix=d;if(a[1]){a=a[1].split(",");this.x=a[0];this.y=a[1];this.coords=new daum.maps.Coords(this.x,this.y)}}});Na.TYPE_NONE="None";Na.prototype.type=Na.TYPE_NONE;Na.prototype.image="";Na.prototype.title="";Na.prototype.content="";Na.prototype.author=
"";Na.prototype.website="";Na.prototype.webpage="";Na.prototype.date="";Na.prototype.placeId="";Na.prototype.coords=new daum.maps.Coords(0,0);Na.prototype.sourceType=null;Na.SOURCE_CAFE="cafe";Na.SOURCE_BLOG="blog";Na.fetchUrl=function(a,b,c){require("server").blogReview(a,function(a){if(!a)return null;var e=a.find("cafe")[0],f=Na.SOURCE_CAFE;if(!e){e=a.find("blog")[0];f=Na.SOURCE_BLOG;if(!e)return null}var g=new Na;g.sourceType=f;g.image=a.text("entry.attachment.url");g.title=a.text("entry.title");
g.website=e.text("url");g.webpage=a.text("entry.permalink");f=a.text("entry.location").split("^");g.coords=a.text("entry.attachmentmap.coords")=="wcongnamul"?new daum.maps.Coords(a.number("entry.attachmentmap.mapx")||parseInt(f[1],10),a.number("entry.attachmentmap.mapy")||parseInt(f[2],10)):(new daum.maps.Congnamul(a.number("entry.attachmentmap.mapx")||parseInt(f[1],10),a.number("entry.attachmentmap.mapy")||parseInt(f[2],10))).toCoords();g.content=String.stripTags(a.text("entry.content")).substring(0,
80);var j=a.text("entry.written").replace("KST","GMT+0900"),j=new Date(Date.parse(j));g.date=j.getFullYear()+"."+(""+(j.getMonth()+101)).substring(1)+"."+(""+(j.getDate()+100)).substring(1);g.placeId=a.number("entry.attachmentmap.confirmid")||parseInt(f[7],10);g.address=a.text("entry.attachmentmap.raddress")||f[3];g.author=e.text("title");b.call(c,g)})};Ma.prototype.panoId=0;Ma.prototype.pan=0;Ma.prototype.tilt=0;Ma.prototype.zoom=0;Ma.prototype.thumbnail="";Ma.prototype.coords=null;Ma.exists=function(a,
b,c){(a=Number(a))?require("server").roadviewData(a,function(a){a=a.find("street_view")[0].number("cnt");b.call(c,a>0)}):b.call(c,false)};Ma.create=function(a){var b=new Ma;b.panoId=a.text("panoid")||a.text("id");if(!b.panoId)return null;b.pan=a.text("pan");b.tilt=a.text("tilt");b.zoom=a.text("zoom");var c=a.text("filename")||a.text("fileName");if(!c)return null;b.thumbnail="http://va.maps.daum-img.net/suggest"+c;b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b};Ma.prototype.loadText_=
function(a){if(a){a=a.split("|");if(a[0]){this.panoId=+a[0];this.pan=+a[1];this.tilt=+a[2];this.zoom=+a[7];this.coords=new daum.maps.Coords(+a[5],+a[6]);return this}}return null};Ma.createWithText=function(a){return(new Ma).loadText_(a)};uc.prototype.find=function(a,b){require("server").roadviewStation({PX:a.x,PY:a.y,RAD:"100",SKETCHID:b},this.load_.bind(this))};uc.prototype.load_=function(a){var b;a.find("street_view").forEach(function(a){a.find("street").forEach(function(a){a.has("id")&&(b=a.text("id"))})});
this.onLoad.notify(b)};uc.getNearestPanoId=function(a,b,c,d){var e=new uc;e.onLoad.add(c,d);e.find(a,b)};wb.find=function(a,b,c){var d=new x;d.setBounds(a);d.setPageSize(20);d.onChange.add(function(){b.call(c,wb.load_(d.places))});d.setThemeId(1)};wb.load_=function(a){return a.map(function(a){var c=new wb;c.name=a.name;c.category=a.category;c.id=a.storeview;c.placeid=a.id;c.thumbnailUrl=String.format("http://v.maps.daum-img.net/store_thumb/%s/%s.jpg",a.storeview,a.storeview);c.coords=a.coords;return c})};
wb.MARKERS=[];wb.findMarkers=function(a,b){if(!wb.MARKERS[a]){var c=A["storeview_L"+a];c&&c.map&&(wb.MARKERS[a]=c.map(function(a){var a=a.split("|"),b=new wb;b.coords=new daum.maps.Coords(a[1],a[2]);switch(a[0]){case "S":b.id=Number(a[3]);break;case "B":b.level=Number(a[4])}return b}))}b(wb.MARKERS[a]||[])};vc.SectionRoute=function(a){this.id=a.text("id");this.type=a.text("type").trim();this.fastTransferInfo=a.text("fastTransferInfo");if(this.hasExpressTrain=a.text("hasExpressTrain")=="true"?true:
false)this.expressTrainType=a.text("expressTrainType");this.nodes=[];var b=a.object("depTime");this.time="--";this.walkTime=a.number("time");if(b){var c=b.number("hour"),b=b.number("minute");this.time=(c<10?"0"+c:c)+":"+(b<10?"0"+b:b)}this.noTimeText="";a.find("nodes").forEach(function(a,b){var c=new vc.Node(a);c.subwayId=this.id;if(b>0&&c.time=="--"&&!this.noTimeText)this.noTimeText=this.nodes[b-1].name+"\uae4c\uc9c0 \uc6b4\ud589";this.nodes.push(c)},this);c=this.nodes[0];this.name=c.name;this.time=
c.time;this.direction=a.text("direction")+"\ubc29\uba74"};vc.Node=function(a){this.subwayId="";this.id=a.text("id");this.name=a.text("name");this.isPass=a.text("isPass")=="true"?true:false;this.type=a.text("type");this.subType=a.text("subType");var b=a.object("depTime"),a=a.object("arrTime"),c=b||a;this.time="--";if(c){b=c.number("hour");c=c.number("minute");this.time=(b<10?"0"+b:b)+":"+(c<10?"0"+c:c)}this.arrTime="--";if(a){b=a.number("hour");c=a.number("minute");this.arrTime=(b<10?"0"+b:b)+":"+
(c<10?"0"+c:c)}};Wc.findRoute=function(a,b,c){var d=new Wc(a);require("server").subwayRoute(a,function(a){b.call(c,d.load(a))})};Ea.prototype.loaded_=!1;Ea.prototype.exits=null;Ea.prototype.prev=null;Ea.prototype.next=null;Ea.prototype.hitTest=function(){return Y.prototype.hitTest.apply(this,arguments)};Ea.prototype.isLoaded=function(){return this.loaded_};Ea.prototype.fetchDetail=function(a,b){require("server").stationInfo(this.id,function(c){a.call(b,this.loadDetail_(c))}.bind(this))};Ea.prototype.loadDetail_=
function(a){this.loaded_=true;this.name=a.text("name");this.lineName=a.text("lineName");this.address=a.text("address");this.coords=this.coords||new daum.maps.Coords(a.number("x"),a.number("y"));this.bg="http://t1.daumcdn.net/localimg/localimages/07/subway/nbg/bg_subway_"+a.text("subwayId")+"_t2.gif";this.subwayLineId=a.text("subwayId");this.exits={};a.find("exitInfos").forEach(function(a){this.exits[a.text("no")]=a.text("landmarks")},this);var b=a.find("previousStations")[0];if(b)this.prev=new Ea(b);
if(b=a.find("nextStations")[0])this.next=new Ea(b);this.transfers=a.find("transfers").map(function(a){var b=new Ea;b.id=a.text("id");b.name=a.text("subwayName");return b});this.facilities=a.find("facilities").map(function(a){return a.text("value")});this.buses=a.find("buses").map(function(a){return new X(a)});return this};Ea.prototype.openInfoPopup=function(){open(require("url").DAUM_PLACE+this.id)};gc.prototype.id=0;gc.prototype.themeId=0;gc.prototype.name="";gc.prototype.count=0;define("model/ThemeMapItem",
[],function(){return function(a){this.cpName=a.text("cp_name")||"";this.cpProgram=a.text("cp_program")||"";this.title=a.text("title")||"";this.place_cnt=a.number("place_cnt");this.good_cnt=a.number("good_cnt");this.img=a.text("image")||"";this.themeId=a.text("themeId");this.banner_pc=a.text("banner_pc");this.thumbnail_key=a.text("thumbnail_key")||"";this.thumbnail_url=a.text("thumbnail_url")||"";this.region=a.text("region")||"\uc804\uad6d";if(this.thumbnail_url)this.src="http://t1.daumcdn.net/thumb/C75x75/?fname="+
this.thumbnail_url}});define("model/ThemeMapPlaceItem",[],function(){return function(a){this.name=a.text("name")||"";this.why=a.text("why")||"";var b="",c=a.text("photoUrl")||"";c&&(b="http://t1.daumcdn.net/thumb/C75x75/?fname="+c);this.photoUrl=b;this.region=a.text("region")||"";this.tip_cnt=a.text("tip_cnt")||"0";this.placeId=a.text("placeId")||"";this.good_cnt=a.number("good_cnt")||0;this.coords=new daum.maps.Coords(a.number("x")||0,a.number("y")||0);this.linecourseYN=a.text("linecourseYN")}});
Xc.find=function(a,b,c,d){var e=new Xc;e.coords=a;e.level=b;require("server").traffic({x:a.getX()|0,y:a.getY()|0,level:b},function(a){c.call(d,e.load_(a))})};Xc.prototype.load_=function(a){if(this.length=a.number("length")){this.name=a.text("name");this.desc=a.text("fromNodeName")+" ~ "+a.text("toNodeName");this.status=a.text("traffic");this.speed=a.number("speed");return this}return null};C.DEPARTURE="DEPARTURE";C.ARRIVAL="ARRIVAL";C.TRANSFER_PUBLICTRAFFIC="TRANSFER_PUBLICTRAFFIC";C.TRANSFER_CAR=
"TRANSFER_CAR";C.TRANSFER_WALK="TRANSFER_WALK";C.TRANSFER_CUSTOM="TRANSFER_CUSTOM";C.EXPRESS_BUS="EXPRESS_BUS";C.INTERCITY_BUS="INTERCITY_BUS";C.TRAIN="TRAIN";C.FERRY="FERRY";C.AIRPLANE="AIRPLANE";C.INTERCITY="INTERCITY";C.PUBLICTRAFFIC="PUBLICTRAFFIC";C.DEPARTURE_ARRIVAL="DEPARTURE_ARRIVAL";C.createFromData=function(a,b,c){var d=new C,e=a.data;d.routeType=a.routeType;d.isInterPoint=true;if(a.routeType==C.DEPARTURE_ARRIVAL){if(a.pointType=="START"){d.type=C.DEPARTURE;d.action=C.DEPARTURE}else{d.type=
C.ARRIVAL;d.action=C.ARRIVAL}d.name=e.text("name");d.roadview=false;d.coords=new daum.maps.Coords(e.number("x"),e.number("y"))}else{d.action=d.vehicleType=e.text("vehicle.type");d.coords=new daum.maps.Coords(e.number("departure.x"),e.number("departure.y"));d.arrivalCoords=new daum.maps.Coords(e.number("arrival.x"),e.number("arrival.y"));if(d.vehicleType=="TRAIN")d.subType=e.text("vehicle.subType");d.start=e.object("departure");d.end=e.object("arrival");d.time=e.text("time.text");d.fare=e.text("fare.text");
d.reservation=e.bool("reservation");d.longInterval=e.bool("longInterval");d.nodes=[];d.name=e.text("departure.name");d.nodeType=e.text("departure.type");d.actionName="\ud0d1\uc2b9";d.type=d.vehicleType;if(d.vehicleType==C.TRANSFER_PUBLICTRAFFIC){d.interTypeName="\uc2dc\ub0b4";d.fare=e.text("transferRoute.route.fare.text");d.publicSummaries=[];e.find("transferRoute.route.summaries").map(function(a,b){var c=this.getSummaryNode(a.object("startLocation"));c.vehicles=a.find("vehicles").map(function(a){var b=
a.text("type")=="BUS"?X.TYPE[a.text("subType")]:N.subwayCode[a.text("id")][0];return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:b,id:a.text("id"),visible:a.text("visible")=="true"}});c.index=d.publicSummaries.length;d.publicSummaries.push(c);if(e.find("transferRoute.route.summaries").length-1==b){c=this.getSummaryNode(a.object("endLocation"));c.index=d.publicSummaries.length;d.publicSummaries.push(c)}},d);d.publicSteps=
[];e.find("transferRoute.route.steps").forEach(function(a,b){var e=a.text("action");if(!(e=="DEPARTURE"||e=="ARRIVAL")){e=N.createFromData(a,b,c);e.isInterPublic=true;if(e.type==N.OTHER&&d.publicSteps.length>0)d.publicSteps[d.publicSteps.length-1].nextOther=true;d.publicSteps.push(e)}})}else if(d.vehicleType==C.TRANSFER_CAR){d.interTypeName="\ud0dd\uc2dc";d.publicRoute=e.text("polyline");d.taxiFare=e.text("transferRoute.taxiFare.text");d.distance=e.text("transferRoute.distance.text")}else if(d.vehicleType==
C.TRANSFER_WALK){d.interTypeName="\ub3c4\ubcf4";d.publicRoute=e.text("polyline");d.distance=e.text("transferRoute.distance.text")}else if(d.vehicleType==C.TRANSFER_CUSTOM)d.interTypeName="\uc5c6\uc74c";else if(d.vehicleType==C.INTERCITY_BUS){d.interTypeName="\uc2dc\uc678";d.publicRoute=e.text("polyline")}else if(d.vehicleType==C.EXPRESS_BUS){d.interTypeName="\uace0\uc18d";d.publicRoute=e.text("polyline")}else if(d.vehicleType==C.TRAIN){d.interTypeName=d.subType=="DMZtrain"?"DMZ train":d.subType;d.publicRoute=
e.text("polyline")}else if(d.vehicleType==C.FERRY){d.interTypeName="\uc5ec\uac1d\uc120";d.publicRoute=e.text("polyline")}else if(d.vehicleType==C.AIRPLANE)d.interTypeName="\ud56d\uacf5"}return d};C.prototype.getSummaryNode=function(a){var b=a.text("type"),c=b=="BUSSTOP"?a.text("name")+" \uc815\ub958\uc7a5 ":a.text("name");return{type:a.text("type"),locationName:c,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:b=="BUSSTOP"?"":N.subwayCode[a.text("subwayId")][0],action:a.text("action")}};
C.prototype.buildPaths=function(){var a=this.start?new daum.maps.Coords(this.start.number("x"),this.start.number("y")):null,b=this.end?new daum.maps.Coords(this.end.number("x"),this.end.number("y")):null;if(this.routeType==C.INTERCITY){this.targetPath=this.path=[];if(this.vehicleType==C.AIRPLANE)this.targetPath=this.path=this.getCurvePath_(a,b,30);else if(this.publicRoute)this.publicRoute.split("|").forEach(function(a){a=a.split(",");this.path.push(new daum.maps.Coords(a[0],a[1]))},this);else{this.path.push(a);
this.path.push(b)}}else if(this.vehicleType==C.TRANSFER_CUSTOM){this.targetPath=this.publicCustomPath=[];this.publicCustomPath.push(a);this.publicCustomPath.push(b)}else if(this.routeType==C.PUBLICTRAFFIC){var c=[];this.publicSteps?this.publicSteps.forEach(function(a){a.buildPaths();if(a.path||a.walkPath)c=c.concat(a.path||a.walkPath)}):this.publicRoute&&this.publicRoute.split("|").forEach(function(a){a=a.split(",");c.push(new daum.maps.Coords(a[0],a[1]))},this);this.targetPath=this.vehicleType==
C.TRANSFER_WALK?this.publicWalkPath=c:this.publicPath=c}};C.prototype.getCurvePath_=function(a,b,c){var d=b.getX()-a.getX()>0?true:false,e=A.ctr=A.ctr||{};e.control1=this.getControlPosition(a,b,d);e.control10=new daum.maps.Coords((a.getX()+b.getX())/2,(a.getY()+b.getY())/2);e.control11=new daum.maps.Coords((e.control10.getX()+e.control1.getX())/2,(e.control10.getY()+e.control1.getY())/2);e.control12=new daum.maps.Coords((e.control10.getX()+e.control11.getX())/2,(e.control10.getY()+e.control11.getY())/
2);for(var d=e.control12,e=[],c=1/c,f=0;f<0.95;f=f+c){var g=this.getQuadraticCurvePoint_(a.getX(),a.getY(),d.getX(),d.getY(),b.getX(),b.getY(),f);e.push(g)}e.push(b);return e};C.prototype.getMarkerImage=function(a,b){var c=10+(a-1)*46;return new daum.maps.MarkerImage("http://t1.daumcdn.net/localimg/localimages/07/2012/img/marker_normal.png",new daum.maps.Size(33,36),{offset:new daum.maps.Point(12,36),spriteSize:new daum.maps.Size(644,946),spriteOrigin:new daum.maps.Point(b,c)})};C.prototype.getControlPosition=
function(a,b,c){var d=new daum.maps.Coords(b.getX()-a.getX(),b.getY()-a.getY()),e=Math.atan2(d.getY(),d.getX()),f=Math.sqrt(Math.pow(d.getX()/2,2)+Math.pow(d.getY()/2,2)),d=f*Math.cos(e)-f*Math.sin(e),e=f*Math.sin(e)+f*Math.cos(e);if(c){d=a.getX()+d;e=a.getY()+e}else{d=b.getX()-d;e=b.getY()-e}return new daum.maps.Coords(d,e)};C.prototype.getQuadraticCurvePoint_=function(a,b,c,d,e,f,g){return new daum.maps.Coords(this.getQBezierValue_(g,a,c,e),this.getQBezierValue_(g,b,d,f))};C.prototype.getQBezierValue_=
function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d};Vb.prototype.buildPaths=function(){this.totalPaths.length==0&&this.points.forEach(function(a){a.buildPaths();if(a.targetPath)this.totalPaths=this.totalPaths.concat(a.targetPath)},this)};Vb.prototype.getSummaryNode=function(a){var b=a.text("name"),c=a.text("type");return{type:"INTERCITY",locationName:b,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:c.toLowerCase()}};Vb.prototype.getSubTypeCode=function(a){var b="";a=="KTX"?
b="KTX":a=="ITX"?b="ITX":a=="SRT"?b="SRT":a=="\uc0c8\ub9c8\uc744"?b="SAEMAEUL":a=="\ubb34\uad81\ud654"?b="MUGUNGHWA":a=="\ub204\ub9ac\ub85c"?b="NURIRO":a=="\ud1b5\uadfc"?b="TONGGEUN":a=="ITX\uc0c8\ub9c8\uc744"?b="ITXSAEMAEUL":a=="DMZtrain"&&(b="DMZT");return b};Vb.Lazy=function(a){this.get=function(){return new Vb(a)}};N.DEPARTURE="DEPARTURE";N.MOVE="MOVE";N.GETON="GETON";N.GETOFF="GETOFF";N.TRANSFER="TRANSFER";N.ARRIVAL="ARRIVAL";N.OTHER="OTHER";N.GETOFF_TRANSFER="GETOFF_TRANSFER";N.ACTION={MOVE:"\uc774\ub3d9",
TRANSFER:"\ud658\uc2b9",GETON:"\uc2b9\ucc28",GETOFF:"\ud558\ucc28"};N.subwayCode={SES1:["subway_1","1\ud638\uc120"],SES2:["subway_2","2\ud638\uc120"],SES3:["subway_3","3\ud638\uc120"],SES4:["subway_4","4\ud638\uc120"],SES5:["subway_5","5\ud638\uc120"],SES6:["subway_6","6\ud638\uc120"],SES7:["subway_7","7\ud638\uc120"],SES8:["subway_8","8\ud638\uc120"],SES9:["subway_9","9\ud638\uc120"],SES33:["subway_k","\uacbd\ucd98\uc120"],SES26:["subway_j","\uacbd\uc758\uc911\uc559\uc120"],SES28:["subway_ky","\uacbd\uc758\uc911\uc559\uc120"],
SES23:["subway_minute","\ubd84\ub2f9\uc120"],SES27:["subway_g","\uacf5\ud56d\ucca0\ub3c4"],SES35:["subway_s","\uc218\uc778\uc120"],SES34:["subway_new","\uc2e0\ubd84\ub2f9\uc120"],SES36:["subway_i","\uacbd\uc804\ucca0"],SES37:["subway_ever","\uc5d0\ubc84\ub77c\uc778"],PSS1:["subway_bu1","1\ud638\uc120"],PSS2:["subway_bu2","2\ud638\uc120"],PSS3:["subway_bu3","3\ud638\uc120"],PSS4:["subway_bu4","4\ud638\uc120"],PSS10:["subway_bu10","\uacbd\uc804\ucca0"],DGS1:["subway_dae1","1\ud638\uc120"],DGS2:["subway_dae2",
"2\ud638\uc120"],DGS3:["subway_dae3","3\ud638\uc120"],KJS1:["subway_kwa1","1\ud638\uc120"],KJS2:["subway_kwa2","2\ud638\uc120"],DJS1:["subway_jeo1","1\ud638\uc120"],SES38:["subway_ml","\uc790\uae30\ubd80\uc0c1"],SES22:["subway_in1","\uc778\ucc9c1\ud638\uc120"],SES39:["subway_in2","\uc778\ucc9c2\ud638\uc120"],SES40:["subway_kk","\uacbd\uac15\uc120"],PSS11:["subway_dh","\ub3d9\ud574\uc120"]};N.createFromData=function(a){var b=new N;a.text("type");b.action=a.text("action");var c=b.action==N.ARRIVAL||
b.action==N.GETOFF?a.object("endLocation"):a.object("startLocation");b.coords=new daum.maps.Coords(c.number("x"),c.number("y"));b.confirmid=+c.text("confirmId")?+c.text("confirmId"):null;b.actionName=a.text("actionName");b.walkingGuide=a.bool("walkingGuide");b.name=(c.text("type"),c.text("name"));b.nodes=a.find("nodes").map(function(a){return{name:a.text("name"),type:a.text("type"),coords:new daum.maps.Coords(a.number("x"),a.number("y"))}});b.distance=a.number("distance.value")||0;b.time=a.text("time.text")||
0;if(c.has("roadView"))b.roadview=Ma.create(c.object("roadView"));b.type=a.text("type");b.vehicles=[];b.linePath=a.text("polyline");switch(b.type){case "BUS":b.bus=true;b.busLineId=[];b.vehicles=a.find("vehicles").map(function(a){b.busLineId.push(a.text("id"));return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:X.TYPE[a.text("subType")],id:a.text("id"),visible:a.text("visible")=="true",startOrder:a.number("startOrder")}});
b.busIconCode=b.vehicles.length!=0?b.vehicles[0].type:null;b.busStop=new Y;b.busStop.id=c.text("id");b.path=[];break;case "SUBWAY":b.subway=true;b.subwayCode=N.subwayCode[c.text("subwayId")][0];b.subwayStation=new Ea;b.subwayStation.id=c.text("id");b.vehicles=a.find("vehicles").map(function(a){return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),lineType:N.subwayCode[a.text("id")][0],id:a.text("id"),visible:a.text("visible")=="true"}});b.subwayLine=N.subwayCode[c.text("subwayId")][1];
b.direction=a.text("direction");if(b.vehicles[0])b.desc=b.vehicles[0].name+" "+a.text("direction")+"\ubc29\uba74";b.moreRoute=b.nodes.length!=0?b.nodes.length+"\uac1c \uc5ed \uc774\ub3d9":"";b.path=[];if(a.text("vehicleId"))b.icon="http://t1.daumcdn.net/localimg/localimages/07/subway/nicon/i_subway_"+a.text("vehicleId")+"_t1.gif";if(a.text("fastTransfer"))b.tip="\ube60\ub978 "+b.actionName+" "+a.text("fastTransfer");if(a.text("walkingPolyline")){a=a.text("walkingPolyline").split("|");b.walkingPolyline=
[];for(var c=0,d=a.length;c<d;c=c+2)b.walkingPolyline.push(new daum.maps.Coords(a[c],a[c+1]))}break;case "OTHER":case "WALKING":b.coords=new daum.maps.Coords(a.number("startLocation.x"),a.number("startLocation.y"));b.walk=true;b.walkGroup=Sb();b.walkGroup.roadview=b.roadview;c=a.object("endLocation");d=c.text("name");c.text("type")=="BUSSTOP"?d=d+"\uc815\ub958\uc7a5":c.text("type")=="SUBWAYSTATION"&&a.text("subwayExit")&&(d=d+(" "+a.text("subwayExit")+"\ubc88 \ucd9c\uad6c"));d=d+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9";
b.endLocation=a.object("endLocation");a.object("startLocation").text("type")=="SUBWAYSTATION"&&a.text("subwayExit")&&(d=a.text("subwayExit")+"\ubc88 \ucd9c\uad6c\ub85c \ub098\uc640\uc11c, "+d);b.walkGroup.desc=b.desc||d;b.walkGroup.summary="\ub3c4\ubcf4\ub85c \uc774\ub3d9";b.walkGroup.time=a.number("time.value");b.walkGroup.distance=a.number("distance.value");b.walkGroup.walkGuide=a.text("walkingGuide")=="true";b.walkPath=[]}return b};N.prototype.buildPaths=function(){var a=this.linePath?this.linePath.split("|"):
null,b=this.type=="WALKING"||this.type=="OTHER"?this.walkPath:this.path;if(a)for(var c=0,d=a.length;c<d;c=c+2)b.push(new daum.maps.Coords(a[c],a[c+1]));this.targetPath=b};Eb.prototype.buildPaths=function(){this.totalPaths.length==0&&this.points.forEach(function(a){a.buildPaths();if(a=a.path||a.walkPath)this.totalPaths=this.totalPaths.concat(a)},this)};Eb.prototype.isLastGetOffItem=function(){var a=this.points.length-2;if(this.points[a].action=="MOVE")this.points[a-1].lastGetOFf=true;if(this.points[a].action==
"GETOFF")this.points[a].lastGetOFf=true};Eb.prototype.getSummaryNode=function(a){var b=a.text("type"),c=b=="BUSSTOP"?a.text("name")+" \uc815\ub958\uc7a5 ":a.text("name");return{type:a.text("type"),locationName:c,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:b=="BUSSTOP"?"":N.subwayCode[a.text("subwayId")][0],action:a.text("action")}};Eb.find=function(a,b,c){var d=a.length-1,e=a[0],f=a[d];if(a.length==2&&e.coords&&f.coords){e=e.coords;f=f.coords;if(e.getX()==f.getX()&&e.getY()==
f.getY()){b.call(c,{transitRoutes:[],status:"EQUAL_POINTS",interRoutes:[],interStatus:"EQUAL_POINTS"});return}}var g={};a.forEach(function(a,b){if(b==0||b==d){var c=a.coords,e=b==0?"s":"e";g[e+"X"]=c.getX()|0;g[e+"Y"]=c.getY()|0;g[e+"Name"]=a.name?a.name.trim():"";g[e+"id"]=a.id?a.id.replace("P",""):""}});var j=Bb();require("server").transitRoute2(g,function(a){j.dispose();var d=[];a.find("in_local.routes").forEach(function(a){d.push(new Eb.Lazy(a))});var e=a.object("inter_local.start"),f=a.object("inter_local.end"),
e=e?e.raw():{},f=f?f.raw():{};e.type="DEPARTURE";f.type="ARRIVAL";var g=[];a.find("inter_local.routes").forEach(function(a){a.obj_.start=e;a.obj_.end=f;g.push(new Vb.Lazy(a))});b.call(c,{transitRoutes:d,status:a.text("in_local.status")||a.text("in_local_status"),interRoutes:g,interStatus:a.text("inter_local.status")||a.text("inter_local_status"),mkey:a.text("mkey")})})};Eb.Lazy=function(a){this.get=function(){return new Eb(a)}};define("model/TransitRouteSummary",[""],function(){function a(){}return{create:function(b){return new a(b)}}});
Db.ACTION_LIST={ENTER_CROSSWALK:0,ENTER_DOUBLE_CROSSWALK:0,ENTER_PEDESTRIAN_OVERPASS:1,ENTER_STAIR:2,ENTER_SUBWAY:3,ENTER_UNDERGROUND:4,ENTER_ELEVATOR:5,ENTER_SUBWAY_ELEVATOR:5,ENTER_UNDERGROUND_BRIDGE:6,ENTER_PEDESTRIAN_BRIDGE:7,ENTER_STEPPING_STONE:7,ENTER_ESCALATOR:8};Db.ROTATIONCODE_LIST=["STRAIGHT","TURN_LEFT","TURN_RIGHT"];ab.RECOMMENDATION="RECOMMENDATION";ab.SHORTEST="SHORTEST";ab.NONE="NONE";ab.AVOID_STAIR="AVOID_STAIR";ab.find=function(a,b,c,d){var e={walkMode:b,walkOption:c,u2X:[],u2Y:[]},
f=a.length-1,g=a[0],j=a[f];if(a.length==2&&g.coords&&j.coords){g=g.coords;j=j.coords;if(g.getX()==j.getX()&&g.getY()==j.getY()){j=ab();j.mode=b;j.option=c;j.waypoints=a;j.error=true;j.resultErrorCode="SAME_POINT";d(j);return}}var l="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=f&&b!=1){e.u2X.push(c.getX()|0);e.u2Y.push(c.getY()|0)}else{var d=b==0?"s":b==f?"e":"p";e[d+"Name"]=a.name;e[d+"X"]=c.getX()|0;e[d+"Y"]=c.getY()|0}l=l+((a.id?a.id:"")+(b!=f?",":""))});e.ids=l;require("server").walkRoute(e,
function(e){var f=ab();f.mode=b;f.option=c;f.waypoints=a;ab.load(f,e);d(f)})};ab.find2=function(a,b,c,d,e,f){require("server").walkRoute({xy:[a.coords.getX(),a.coords.getY(),c.coords.getX(),c.coords.getY()].join(),pointType:[b,d].join(),eName:e,walkMode:"SHORTEST",grouping:"no"},function(a){var b=ab();b.method="SHORTEST";b.option="NONE";ab.load(b,a);f(b)})};ab.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),
new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.time=b.number("time");a.distance=b.number("length");a.raw=b.obj_;var c=0;if(a.waypoints){var d=Db();d.seq="start";d.name=a.waypoints[0].name;d.summary=a.waypoints[0].name;d.coords=a.waypoints[0].coords;a.points.push(d)}var e=b.find("sections").length-1,f=a.sectionPoints=[];if(b.text("resultCode")=="OK")a.error=false;else{a.error=true;a.resultErrorCode=b.text("resultCode")}a.routeMode=b.text("routeMode");var g=0,j=0,l=0,k=0;b.find("sections").forEach(function(b,
d){f[d]=[];var m=[],n=b.find("guideList").length;b.find("guideList").forEach(function(b,e){var g=b.text("groupId");g=="-1"&&(g=null);if(g&&!m[g]){m[g]=Sb();a.points.push(m[g])}var h=Db();h.seq=++c;h.coords=new daum.maps.Coords(b.number("x"),b.number("y"));if(b.has("subwayStation")){h.subway=b.text("subwayStation.subwayStationName");if(b.has("subwayStation.exitNo"))h.subway=h.subway+(" "+b.text("subwayStation.exitNo")+"\ubc88\ucd9c\uad6c")}h.poi=b.text("poi.placeName");h.confirmid=b.text("poi.confirmId")||
null;h.cross=b.text("crossName")||null;h.desc=b.text("guideMent");h.action=b.text("guideCode");h.rotationCode=b.text("rotationCode");h.path=b.text("link.points").split("|").map(function(a){a=a.split(",");return new daum.maps.Coords(a[0],a[1])});if(b.has("roadView")){var j=new Ma;j.panoId=b.text("roadView.panoid");j.pan=b.number("roadView.pan");j.coords=new daum.maps.Coords(b.number("roadView.x"),b.number("roadView.y"));j.thumbnail="http://va.maps.daum-img.net/suggest"+b.text("roadView.filename");
h.roadview=j;a.hasRoadviewInfo=true}if(g){m[g].start=m[g].start||h.getSummary();m[g].end=h.getSummary()||m[g].end;m[g].time=m[g].time+b.number("link.time");m[g].distance=m[g].distance+b.number("link.length");m[g].points.push(h)}else a.points.push(h);h.path.length-1&&(f[d]=f[d].concat(h.path));if(e==n-1&&a.waypoints){j=a.waypoints[d+1].name;if(!g)h.desc="["+j+"] \ub3c4\ucc29"}});g=g+(b.number("calories")||0);j=j+(b.number("facilities.bridge")||0);l=l+(b.number("facilities.underground")||0);k=k+(b.number("facilities.stair")||
0);if(d<e&&a.waypoints){var q=a.waypoints[d+1],r=Db();r.name=q.name;r.summary=q.name;r.coords=q.coords;r.roadview=null;r.desc=r.action=r.rotationCode="";r.seq="through";a.points.push(r)}});a.calories=g;a.bridge=j;a.underground=l;a.stair=k;if(a.waypoints){var d=a.waypoints.length-1,m=Db();m.seq="goal";m.name=a.waypoints[d].name;m.summary=a.waypoints[d].name;m.coords=a.waypoints[d].coords;a.points.push(m)}a.points.some(function(){});return a};xb.getModeLineColor=function(a){var b="#0ea3da";switch(a){case "SHORTEST":b=
"#0ea3da";break;case "BROAD_FIRST":b="#0ea3da";break;case "ACCESSIBLE":b="#0ea3da"}return b};xb.getModeOutLineColor=function(a){var b="#0ea3da";switch(a){case "SHORTEST":b="#0ea3da";break;case "BROAD_FIRST":b="#0ea3da";break;case "ACCESSIBLE":b="#0ea3da"}return b};xb.getModeText=function(a){var b=null;switch(a){case "SHORTEST":b="\ucd5c\ub2e8\uac70\ub9ac";break;case "BROAD_FIRST":b="\ud070\uae38\uc6b0\uc120";break;case "ACCESSIBLE":b="\ud3b8\uc548\ud55c\uae38"}return b+" \uacbd\ub85c"};xb.find=function(a,
b){var c={u2X:[],u2Y:[]},d=a.length-1,e=a[0],f=a[d];if(a.length==2&&e.coords&&f.coords){e=e.coords;f=f.coords;if(e.getX()==f.getX()&&e.getY()==f.getY()){f=xb();f.waypoints=a;f.error=true;f.resultErrorCode="SAME_POINT";b(f);return}}var g="";a.forEach(function(a,b){var e=a.coords;if(b!=0&&b!=d&&b!=1){c.u2X.push(e.getX()|0);c.u2Y.push(e.getY()|0)}else{var f=b==0?"s":b==d?"e":"p";c[f+"Name"]=a.name;c[f+"X"]=e.getX()|0;c[f+"Y"]=e.getY()|0}g=g+((a.id?a.id:"")+(b!=d?",":""))});c.ids=g;require("server").walkSetRoute(c,
function(c){var d=xb();d.waypoints=a;xb.load(d,c);b(d)})};xb.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.raw=b.obj_;if(b.text("resultCode")=="OK"){a.error=false;var c=b.find("directions").map(function(b){var c=ab();c.waypoints=a.waypoints;return ab.load(c,b)});a.walkRoutes=c.filter(function(a){return!a.error})}else{a.error=
true;a.resultErrorCode=b.text("resultCode")}};Za.prototype.loadByCoords_=function(a){this.name=String.stripTags(a.text("old.name")||a.text("oldRegion"));return this};Za.findByCoords=function(a,b,c){var d=new Za(a,"");require("server").getJibunShape({x:a.getX()|0,y:a.getY()|0},function(a){b.call(c,d.loadByCoords_(a))})};define("model/Weather",["jquery"],function(){function a(a,g){if(g){var l=g.find("weatherList").slice(0,4),k,m=["fst","leftBorder","leftBorder","lst leftBorder"];e=g;k=l[0].text("ampm")==
"AM"?d:c;for(var q=0,o=l.length;q<o;q++){l[q]=l[q].obj_;l[q].date=k[q]+l[q].applydate.replace(/(....)(..)(..)/,"($2/$3)").replace(/\(0/,"(");l[q]["class"]=m[q];l[q].temper=b(l[q].temp)}f={weatherList:l};a&&a(f)}}function b(a){for(var b=a,a=Math.round(a*10)/10+"",a=a.split(""),c=[],d=0,e=a.length;d<e;d++)switch(a[d]){case "-":c.push('<span class="minus"></span>');break;case ".":c.push('<span class="point"></span>');break;default:c.push('<span class="number'+a[d]+'"></span>')}c.push('<span class="unit"></span>');
c.push('<span class="screen_hide">'+b+"c</span>");return c.join("")}var c=["\uc624\ub298 \uc624\ud6c4","\ub0b4\uc77c \uc624\uc804","\ub0b4\uc77c \uc624\ud6c4","\ubaa8\ub808 \uc624\uc804"],d=["\ub0b4\uc77c \uc624\uc804","\ub0b4\uc77c \uc624\ud6c4","\ubaa8\ub808 \uc624\uc804","\ubaa8\ub808 \uc624\ud6c4"],e={},f={};return{makeImgTemperTxt:b,fetch:function(b,c){require("server").weather(b,a.bind(this,c));q.click("control","weather_icon_temp")},getData:function(){return f},getRawData:function(){return e}}});
wc.fetch=function(a,b,c){require("server").getJibunShape({x:a,y:b},wc.load_.bind(this,c))};wc.load_=function(a,b){a(new wc(b),b)};define("util/Storage",["jquery"],function(a){var b=false,c=null;if(A.localStorage)c=A.localStorage;else{a=a('<a class="userdata"></a>');a.appendTo("body");c=a.get(0);c.addBehavior("#default#userData");c.load(A.location.href);b=true}return{setItem:function(a,e){if(b){c.setAttribute(a,e);c.save(A.location.href)}else c.setItem(a,e)},getItem:function(a){var e=null;return e=
b?c.getAttribute(a):c.getItem(a)},removeItem:function(a){if(b){c.setAttribute(a,"null");c.save(A.location.href)}else c.removeItem(a)}}});"use strict";define("util/nohash",{load:function(a){a.on("click",function(a){for(var c=a.target;c&&c.tagName!="DIV";c=c.parentNode)if(c.href&&/#$/.test(c.href)){a.preventDefault();break}})}});Lb.prototype.clickHandler_=function(){var a={cpg:this.dssAddressObj.cpg+","+(this.seq+1),tab:this.dssAddressObj.tab,in_map:this.dssAddressObj.in_map,sorttype:this.dssAddressObj.sorttype,
mkey:this.dssAddressObj.mkey};a.analysis=this.dssAddressObj.analysis;if(this.dssAddressObj.srcid)a.srcid=this.dssAddressObj.srcid;if(this.dssAddressObj.cidx!=void 0)a.cidx=this.dssAddressObj.cidx;t.logPathSearchOutWithArgs("_address_name",a);this.click_()};Lb.prototype.setActive=function(a){this.panel_.toggleClass("AddressFlagItemView-ACTIVE",!!a);this.flagInfoLayer_.setVisible(false);this.active_=!!a};Lb.prototype.setPointIcon=function(){};Lb.prototype.setDssAddressObj=function(a){this.dssAddressObj=
a};Lb.prototype.setSeq=function(a){this.seq=a};jb.prototype.detail_=!1;jb.prototype.setDetail=function(a){this.detail_=!!a;this.setClass("BusLineItemView-NODETAIL",!a);this.busLineWrap_.removeClass("detail");this.detailInfoBtn_&&this.detailInfoBtn_.setText("\ub354\ubcf4\uae30");this.setSecondNameBy_(a?this.secondNameLength_-2:this.secondNameLength_);a?this.loadingBar_.getActive()&&this.update_():this.loadingBar_.stop()};jb.prototype.setSecondNameBy_=function(a){this.secondName_.setText(String.cut(this.secondNameText_,
a))};jb.prototype.clickSelf_=function(){this.detail_||this.setDetail(true)};jb.prototype.clickDetailBtn=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();q.click("businfo",this.detail_?"bus_number_up_arrow":"bus_number_down_arrow");this.setDetail(!this.detail_)}};jb.prototype.clickFiyBtn=function(){this.rawData_.fromChannel="BUSSTOP_REALTRAFFIC";Application.fiyFrameController.open({type:"bus",rawInfo:this.rawData_,channel:"DETAIL_BUS"});q.click("businfo","bus_tooltip_fiy")};
jb.prototype.setData=function(a){this.rawData_=a.rawData.raw();if(a.realtimeMessage){this.busDriveInfo_.addChild(new g("span","bar","|"));this.busDriveInfo_.addText(a.realtimeMessage)}var b=a.busDetailInfo;if(b&&b.variable){var c=this.detailInfoBtn_=new g("a","detailInfoBtn","\ub354\ubcf4\uae30");this.busDriveInfo_.addChild(c);c.onClick.add(function(){if(this.busLineWrap_.hasClass("detail")){this.busLineWrap_.removeClass("detail");c.setText("\ub354\ubcf4\uae30")}else{this.busLineWrap_.addClass("detail");
c.setText("\uc811\uae30")}},this);var d=G("BusDetailInfo");if(b.firstLastTime.length>0){var e=null;if(b.startPointId){e=jQuery('<a href="#">'+b.startPoint+"</a>");e.on("click",function(){this.openBusStop_(b.startPointId,a.id)}.bind(this))}else e=jQuery("<span>"+b.startPoint+"</span>");d.$("startPoint").append(e);e=null;if(b.turningPointId){e=jQuery('<a href="#">'+b.turningPoint+"</a>");e.on("click",function(){this.openBusStop_(b.turningPointId,a.id)}.bind(this))}else e=jQuery("<span>"+b.turningPoint+
"</span>");d.$("turningPoint").append(e);for(var f=e=true,h=null,j=0;j<b.firstLastTime.length;j++){h=b.firstLastTime[j];if(!(h.startPointTime=="~"&&h.turningPointTime=="~")){d.$("firstLastList").append(jQuery("<tr><td>"+h.day+'</td><td class="startPointTime">'+h.startPointTime+'</td><td class="turningPointTime">'+h.turningPointTime+"</td></tr>"));h.startPointTime!="~"&&(f=false);h.turningPointTime!="~"&&(e=false)}}e&&f?d.$("firstLast").hide():e?d.$("firstLast").addClass("singleStartColum"):f&&d.$("firstLast").addClass("singleTurningColum")}else d.$("firstLast").hide();
b.interval.length>0?b.interval.forEach(function(a){d.$("intervalList").append(jQuery("<tr><td>"+a.day+"</td><td>"+a.peek+"</td></tr>"))}):d.$("interval").hide();this.infoEtc_.toPane().before(d)}this.busLineCode_=a.id;var e=!!a.vehicles,l=a.realTime;l||this.noRealBusBar_.addClass("noRealBusBar-ACTIVE");if(f=X.PROVIDER_CLASS[a.providerId]){this.busProviderLogo_.getElement().className="busProviderLogo";this.busProviderLogo_.addClass(f)}this.busStopsView_.length=0;a.busStops.forEach(function(b,c){var d=
new Jd(b,a,this.buttonFactory_);c==a.busStops.length-1&&d.setLastView();b.virtual?d.setNonstop():d.onClick.add(function(){q.click("businfo","bus_number_busstop");this.onBusStop.notify(b)},this);d.setLine(l);this.busStopsView_.push(d);this.stops_.addChild(d.getPane())},this);this.busStopsView_.length&&this.busStopsView_[this.busStopsView_.length-1].setSpeed(0);this.loadingBar_.setActive(l);this.positions_.setVisible(e);this.busProviderInfo_.setVisible(l);l&&this.updateVehicles_(a)};jb.prototype.updateVehicles_=
function(a){if(a.vehicles){this.positions_.setVehicles(a.vehicles);this.loadingBar_.start()}else this.loadingBar_.stop();var b=a.busStops;b&&b.length==this.busStopsView_.length&&b.forEach(function(a,b){this.busStopsView_[b].setSpeed(a.nextLinkSpeed)},this);this.loadingBar_.setType(!(!a.vehicles||!a.vehicles.length),a.realtimeState)};jb.prototype.update_=function(){this.getVisible()&&X.findBusLine(this.busLineCode_,this.updateVehicles_,this)};jb.prototype.openBusStop_=function(a,b){Application.infoWindowManager.close();
Y.find(a,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,b)}.bind(this),250)}.bind(this))};jb.prototype.setFavorite=function(a){this.favorite_.setClass("fav-ON",a)};kb.prototype.setSpot=function(a,b,c){this.stopId_=a||null;this.busStopAction_=b||null;this.order_=+(c||0)};kb.prototype.initScrollView=function(){this.scrollView_=null;this.initSpot()};kb.prototype.initSpot=function(){this.stopId_=this.busStopAction_=
null;this.order_=0};kb.prototype.clickFiyBtn=function(){this.rawData_.fromChannel="BUSSTOP_INFO";Application.fiyFrameController.open({type:"bus",rawInfo:this.rawData_,channel:"DETAIL_BUS"});q.click("businfo","bus_tooltip_fiy")};kb.prototype.setData=function(a){this.rawData_=a.rawData.raw();this.summary_.removeClass("detail");this.summary_.removeAllChildren();var b=jQuery('<a href="#"></a>');this.buttonFactory_.createFavorite(b,B.createFromBusLine(a));this.summary_.addChild(b);var b=this.name_=new g("h5"),
c=new g("span","busType");c.addClass(a.type);this.position_.setType(a.type);b.addChild(c);var c=new g("span","busname"),d=a.firstName.substring(0,15);c.addText(d);b.addChild(c);b.addChild(new g("span","subname",String.cut(a.secondName,15-a.firstName.length)));b.setTitle(a.name);var c=this.destination_=new g("p","totalPath"),d=new g("span"),e=new g("span"),f=a.start,h=a.end;d.setTitle(f);e.setTitle(h);f.length+h.length>21&&(f.length>h.length?f=String.cut(f,21-h.length):h=String.cut(h,21-f.length));
c.addChild(d.addText(f));c.addChild((new g("img","arrow")).setSrcPng("http://t1.daumcdn.net/localimg/localimages/07/2011/icon/ico_twoarrow2.gif"));c.addChild(e.addText(h));this.summary_.addChild(b);this.summary_.addChild(c);b=null;b=new g("p","info first_line");b.addText("\uccab\ucc28 "+a.startTime);b.addChild(new g("span","bar","|"));b.addText("\ub9c9\ucc28 "+a.endTime);this.summary_.addChild(b);b=null;b=new g("p","info");b.addText("\ubc30\ucc28\uac04\uaca9 "+a.interval);if(a.realtimeState!="NOSUPPORT"&&
a.realtimeMessage){b.addChild(new g("span","bar","|"));b.addText(a.realtimeMessage)}this.summary_.addChild(b);var j=a.busDetailInfo;if(j&&j.variable){var l=this.detailInfoBtn_=new g("a","detailInfoBtn","\ub354\ubcf4\uae30");b.addChild(l);l.onClick.add(function(){if(this.summary_.hasClass("detail")){this.summary_.removeClass("detail");l.setText("\ub354\ubcf4\uae30")}else{this.summary_.addClass("detail");l.setText("\uc811\uae30")}},this);var k=G("BusDetailInfo");if(j.firstLastTime.length>0){b=null;
if(j.startPointId){b=jQuery('<a href="#">'+j.startPoint+"</a>");b.on("click",function(){this.openBusStop_(j.startPointId,a.id)}.bind(this))}else b=jQuery("<span>"+j.startPoint+"</span>");k.$("startPoint").append(b);b=null;if(j.turningPointId){b=jQuery('<a href="#">'+j.turningPoint+"</a>");b.on("click",function(){this.openBusStop_(j.turningPointId,a.id)}.bind(this))}else b=jQuery("<span>"+j.turningPoint+"</span>");k.$("turningPoint").append(b);c=b=true;d=null;for(e=0;e<j.firstLastTime.length;e++){d=
j.firstLastTime[e];if(!(d.startPointTime=="~"&&d.turningPointTime=="~")){k.$("firstLastList").append(jQuery("<tr><td>"+d.day+'</td><td class="startPointTime">'+d.startPointTime+'</td><td class="turningPointTime">'+d.turningPointTime+"</td></tr>"));d.startPointTime!="~"&&(c=false);d.turningPointTime!="~"&&(b=false)}}b&&c?k.$("firstLast").hide():b?k.$("firstLast").addClass("singleStartColum"):c&&k.$("firstLast").addClass("singleTurningColum")}else k.$("firstLast").hide();j.interval.length>0?j.interval.forEach(function(a){k.$("intervalList").append(jQuery("<tr><td>"+
a.day+"</td><td>"+a.peek+"</td></tr>"))}):k.$("interval").hide();this.summary_.addChild(k)}b=new g("div","infoEtc");c=new g("a","fit","\uc804\uccb4\ub178\uc120");c.onClick.add(function(){this.onViewport.notify(null)},this);b.addChild(c);c=new g("a","busFiyBtn","\ud2c0\ub9b0\uc815\ubcf4\uc2e0\uace0");c.onClick.add(this.clickFiyBtn,this);b.addChild(c);b.addChild(this.progress_=new ob("BusLineView"));this.progress_.onComplete.add(function(){this.refreshBtnClick.notify(null)},this);c=this.noRealBusBar_=
new g("div","noRealBusBar");c.addChild(new g("p","noReadlBusText",""));b.addChild(c);this.summary_.addChild(b);this.busProviderInfo_.removeAllClass();this.busProviderInfo_.addClass("busProviderInfo");if(b=X.PROVIDER_CLASS[a.providerId]){this.busProviderLogo_.getElement().className="busProviderLogo";this.busProviderLogo_.addClass(b)}var b=!(!a.vehicles||!a.vehicles.length),m=a.realTime;m?this.noRealBusBar_.removeClass("noRealBusBar-ACTIVE"):this.noRealBusBar_.addClass("noRealBusBar-ACTIVE");this.list_.removeAllChildren();
this.busStopsView_.length=0;var q=-1;a.busStops.forEach(function(b,c){var d=new Jd(b,a,this.buttonFactory_);b.virtual?d.setNonstop():d.onClick.add(function(){this.onBusLineItemClick.notify(b)},this);d.setLine(m);if(this.stopId_&&this.stopId_==b.id){d.setBoardLabel(this.busStopAction_);q=c}this.busStopsView_.push(d);this.list_.addChild(d.getPane())},this);this.order_&&(this.order_>0&&a.busStops.length>=this.order_)&&(q=this.order_-1);if(q>-1&&this.busStopsView_[q]){this.highlightView_=this.busStopsView_[q].getPane();
if(this.busStopsView_[q-3])this.scrollView_=this.busStopsView_[q-3].getPane()}this.busStopsView_.length&&this.busStopsView_[this.busStopsView_.length-1].setSpeed(0);this.setClass("BusLineView-Vehicles",b);this.progress_.setActive(m);this.position_.setVisible(b);this.busProviderInfo_.setVisible(m);m&&this.setVehicles(a.vehicles,null,a.realtimeState);this.initSpot()};kb.prototype.scrollToBusStop=function(){this.scroll_.getElement().scrollTop=this.scrollView_.position().top;this.initScrollView()};kb.prototype.highlightToBusStop=
function(){this.highlightView_.css("backgroundColor","#ffe");this.highlightView_=null};kb.prototype.setVehicles=function(a,b,c){if(a){this.position_.setVehicles(a);this.progress_.start()}else this.progress_.stop();b&&b.length==this.busStopsView_.length&&b.forEach(function(a,b){this.busStopsView_[b].setSpeed(a.nextLinkSpeed)},this);this.progress_.setType(!(!a||!a.length),c)};kb.prototype.setTiaraFlag=function(a){this.busToolTipFlag_=a};kb.prototype.setFavorite_=function(a){this.favorite_.setClass("fav-ON",
a)};kb.prototype.openBusStop_=function(a,b){Application.infoWindowManager.close();Y.find(a,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,b)}.bind(this),250)}.bind(this))};define("view/BusLineView",["factory/ButtonFactory"],R(kb));ob.prototype.start=function(){var a=new Date;this.due_=+a+6E4;var b=""+(1E6+((a.getHours()+11)%12+1)*1E4+a.getMinutes()*100+a.getSeconds());this.timestamp_.setText(a.getMonth()+
1+"/"+a.getDate()+" "+a.getHours()+":"+b.substring(3,5));this.countDown_();this.timer_.start()};ob.prototype.countDown_=function(){var a=this.due_-Date.now();if(a>0)Math.max(0,a*44/6E4);else{this.update_();++this.count_<=3&&this.onComplete.notify()}};ob.prototype.stop=function(){this.timer_&&this.timer_.stop()};ob.prototype.update_=function(){this.timer_.stop();this.setClass("BusLoadProgressBar-UPDATED",true);(new bb(2500,this.hideUpdated_.bind(this))).start()};ob.prototype.force_=function(){this.update_();
this.onComplete.notify();this.itemName_&&q.click("businfo",this.itemName_)};ob.prototype.hideUpdated_=function(){this.setClass("BusLoadProgressBar-UPDATED",false)};ob.prototype.setItemName_=function(a){return a=="BusStopInfoWindow"?"busstop_tooltip_realtime_update":a=="BusLineItemView"?"realtime_update":""};ob.prototype.setType=function(a,b){this.reload_.setVisible(true);this.timestamp_.setVisible(a);b=="ERROR"?this.nobus_.setText("\uc2e4\uc2dc\uac04 \uc2dc\uc2a4\ud15c \uc810\uac80\uc911"):this.nobus_.setText("\ud604\uc7ac \uc6b4\ud589\uc911\uc778 \ubc84\uc2a4 \uc5c6\uc74c");
this.nobus_.setVisible(!a)};Gc.prototype.setVehicles=function(a){console.assert(Array.isArray(a));this.removeAllChildren();a.map(function(a){var c=this.type_?this.type_:"",d=new g("span","icon"),e=new g("div","name"),f=new g("span","fst"),h=new g("span","lst");a.first?c="first":a.last?c="last":a.type===Tb.TYPE_SECOND_FLOOR&&(c=c+" second");var j=a.number;a.type&&(j=j+(a.type===Tb.TYPE_LOW?"\uc800\uc0c1":a.type===Tb.TYPE_BENDY?"\uad74\uc808":""));if(j){var l=new g("span","contents"),j=new g("span",
"number",j);l.addChild(j);if(a.status=="DELAY"){e.addClass("twoLines");j=new g("span","delay","(\uc815\ubcf4\uc9c0\uc5f0)");l.addChild(j)}e.addChild(f);e.addChild(l);e.addChild(h)}d.addClass(c);c=new g("div","position",[d,e]);c.setPosition(void 0,a.position*38+19|0);this.addChild(c)},this)};Gc.prototype.setType=function(a){this.type_=a};Gb.prototype.clickHandler_=function(){var a={cpg:this.dssBusStopObj.cpg+","+(this.seq+1),tab:this.dssBusStopObj.tab,in_map:this.dssBusStopObj.in_map,sorttype:this.dssBusStopObj.sorttype,
mkey:this.dssBusStopObj.mkey};a.analysis=this.dssBusStopObj.analysis;if(this.dssBusStopObj.srcid)a.srcid=this.dssBusStopObj.srcid;if(this.dssBusStopObj.cidx!=void 0)a.cidx=this.dssBusStopObj.cidx;t.logPathSearchOutWithArgs("_busstation",a);this.click_()};Gb.prototype.setSeq=function(a){this.seq=a};Gb.prototype.setRegion=function(a){this.region_.setText(a.slice(0,2))};Gb.prototype.setActive=function(a){this.selected_=!!a;this.panel_.setClass("BusStopFlagItem-ACTIVE",this.selected_);this.flagInfoLayer_.setVisible(false)};
Gb.prototype.setPointIcon=function(){};Gb.prototype.setDssBusStopObj=function(a){this.dssBusStopObj=a};Hc.prototype.clickPrint_=function(){this.onClick.notify("print")};Hc.prototype.clickFavorite_=function(){this.onClick.notify("favorite")};Hc.prototype.clickAlook_=function(){this.onClick.notify("alook")};define("view/CarRoutePaySettingView",["options"],R(function(a){function b(a){y=a;p.forEach(function(b,c){b.toggleClass("ico_choiced",a==c+1)})}function c(a){o=a;u.text(K[a-1].text());r.removeClass("opt_open");
a=e[a-1];s.html(a.date.replace(/-/g,"."));v.html(String.formatNumber(a.price)+"\uc6d0/L")}function d(){x.val(l);b(g);c(j);r.removeClass("opt_open")}var a=a.gasPrice,e=[{price:a.avgGasPrice||0,date:a.gasDate||""},{price:a.avgDieselPrice||0,date:a.dieselDate||""},{price:a.avgLpgPrice||0,date:a.lpgDate||""}],f=this.onChange=new m,g=1,j=1,l=13;if(a=jQuery.cookie("map_oil_set")){a=a.split("_");if(a.length==3){g=a[0];j=a[1];l=a[2]}}var k=e[j-1].price.toFixed(0),n=G("CarRoutePaySettingView"),a=n.$("paySettingForm"),
y=g,o=j;a.on("submit",function(){var a=+x.val();if(typeof a!="number"||!(a<=100)||!(a>0)||a.toFixed(2)!=a){x.focusAndSelect();alert("\uc62c\ubc14\ub978 \uc5f0\ube44\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.\n(100km/L \uc774\ud558 \uc18c\uc218\uc810 \ub458\uc9f8 \uc790\ub9ac\uae4c\uc9c0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4)")}else{g=y;j=o;l=x.val();k=e[j-1].price.toFixed(0);jQuery.cookie("map_oil_set",g+"_"+j+"_"+l,{expires:365});f.notify();q.click("route","go_car_payset_submit");t.log("search_path_click_configure",
null,{data1:g+","+(j==3?"lpg":j==2?"diesel":"gasoline")})}});var a=[n.$("radioCarType1"),n.$("radioCarType2"),n.$("radioCarType3"),n.$("radioCarType4"),n.$("radioCarType5"),n.$("radioCarType6")],p=[n.$("radioCarSpan1"),n.$("radioCarSpan2"),n.$("radioCarSpan3"),n.$("radioCarSpan4"),n.$("radioCarSpan5"),n.$("radioCarSpan6")],s=n.$("refuelDate"),v=n.$("refuelPrice");a.forEach(function(a,c){a.on("click",function(){b(c+1)})});var r=n.$("setRefuel"),u=n.$("setRefuelText"),a=n.$("gasoline"),w=n.$("light"),
z=n.$("lpg"),x=n.$("setMileage"),K=[a,w,z];u.on("click",function(){r.hasClass("opt_open")?r.removeClass("opt_open"):r.addClass("opt_open")});K.forEach(function(a,b){a.on("click",function(){c(b+1)})});d();this.getCarType=function(){return g};this.getOilValue=function(){return k};this.getMileage=function(){return l};this.init=function(){d()};this.getPane=function(){return n}}));define("view/CarRouteResultView",["view/StartEndPointItemView","view/CarRoutePaySettingView"],R(function(a,b){function c(a){A&&
(!A.is(a.target)&&A.has(a.target).length==0)&&d()}function d(){A.removeClass("opt_open");jQuery(document).off("mousedown touchstart",c)}function e(a){j();k=a;f(a.method,a.option);a.carRoutes.forEach(function(a,b){var c=new Kd(a);c.setCarInfo(ga,ma,ha);a.toll=c.getTollValue();c.onHover.add(function(a){if(V){c.setHover(a);v.notify({index:b,hover:a})}else if(a){if(N&&N!=c){N.setHover(false);v.notify({index:X,hover:false})}c.setHover(true);v.notify({index:b,hover:true})}if(a){N=c;X=b}});c.onDetail.add(function(a){ia=
c.checkpoints_;if(N&&N!=c){N.setHover(false);v.notify({index:X,hover:false})}na.forEach(function(c,d){b!=d?c.setDetail(false):c.setDetail(a)});r.notify({index:b,detail:a})});c.onCheckpoint.add(function(a){u.notify(a)});c.onRoadview.add(function(a){w.notify(a)});c.onAccClick.add(function(a){t.notify(a)});c.onRoadviewVideo.add(function(){z.notify()});S.addChild(c.getPanel());na.push(c);if(b==0){c.onDetail.notify(true);q.click("route","go_car_"+a.source)}})}function f(a,b){var c=0;a==T.REALTIME?b==T.OPTION_FREEWAY?
c=1:b==T.OPTION_BIKE?c=3:J.addClass("ico_choiced"):a==T.OPTIMAL?J.removeClass("ico_choiced"):a==T.SHORTEST&&(c=2);(a!=n||b!=y)&&h(c)}function h(a){n=o[a];y=p[a];if(a==0&&J.hasClass("ico_choiced"))n=T.REALTIME;L.toggle(a==0);B.text(O[a].text())}function j(){S.removeAllChildren();na.length=0;k=V=null}Q(this,g,"div","CarRouteResultView");var l=this,k=null,n=T.REALTIME,y=T.OPTION_NONE,o=[T.OPTIMAL,T.REALTIME,T.SHORTEST,T.REALTIME],p=[T.OPTION_NONE,T.OPTION_FREEWAY,T.OPTION_NONE,T.OPTION_BIKE],s=this.onChange=
new m,v=this.onItemHover=new m,r=this.onItemDetail=new m,u=this.onCheckpoint=new m,w=this.onRoadview=new m,t=this.onAccClick=new m;this.onSearchBtnClick=new m;var z=this.onRoadviewVideo=new m;this.onDestination=new m;var x=G("CarRouteResultView");l.addChild(x);var A=x.$("option"),B=x.$("optionText"),C=x.$("recomm"),F=x.$("freeway"),H=x.$("shortest"),I=x.$("bike"),L=x.$("realtime"),M=x.$("realCheckBox"),J=x.$("realCheck"),R=x.$("payset");B.on("click",function(){if(A.hasClass("opt_open"))d();else{A.addClass("opt_open");
jQuery(document).one("mousedown touchstart",c)}});R.on("click",function(){if(l.hasClass("paysetting_on"))l.removeClass("paysetting_on");else{b.init();l.addClass("paysetting_on");q.click("route","go_car_payset")}});var O=[C,F,H,I];O.forEach(function(a,b){a.on("click",function(){d();if(!Application.isLoadingViewShow){h(b);s.notify()}})});M.on("click",function(){J.hasClass("ico_choiced")?J.removeClass("ico_choiced"):J.addClass("ico_choiced");if(!Application.isLoadingViewShow){h(0);s.notify()}});C=b.getPane();
x.append(C);var N=null,X=0,na=[],V=null,S=new g("ul","list");l.addChild(S);var W=new g("p","daumNotice HIDDEN");W.addChild(new g("span","notice_icon","\uc544\uc774\ucf58"));var Y=new g("span","notice_text");W.addChild(Y);this.addChild(W);x=new g("div","info_fixroute");this.addChild(x);x.addChild(new g("strong","tit_carsource","\uacbd\ub85c \uc815\ubcf4 \uc81c\uacf5 : \uce74\uce74\uc624\ub0b4\ube44"));C=new g("a","ico_place link_fixroute");C.addText("\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0");x.addChild(C);
C.onClick.add(function(){if(k&&k.carRoutes){var a={routeType:"car",searchInfo:{mode:"car",searchMode:n,option:y},carRoutes:[],isSelectRoute:false};jQuery(k.carRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=na[b].isDetailOpen();if(d.isDetailOpen)a.isSelectRoute=true;a.carRoutes.push(d)});Application.fiyFrameController.open({type:"route",rawInfo:a,channel:"ROUTE_LIST_BOT"});q.click("route","go_car_fiy")}},this);var ia=[],ga=b.getCarType(),ma=b.getOilValue(),ha=b.getMileage();
b.onChange.add(function(){ga=b.getCarType();ma=b.getOilValue();ha=b.getMileage();l.removeClass("paysetting_on");na.forEach(function(a,b){a.setCarInfo(ga,ma,ha);k.carRoutes[b].toll=a.getTollValue()})});this.setOptionPanel=function(a,b){f(a,b)};this.setData=function(a){e(a)};this.getMode=function(){return n};this.getOption=function(){return y};this.setOption=function(a){y=a};this.setIndex=function(a){V&&V.setIndex(a)};this.clickableRoadviewVideo=function(){na[0]&&na[0].clickableRoadviewVideo()};this.initDetailedItem=
function(){V&&V.inActiveSeqView();V=null};this.setDetailedItem=function(a){V&&V.inActiveSeqView();V=null;V=na[a]};this.clear=function(){j()};this.getCheckpoints=function(){return ia};this.initHover=function(){if(na[0]){na[0].setHover(true);N=na[0];X=0}};this.setDaumNotice=function(a){a&&Y.setHTML("\uacbd\uc6b0\uc5d0 \ub530\ub77c \ud55c\uac00\uc9c0 \uacbd\ub85c\ub9cc<br/>\uc81c\uacf5\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");W.setVisible(a)};this.setPartialResultNotice=function(a){a&&Y.setHTML("\uacbd\uc6b0\uc5d0 \ub530\ub77c \ud55c\uac00\uc9c0 \uacbd\ub85c\ub9cc<br/>\uc81c\uacf5\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");
W.setVisible(a)};this.setNoResult=function(a){if(a){l.addClass("CarRouteResultView-NORESULT");l.removeClass("HIDDEN")}else l.removeClass("CarRouteResultView-NORESULT")}}));"use strict";define("view/FavoriteConnectView",["jquery"],function(a){function b(a,b){w.toggleClass("HIDDEN",a!=na);t.toggleClass("HIDDEN",a!=V);z.toggleClass("HIDDEN",a!=T);x.toggleClass("HIDDEN",a!=S);C.toggleClass("HIDDEN",a!=Y);E.toggleClass("HIDDEN",true);if(a==ia){Q={};c(function(){E.toggleClass("HIDDEN",false)})}else a==
S&&A.Application&&Application.favoriteController.reset();ga=a;l();b&&k()}function c(e){B.isKakaoUser()&&f(function(f){var g=G("FavoriteConnectSyncView",f.kakao),f=G("FavoriteConnectSyncView",f.daum);F.html(g.html());H.html(f.html());H.find(".box_bookmark").scrollTop($);$=0;u.$("disconnect");B.setBusstopLines(H,Q.daum);B.setBusstopLines(F,Q.kakao);E.off().on("click",".btn_disconnect",function(a){a.preventDefault();b(T,true)}).on("click",".btn_add",function(b){b.preventDefault();var b=a(b.currentTarget).closest("li"),
e=b.data(),f=null;Q[e.service].some(function(a){var b=d(a),c=d(e);if(b===c){f=a;return true}});var g;if(f){g={seq:f.seq};b.find(".btn_add").hide();$=H.find(".box_bookmark").scrollTop();v.notify({fav:g,callback:function(){c()}})}}).on("click",".btn_delete",function(b){b.preventDefault();var b=a(b.currentTarget).closest("li"),e=b.data(),f=null;Q[e.service].some(function(a){var b=d(a),c=d(e);if(b===c){f=a;return true}});var g;if(f){g={seq:f.seq};b.find(".btn_delete").hide();r.notify({fav:g,callback:function(){c()}})}});
e&&typeof e==="function"&&e()})}function d(a){var b=a.type+a.key;a.type==="point"&&(b=b+(a.x+""+a.y));return b.toLowerCase()}function e(b){var c=B.findAllWithOther,e=a.extend([],Q.daum),f=false;if(e.length!==0){c=B.findAll;f=true}c(function(c){var g=c;f&&(g={kakao:{list:c.list},daum:{list:e}});ka=[];var h=[];["kakao","daum"].forEach(function(b){var c=g[b];Q[b]=[];c.list.forEach(function(c){var e=d(c);a.inArray(e,h)===-1?h.push(e):ka.push(e);Q[b].push(c)})});b&&typeof b==="function"&&b(Q)},{sort:B.CREATE_AT})}
function f(b){e(function(c){var e={place:"\uc8fc\uc18c/\uc7a5\uc18c",route:"\uae38\ucc3e\uae30",bus:"\ubc84\uc2a4",roadview:"\ub85c\ub4dc\ubdf0"},f={};["kakao","daum"].forEach(function(b){var g=c[b],h={info:{},count:{total:0},data:[]};h.info=b==="kakao"?{isKakao:true,service:"kakao",title:"\uce74\uce74\uc624\ub9f5"}:{service:"daum",title:"Daum\uc9c0\ub3c4"};var j,k={};for(j in e){h.count[j]=0;k[j]=[]}g.forEach(function(c,e){var f;switch(c.type){case "place":case "address":case "point":case "subwaystation":f=
"place";break;case "route_car":case "route_pubtrans":case "route_walk":case "route_subway":f="route";break;case "busstop":case "busline":f="bus";break;case "roadview":case "storeview":f="roadview";break;default:f=null}if(j=f){f=d(c);f=b==="daum"&&a.inArray(f,ka)!==-1;h.count.total++;h.count[j]++;B.updateViewDataFromFav(c);k[j].push(a.extend({isDup:f,idx:e},c))}});for(j in e){g={cateType:j,category:e[j],list:k[j],totalCount:h.count[j]};g["is"+j]=true;if(j=="roadview")g.lastClass="lst";h.data.push(g)}f[b]=
h});b&&typeof b==="function"&&b(f)})}function g(){var a={},b;for(b in ma)ma.hasOwnProperty(b)&&(a[ma[b]]=0);b=0;for(var c;c=ha[b];b++)a[c.state]++;return a}function j(a){var c=ha[a],d=a+1,e;if(c)if(c.state===ma.READY){c.state=ma.REQUEST;v.notify({fav:c.copyFav,callback:function(a){a=a.text("status.code");if(a===B.RESULT_CODE.SUCCESS){c.state=ma.SUCCESS;setTimeout(function(){j(d)},0)}else if(a===B.RESULT_CODE.OVER_MAX_COUNT){e=g();c.state=ma.LIMIT;x.find(".ico_interlock, .tit_interlock").addClass("HIDDEN").end().find(".copy_cnt").text(e[ma.SUCCESS]).end().find(".ico_complete, .limit_txt, .layer_foot button").removeClass("HIDDEN");
b(S,true)}else{c.state=ma.FAIL;setTimeout(function(){j(d)},0)}}})}else setTimeout(function(){j(d)},0);else{e=g();x.find(".ico_interlock, .tit_interlock").addClass("HIDDEN").end().find(".copy_cnt").text(e[ma.SUCCESS]).end().find(".ico_complete, .complate_txt, .layer_foot button").removeClass("HIDDEN");b(S,true)}}function l(){var a="-225px",b="-251px";if(ga==na)b="-151px";else if(ga==V)b="-152px";else if(ga==T)b="-168px";else if(ga==S)b="-117px";else if(ga==Y)b="-136px";else if(ga==ia){a="-496px";b=
"-330px"}u.css({marginLeft:a,marginTop:b})}function k(){u.show();I.show();I.on("click",n)}function n(){if(a(".ico_loading").hasClass("HIDDEN")){u.hide();I.hide();I.off("click",n)}}var q=new m,o=new m,p=new m,s=new m,v=new m,r=new m,u=G("FavoriteConnectView").appendTo(a("body")),w=u.$("accountLayer"),t=u.$("favoriteLayer"),z=u.$("disconnectLayer"),x=u.$("completeLayer"),C=u.$("failLayer"),E=u.$("syncLayer"),H=u.$("daumBox"),F=u.$("kakaoBox"),I=a("#dimmedLayer"),L=u.$("accountOK"),M=u.$("favoriteOK"),
R=u.$("disconnectOK"),J=u.$("completeOK"),O=u.$("failOK"),N=u.$("disconnectCancel"),X=u.$("daumAccount"),W=u.$("kakaoAccount"),na="account",V="favorite",T="disconnect",S="complete",Y="fail",ia="sync",ga=na,ma={READY:"ready",REQUEST:"request",SUCCESS:"success",LIMIT:"limit",FAIL:"fail"},ha=[],ka=[],Q={},$=0;u.on("click",".btn_close, .btn_cancel, .action_close",n);L.click(function(){o.notify()});M.click(function(){p.notify()});R.click(function(){s.notify();n()});O.click(n);J.click(function(a){a.preventDefault();
a.stopPropagation();b(ia,true)});N.click(function(a){a.preventDefault();a.stopPropagation();b(ia,true)});b(na);return{show:k,hide:n,setLayerMode:b,setEmail:function(a,b){X.text(a);W.text(b)},copyAll:function(){e(function(c){ha=[];c.daum.forEach(function(b){var c=d(b);a.inArray(c,ka)===-1&&ha.unshift({copyFav:{seq:b.seq},state:ma.READY})});c="";if(ha.length!==0){c=".ico_loading, .connecting_txt";x.find(".layer_foot button").addClass("HIDDEN")}else c=".ico_complete, .complate_none_txt";x.find(".ico_interlock, .tit_interlock").addClass("HIDDEN").end().find(c).removeClass("HIDDEN");
b(S,true);ha.length!==0&&j(0)})},onSyncFavorite:q,onConnect:o,onFavorite:p,onDisconnect:s,onCopy:v,onRemove:r,ACCOUNT_LAYER:na,FAVORITE_LAYER:V,DISCONNECT_LAYER:T,FAIL_LAYER:Y,SYNC_LAYER:ia}});define("view/FavoriteListView",[],R(function(){function a(a){if(a.type!="busstopline"){a=new ue(O,a);a.onClick.add(b);a.onModify.add(c);a.onRemove.add(d);a.onRegister.add(e);a.onClickInvalid.add(f);a.onRegistStatic.add(k)}}function b(a){o.notify(a)}function c(a){s.notify(a)}function d(a){p.notify(a)}function e(a){v.notify(a)}
function f(a){var b=a.position;N.offset({top:b.top-81,left:b.left+168});N.show();N.find(".closeNDelete").off().on("click",function(){p.notify({id:a.id});N.offset({top:0,left:0});N.hide()});onToggle.add(function(a){if(!a){N.offset({top:0,left:0});N.hide()}})}function g(a){r.notify(a)}function j(a){u.notify(a)}function l(a){w.notify(a)}function k(a){z.notify(a)}var n=this.onClickTab=new m,q=this.onClickSort=new m,o=this.onClickItem=new m,p=this.onRemoveItem=new m,s=this.onEditItem=new m,v=this.onRegisterItem=
new m,r=this.onStaticRegistClick=new m,u=this.onStaticRemoveClick=new m,w=this.onStaticItemClick=new m,t=this.onConnectClick=new m,z=this.onRegistStaticFromFavorite=new m,x=jQuery("#info\\.favorite"),A=x.$("connectInfo"),C=x.$("btnConnect"),G=x.$("staticList"),F=new Nd(G,{staticMode:"home",onRegistClick:g,onRemoveClick:j,onItemClick:l}),H=new Nd(G,{staticMode:"company",onRegistClick:g,onRemoveClick:j,onItemClick:l}),I=x.$("filter").find("li");x.$("total");var L=x.$("recent"),M=x.$("name");x.$("info");
var J=x.$("listNone");x.$("listInfo");var R=x.$("listWrap"),O=x.$("list");jQuery("#info\\.header\\.favorite");var N=jQuery("#validPlaceInfo"),S=x.$("listTitleName");jQuery(document).on("mousedown touchstart",function(a){(a=jQuery(a.target))&&(a.parent()&&a.parent().data("id")!="options")&&x.find(".open_layer").removeClass("open_layer")});jQuery(I).click(function(){I.removeClass("on");jQuery(this).addClass("on");var a=I.index(this);S.text(["\uc804\uccb4","\uc8fc\uc18c/\uc7a5\uc18c","\uae47\ucc3e\uae30",
"\ubc84\uc2a4","\ub85c\ub4dc\ubdf0"][a]+" \uacb0\uacfc");n.notify(a)});L.click(function(){M.removeClass("on");L.addClass("on");q.notify(B.CREATE_AT)});M.click(function(){L.removeClass("on");M.addClass("on");q.notify(B.DISPLAY1)});C.click(function(){t.notify()});this.setStaticData=function(a,b){a=="home"?F.setData(b):a=="company"&&H.setData(b)};this.hasStaticData=function(a){if(a=="home")return F.hasData();if(a=="company")return H.hasData()};this.setList=function(b){O.children().remove();if(b.length){J.hide();
R.show();b.map(a);B.setBusstopLines(O,b,true);O.on("click",".link_busline",function(a){a.preventDefault();a=jQuery(a.currentTarget).data();o.notify({type:"busstopline",key:a.stopid+"@"+a.lineid})})}else{J.show();R.hide()}};this.changeConnectView=function(){var a=!B.isKakaoUser(),b="\uce74\uce74\uc624\ub9f5\uc5d0 \uc5f0\ub3d9\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.";a||(b="\uce74\uce74\uc624\ub9f5 \uc990\uaca8\ucc3e\uae30 \uc5f0\ub3d9 \uc911");A.toggleClass("interlock_disconnect",!a);A.find(".txt_linkage").text(b)}}));
define("view/FavoriteManageView",["jquery"],function(a){function b(b,c){ga=b;var e=a.extend(true,{},b),f={};if(e.route_form){if(typeof e.route_form=="string")e.route_form=JSON.parse(e.route_form);B.updateViewDataFromFav(e);f.isRouteType=true;f.routeList=[];a(e.route_form).each(function(a,b){f.routeList.push({iconClass:b.iconClass,iconName:b.iconName,name:b.name})})}else f.isRouteType=false;f.originalName=b.display1;N.text("");G("FavoriteOriginalItemView",f).appendTo(N);F.removeClass("choiced_result");
L.show();if(b.type=="point"&&!b.display1){L.hide();M.addClass("choiced_result");J.val("");O.hide()}else if(c&&b.display1){M.addClass("choiced_result");J.val(b.display1);O.hide()}else{L.addClass("choiced_result");J.val("");O.show()}c&&d(b)}function c(a,b){var c=N.find(".original_name"),d=c.text(),e=B.getFavDisplays(a,b);F.removeClass("choiced_result");if(a=="point"&&!b.key){L.hide();M.addClass("choiced_result")}else if(d!=e.name){c.text(e.name);M.addClass("choiced_result")}else{J.val("");L.addClass("choiced_result")}}
function d(a){var b=null;if(a.type=="busstop"){b=a.key;Y.find(b,function(b){b.id&&c(a.type,b)})}else if(a.type=="place"){b=a.key;ja.findPlace(b,function(b){b&&c(a.type,b)})}else if(a.type=="subwaystation"){b=a.key;require("server").stationInfo(b,function(b){if(b.text("subwayId")){b=new Ea(b);c(a.type,b)}})}else if(a.type=="busline"){b=a.key;X.findBusLine(b,function(b){b.id&&c(a.type,b)})}else a.type=="address"||a.type=="point"?require("server").getJibunShape({x:a.x,y:a.y},function(b){var d=new Ca(b);
d.zonenum=b.text("new_zipcode");d.oldname=b.text("old.name");d.otherName=b.text("old.name");d.key=b.text("docid");c(a.type,d)}):a.type=="roadview"?require("server").roadviewSmart({ID:a.key,PX:a.x,PY:a.y},function(b){var d=b.number("street_view.0.cnt"),b=b.object("street_view.1.street").object("value.0"),e=b.text("addr");b.text("area_type")=="station"?require("server").roadviewStation({SKETCHID:b.text("area_id"),PX:b.text("sketchx"),PY:b.text("sketchy"),RAD:110},function(b){d=b.number("street_view.0.cnt");
if(d>0){b=b.object("street_view.1.street.1.spot");e=b.text("value.0.dir")||b.text("spot.dir")||e;c(a.type,{name:e})}}):c(a.type,{name:e})}):a.type=="storeview"?require("server").storeviewData(a.key,function(b){c(a.type,{name:b.text("storeview.placeFullName")})}):a.route_form&&c(a.type,a.route_form)}function e(a){p.toggleClass("HIDDEN",a!=Q&&a!=T);s.toggleClass("HIDDEN",a!=V);v.toggleClass("HIDDEN",a!=W);r.toggleClass("HIDDEN",a!=$);u.toggleClass("HIDDEN",a!=aa);a==Q?I.text("\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d\ud558\uae30"):
a==T&&I.text("\uc990\uaca8\ucc3e\uae30 \uc774\ub984 \ud3b8\uc9d1");ia=a;a="-161px";ia==Q?a="-161px":ia==T?a="-102px":ia==V?a="-95px":ia==W?a="-195px":ia==$?a="-87px":ia==aa&&(a="-116px");o.css({marginLeft:"-225px",marginTop:a})}function f(){var a=o.height();a>0&&o.css({marginTop:"-"+parseInt((a+1)/2)+"px"})}function g(){o.show();t.show();t.on("click",j)}function j(){o.hide();t.hide();t.off("click",j)}var l=new m,k=new m,n=new m,q=new m,o=G("FavoriteManageView").appendTo(a("body")),p=o.$("addLayer"),
s=o.$("removeLayer"),v=o.$("addHomeLayer"),r=o.$("removeHomeLayer"),u=o.$("resultLayer"),w=o.$("registerList"),t=a("#dimmedLayer"),x=o.$("addOK"),z=o.$("removeOK"),C=o.$("addHomeOK"),E=o.$("removeHomeOK"),H=o.$("resultOK"),F=o.find(".name_select_box"),I=o.find(".layer_title"),L=o.find(".favorite_origin_wrap"),M=o.find(".favorite_custom_wrap"),N=o.find(".original_data_view"),J=o.find("#editMyfavor"),O=o.find(".lab_region"),R=o.find(".result_type"),S=o.find("ico_interlock"),Q="add",T="edit",V="remove",
W="addHome",$="removeHome",aa="result",ia=Q,ga=null;o.find(".btn_close").click(j);o.find(".btn_cancel").click(j);x.click(function(){if(o.find(".favorite_custom_wrap").hasClass("choiced_result")){var b=a.trim(J.val());if(b){var c=RegExp("[\ud800-\udbff][\udc00-\udfff]|[\ud8c0-\udabf][\udc00-\udfff]|[\udac0-\udb7f][\udc00-\udfff]|[\udb80-\udbbf][\udc00-\udfff]|[\udbc0-\udbff][\udc00-\udfff]","g");if(c.test(b)){alert("\ud5c8\uc6a9\ud560 \uc218 \uc5c6\ub294 \ubb38\uc790\uac00 \ud3ec\ud568\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");
J.val(b.replace(c,""))}else if(b.length>200){alert("200\uc790 \uc774\ud558\uc758 \uc990\uaca8\ucc3e\uae30 \uc774\ub984\uc73c\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694.");J.val(b.substr(0,200))}else{ga.display1=b;ia==Q?l.notify(ga):k.notify(ga);j()}}else alert("\uc990\uaca8\ucc3e\uae30 \uc774\ub984\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.")}else{ga.display1=N.find(".original_name").text();ia==Q?l.notify(ga):k.notify(ga);j()}});z.click(function(){n.notify(ga);j()});C.click(function(){var b=w.find(".choiced_result"),
c=w.find("li"),d=null;if(b.length>0){c.each(function(b,c){a(c).hasClass("choiced_result")&&(d=ga.selectedList[b])});q.notify({removeItem:{fid:d.seq},addItem:ga.addData});j()}else A.alert("\uc81c\uac70\ud560 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.")});E.click(j);H.click(j);F.find(".choice_address").click(function(b){b.preventDefault();F.removeClass("choiced_result");a(b.currentTarget).parent().addClass("choiced_result")});J.on("focus",function(){a(".favorite_custom_wrap .choice_address").trigger("click");
O.hide()});J.on("blur",function(){a.trim(J.val()).length==0&&O.show()});w.on("click","li",function(a){a.preventDefault();w.find("li").removeClass("choiced_result");jQuery(a.currentTarget).addClass("choiced_result")});e(Q);return{show:g,hide:j,setLayerMode:e,setData:b,showAddView:function(a){b(a);e(Q);g();f();x.focus()},showRemoveView:function(a){ga=a;e(V);g();z.focus()},showAddHomeView:function(b){if(b){ga=b;w.empty();a(b.selectedList).each(function(a,b){G("FavoriteStaticSearchItemView",{inputName:"addHome",
idx:a,nameDisp:b.display1,secondDisp:b.display2}).appendTo(w)});w.find("li:first").addClass("choiced_result");e(W);g();v.find(".btn_cancel").focus()}},showEditView:function(a){b(a,true);e(T);g();f();x.focus()},showResultView:function(a,b){var c="\ub4f1\ub85d\uc774";a=="edit"?c="\uc218\uc815\uc774":a=="remove"&&(c="\uc0ad\uc81c\uac00");e(aa);R.text(c);S.toggleClass("ico_nomember",!b).toggleClass("ico_complete",b);g();f();H.focus()},onAddClick:l,onEditClick:k,onRemoveClick:n,onRegisterSelected:q,ADD_LAYER:Q,
EDIT_LAYER:T,REMOVE_LAYER:V,ADD_HOME_LAYER:W,REMOVE_HOME_LAYER:$,RESULT_LAYER:aa}});"use strict";define("view/FavoriteStaticManageView",["jquery"],function(a){function b(a){T=a;if(T=="home"){o.find(".type_name").text("\uc9d1");o.find(".type_name2").text("\uc9d1\uc73c");o.find(".type_name3").text("\uc9d1\uc744")}else{o.find(".type_name").text("\ud68c\uc0ac");o.find(".type_name2").text("\ud68c\uc0ac");o.find(".type_name3").text("\ud68c\uc0ac\ub97c")}}function c(a){p.toggleClass("HIDDEN",a!=M);s.toggleClass("HIDDEN",
a!=N);v.toggleClass("HIDDEN",a!=J);r.toggleClass("HIDDEN",a!=O);t.val("");j(false);R=a;g()}function d(b){b.preventDefault;t.blur();b={q:a.trim(t.val()),msFlag:"A",sort:0,gb:"R"};E.text("");require("server").search(b,e);return false}function e(b){var c=b.raw();Q=[];var d=1;j(true);a(c.address).each(function(a,b){var e={type:"address"};e.id=b.docid;e.nameOrigin=b.addr;e.nameDisp=b.addr.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>");e.inputName="searchAddress";e.idx=d;e.x=b.x;e.y=
b.y;e.origin=b;d++;Q.push(e)});a(c.place).each(function(a,b){var e={type:"place"};e.id=b.confirmid;e.nameOrigin=b.name;e.nameDisp=b.name.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>");e.inputName="searchAddress";e.idx=d;e.x=b.x;e.y=b.y;e.origin=b;if(b.new_address_disp)e.secondDisp=b.new_address_disp.split("|").join(" ");else if(b.address_disp)e.secondDisp=b.address_disp.split("|").join(" ");d++;Q.push(e)});a(c.busStop).each(function(a,b){var e={type:"busstop"};e.id=b.DOCID;e.nameOrigin=
b.BUSSTOP_NAME;e.nameDisp=b.BUSSTOP_NAME.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>")+" \uc815\ub958\uc7a5";e.idx=d;e.x=b.x;e.y=b.y;e.origin=b;e.secondDisp=b.STOP_ID;d++;Q.push(e)});Q.length>0?a(Q).each(function(a,b){G("FavoriteStaticSearchItemView",b).appendTo(E)}):a('<li class="search_no_result"><span>\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span></li>').appendTo(E);E.scrollTop(0)}function f(){n.notify({staticMode:T,data:S})}function g(){var a="-80px";R==
O?a="-116px":R==J&&(a="-87px");R==N&&w.hasClass("result_location")&&(a="-270px");o.css({marginLeft:"-225px",marginTop:a})}function j(a){w.toggleClass("result_location",a===true);g()}function l(a){a&&c(a);o.show();u.show();u.on("click",k)}function k(){o.hide();u.hide();u.off("click",k)}var n=new m,q=new m,o=G("FavoriteStaticManageView").appendTo(a("body")),p=o.$("needConnectLayer"),s=o.$("searchLayer"),v=o.$("confirmLayer"),r=o.$("resultLayer"),u=a("#dimmedLayer"),w=o.$("searchBody"),t=o.$("favoriteSearchQuery"),
x=o.$("findBtn"),z=t.parent(),C=z.find(".lab_region"),E=o.$("resultList"),H=o.$("connectOK"),F=o.$("searchOK"),I=o.$("confirmOK"),L=o.$("resultOK"),M="needConnect",N="search",J="confirm",O="result",R=N,Q=[],T="home",S=null;o.find(".btn_close").click(k);o.find(".btn_cancel").click(k);L.click(k);t.on("focus",function(){z.addClass("on_favorite");C.hide()});t.on("blur",function(){z.removeClass("on_favorite");a.trim(t.val()).length==0&&C.show()});x.on("click",d);w.on("submit",d);E.on("click","li",function(b){var c=
a(b.currentTarget);b.preventDefault();if(!c.hasClass("search_no_result")){E.find("li").removeClass("choiced_result");c.addClass("choiced_result")}});H.on("click",function(){k();q.notify()});I.on("click",function(){if(S)f(S);else{c(N);t.focus()}});F.on("click",function(){var b=E.find(".choiced_result"),d=E.find("li"),e=null;if(b.length>0){d.each(function(b,c){a(c).hasClass("choiced_result")&&(e=Q[b])});n.notify({staticMode:T,data:e});c(O)}else A.alert("\uc6d0\ud558\uc2dc\ub294 \uc7a5\uc18c\ub098 \uc8fc\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")});
b("home");c(N);return{show:l,hide:k,showAddView:function(a,b){S=b||null;B.isKakaoUser()?a?c(J):S?f(S):c(N):c(M);l();R==N?t.focus():I.focus()},showResultView:function(){c(O);l();L.focus()},setIdentity:b,onUpdate:n,onConnect:q,NEED_CONNECT_LAYER:M,SEARCH_LAYER:N,CONFIRM_LAYER:J,RESULT_LAYER:O}});"use strict";Qa.HORIZON="FlagItemInfoLayer-horizon";Qa.Origin="FlagItemInfoLayer-Origin";Qa.Dest="FlagItemInfoLayer-Dest";Qa.Via="FlagItemInfoLayer-Via";Pa.ORIGIN="http://t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point1.png";
Pa.VIA="http://t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point3.png";Pa.DEST="http://t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point2.png";Pa.prototype.coords_=new daum.maps.Coords(0,0);Pa.prototype.setCoords=function(a){this.coords_=a};Pa.prototype.getCoords=function(){return this.coords_};Pa.active=null;Pa.prototype.setLabel=function(){if(Pa.active){Pa.active.setPointIcon(false);Pa.active.name_.setActive(false)}Pa.active=this;this.setPointIcon(true);this.name_.setActive(true)};
Pa.prototype.click_=function(){this.doAction_()};"use strict";define("view/FlashPlayerDownloadView",["jquery","dom/forefront"],function(a,b){var c=a('<div class="FlashPlayerDownload"><span class="close">\ub2eb\uae30</span><a class="download" href="http://get.adobe.com/flashplayer/" target=_blank>\ucd5c\uc2e0\ubc84\uc804 \ub2e4\uc6b4\ub85c\ub4dc</a><a class="helplink" href="http://kakaomap.tistory.com/110" target=_blank>\uc124\uce58\uc644\ub8cc \ud6c4\uc5d0\ub3c4 \uacc4\uc18d \uc124\uce58\ubb38\uad6c\uac00 \ub728\ub294 \uacbd\uc6b0</a></div>');
return{show:function(){b.create(c,{dimmed:true,closer:".close"})}}});H.DEFAULT_WIDTH=226;H.DEFAULT_HEIGHT=226;H.DRAGBTN_SIZE=18;H.FRAGMENT_SIZE=7;H.MINWIDTH=105;H.MINHEIGHT=105;H.prototype.prevWidth=H.DEFAULT_WIDTH;H.prototype.prevHeight=H.DEFAULT_HEIGHT;H.prototype.mode_=null;H.prototype.expanded_=!0;H.NORMAL="NORMAL";H.HORIZON="HORIZON";H.leftBorderWidth=8;H.topBorderWidth=4;H.prototype.show=function(){if(!(this.mode_==H.NORMAL||this.mode_==H.HORIZON)){this.panel_.show();this.frame_.show();this.dragBtn.show();
this.toggleBtn.show();this.fragment.hide();this.setMaxSize()}};H.prototype.toggle=function(){if(this.expanded_){this.collapse();q.click("roadview","map_hide")}else{this.expand();q.click("roadview","map_bigger")}};H.prototype.expand=function(){if(!this.toggleTimer&&!this.expanded_){this.expanded_=true;var a=0;this.toggleTimer=new bb(15,function(){if(a>15){this.toggleTimer.stop();this.toggleTimer=null}else{var b=(Math.sin(Math.PI*(++a/15-0.5))+1)/2,c=this.prevHeight*b;if(this.mode_!=H.HORIZON)this.width=
this.prevWidth*b;this.height=c;this.setFramePosition()}}.bind(this),true);this.toggleTimer.start();this.toggleBtn.removeClass("openToggle")}};H.prototype.collapse=function(){if(!this.toggleTimer&&this.expanded_){this.expanded_=false;var a=0;if(this.mode_!=H.HORIZON)this.prevWidth=this.width;this.prevHeight=this.height;this.toggleTimer=new bb(15,function(){if(a>15){this.toggleTimer.stop();this.toggleTimer=null}else{var b=(Math.sin(Math.PI*(++a/15-0.5))+1)/2,c=this.height*b;if(this.mode_!=H.HORIZON)this.width=
this.width+this.width*b*-1;this.height=this.height+c*-1;this.setFramePosition()}}.bind(this),true);this.toggleTimer.start();this.toggleBtn.addClass("openToggle")}};H.prototype.changeMode=function(){if(this.mode_==H.HORIZON){this.setNormal();q.click("roadview","map_bigger_normal")}else{this.setHorizon();q.click("roadview","map_bigger_horizontal")}};H.prototype.setHorizon=function(){if(this.mode_!=H.HORIZON){this.mode_=H.HORIZON;this.dragBtn.hide();this.fragment.show();this.width=this.getViewSize().width;
this.height=parseInt(this.getViewSize().height*0.4);H.topBorderWidth=7;this.setFramePosition();this.horizontalBtn.addClass("rowResize");this.verticalBtn.addClass("expanded")}};H.prototype.setNormal=function(){this.initialize();this.mode_=H.NORMAL;this.width=H.DEFAULT_WIDTH;this.height=H.DEFAULT_HEIGHT;this.dragBtn.show();this.fragment.hide();H.topBorderWidth=4;this.setFramePosition();this.horizontalBtn.removeClass("rowResize");this.verticalBtn.removeClass("expanded")};H.prototype.dragHorizonBtn=function(a){this.height=
Math.max(H.MINHEIGHT,Math.min(this.maxHeight,this.desiredHeight=this.desiredHeight-a.dy));this.setFramePosition()};H.prototype.onFrameDrag_=function(a){this.width=Math.max(H.MINWIDTH,Math.min(this.maxWidth,this.desiredWidth=this.desiredWidth+a.dx));this.height=Math.max(H.MINHEIGHT,Math.min(this.maxHeight,this.desiredHeight=this.desiredHeight-a.dy));this.setFramePosition()};H.prototype.setFramePosition=function(){this.setBottom(this.horizontalBtn,this.height-H.topBorderWidth);this.setWidth(this.horizontalBtn,
this.width);this.setLeft(this.verticalBtn,this.width-H.leftBorderWidth);this.setHeight(this.verticalBtn,this.height);this.setLeft(this.dragBtn,this.width-H.DRAGBTN_SIZE);this.setBottom(this.dragBtn,this.height-H.DRAGBTN_SIZE);this.setLeft(this.fragment,this.width-H.FRAGMENT_SIZE);this.setBottom(this.fragment,this.height-H.FRAGMENT_SIZE);var a=this.width,b=this.height,c=this.width-H.leftBorderWidth,d=this.height-H.topBorderWidth;if(this.mode_!=null){c=Math.max(1,c);d=Math.max(0,d);a=Math.max(1,a);
b=Math.max(1,b)}this.onResize.notify({innerWidth:c,innerHeight:d,outerWidth:a,outerHeight:b,mode:this.mode_})};H.prototype.initialize=function(){this.prevWidth=H.DEFAULT_WIDTH;this.prevHeight=H.DEFAULT_HEIGHT;this.width=H.DEFAULT_WIDTH;this.height=H.DEFAULT_HEIGHT;this.mode_=null;this.expanded_=true;this.toggleBtn.hasClass("openToggle")&&this.toggleBtn.removeClass("openToggle")};H.prototype.setBottom=function(a,b){a.getElement().style.top="auto";a.getElement().style.bottom=b+"px";return a};H.prototype.setWidth=
function(a,b){a.getElement().style.width=b+"px";return a};H.prototype.setLeft=function(a,b){a.getElement().style.right="auto";a.getElement().style.left=b+"px";return a};H.prototype.setHeight=function(a,b){a.getElement().style.height=b+"px";return a};H.prototype.setMaxSize=function(a,b){this.maxWidth=a;this.maxHeight=b};H.prototype.getViewSize=function(){return g.$("view").getSize()};H.prototype.keepHorizonSize=function(){this.width=this.getViewSize().width;this.setFramePosition()};H.prototype.relayout=
function(){this.width=this.getViewSize().width;this.setWidth(this.horizontalBtn,this.width);this.setLeft(this.verticalBtn,this.width-H.leftBorderWidth)};H.prototype.showNormal=function(){this.show();this.setNormal()};H.prototype.showHorizon=function(){this.show();this.setHorizon()};H.prototype.getMode=function(){return this.mode_};H.prototype.getVisible=function(){return this.mode_==null?false:true};H.prototype.isExpanded=function(){return this.expanded_};define("view/FrameDecorator",[],R(H));"use strict";
"use strict";Va.prototype.setPanel=function(){this.removeAllChildren();for(var a=0;a<this.numberArr.length;a++){var b=new g("span");this.numberArr[a]=="."?b.addClass("dot"):b.addClass(this.numType+this.numberArr[a]);this.addChild(b)}};Mb.prototype.show=function(){this.panel_.show()};Mb.prototype.show=function(){this.panel_.show();this.options_.show()};Mb.prototype.hide=function(){this.panel_.hide()};Mb.prototype.showOptions=function(a){var b=0;for(this.text_=a;b<a.length;++b){var c=a[b],d=this.buttons_[b];
if(!d){d=new g("li","",new g("a"));d.addClass("option"+b);this.optionRadioGroup_.add(d);this.options_.addChild(d);this.buttons_[b]=d}d.show();d.toPane().find("a").text(c);d.setClass("option"+b+"-ACTIVE",b==0)}for(;b<this.buttons_.length;++b)this.buttons_[b].hide();this.panel_.show()};Mb.prototype.showTextview=function(){};Mb.prototype.setOption=function(a){this.buttons_.forEach(function(b,c){b.setClass("option"+c+"-ACTIVE",c==a)});jQuery("#info\\.main\\.header\\.activeOption").text(this.text_[a]);
a!=3&&g.$("info.busTab").hide()};Zb.prototype.setSeq=function(a){this.seq_=a;this.panel_.addClass("IssuePlaceItem-icon_a")};Zb.prototype.setCoords=function(a){this.coords_=a};Zb.prototype.setName=function(a){this.name_.setText(a)};Zb.prototype.setImage=function(a){if(a)this.img_.getElement().src=a};Zb.prototype.setDesc=function(a){this.desc_.setText(a)};xc.prototype.doAction_=function(){this.deactivateRoadview();this.onAction.notify(this)};xc.prototype.setName=function(a,b,c){var d="",c=c||2147483647;
this.name_.setTitle(a);if(a.length>c){--c;d=".."}if(b){var e=a.toLowerCase().indexOf(b.toLowerCase());if(e>=0){b=[e,e+b.length,a.length,c,c,c];b.sort(function(a,b){return a-b});this.name_.setText(a.substring(0,b[0]));c=new g("strong");c.setText(a.substring(b[0],b[1]));this.name_.addChild(c);this.name_.addText(a.substring(b[1],b[2])+d);return}}this.name_.setText(a.substring(0,c)+d)};xc.prototype.deactivateRoadview=function(){Application.roadviewController.getActive()&&Application.roadviewController.close()};
Ic.air={cate1:{name:"\ud1b5\ud569\ub300\uae30\uc9c0\uc218",unit:"",list:["0~50","51~100","101~250","251~"]},cate2:{name:"\ud669\uc0ac",unit:"\u338d/\u33a5",list:["0~199","200~399","400~799","800~"]},cate3:{name:"\ubbf8\uc138\uba3c\uc9c0",unit:"\u338d/\u33a5",list:["0~30","31~80","81~150","151~"]},cate4:{name:"\uc624\uc874",unit:"ppm",list:["0~0.03","0.031~0.09","0.091~0.15","0.151~"]},cate5:{name:"\uc774\uc0b0\ud654\uc9c8\uc18c",unit:"ppm",list:["0~0.03","0.031~0.06","0.061~0.2","0.201~"]},cate6:{name:"\uc77c\uc0b0\ud654\ud0c4\uc18c",
unit:"ppm",list:["0~0.2","0.201~0.9","0.901~1.5","1.501~"]},cate7:{name:"\uc544\ud669\uc0b0\uac00\uc2a4",unit:"ppm",list:["0~0.02","0.021~0.05","0.051~0.15","0.151~"]}};define("view/LayerLegendView",["map/Map","jquery"],R(Ic));Bb.disposeAll=function(){jQuery("body").find(">.LoadingView").remove();Application.isLoadingViewShow=false};qa.DISTANCE=0;qa.AREA=1;qa.CLEAR=2;qa.MAX_LEVEL=14;qa.DEFAULT_TOP=3;qa.RADIUS=4;qa.NEWPLACE=5;qa.NEWPLACE_INFO_CLOSE=6;define("view/MapControlView",["map/Map","jquery"],
R(qa));"use strict";define("view/MapShareToolBoxView",["dom/forefront","controller/RoughMapFrameController","controller/MapToolController"],R(function(a,b,c){function d(a){var b=a,c=A.open("","","width=580, height=255, resizable=no, scrollbars=yes, status=no"),b=Object.keys(b).map(function(a){return a+"="+(""+b[a]).replace(/&/g,"%26")}).join("&");require("server").shortUrl({param:b},function(a){a=a.text("dkey");a={url:require("url").DMAPS_DISPATCH+"/"+a,text:k};a=g+"?"+jQuery.param(a);c.location.href=
a})}function e(){l&&l.remove();l=null;m=k=""}function f(a){var f={urlX:a.x,urlY:a.y};a.confirmid?f.itemId=a.confirmid:f.q=a.name;k=a.name;m=location.href.replace(/[?#].*/,"")+"?"+jQuery.param(f);var g=G("MapShareToolBox");g.$("copyUrl").click(function(){e();c.copyUrlWithData(f);q.click("sharetool","url")});g.$("roughMap").click(function(){e();b.open(a);q.click("sharetool","map")});g.$("twitter").click(function(){d(f);q.click("sharetool","twitter")});g.$("facebook").click(function(){var a=j+"?"+jQuery.param({s:100,
"p[titlt]":k,"p[url]":m});A.open(a,"","width=580, height=255, resizable=no, scrollbars=no, status=no");q.click("sharetool","facebook")});return g}var g="http://twitter.com/share",j="http://www.facebook.com/sharer/sharer.php",l=null,k="",m="";this.open=function(b,c){e();l=f(c);a.create(l,{position:b});if(l&&Application){var d=jQuery(A).height(),g=l.offset().top+250;g>d&&Application.map.panBy(0,g-d)}}}));Xb.createBus=function(){return(new Xb("BUSNUMBER")).getPane()};Xb.createBusName=function(){return(new Xb("BUSSTOP")).getPane()};
Wa.CAR="CAR";Wa.TRANSIT="TRANSIT";Wa.WALK="WALK";Wa.createCar=function(a,b){var c=new Wa(Wa.CAR),d='\uae38\ucc3e\uae30<span class="textColor"> \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span>';switch(a){case "SAME_POINT":d='<span class="textColor">\ucd9c\ubc1c\uc9c0</span>\uc640 <span class="textColor">\ub3c4\ucc29\uc9c0</span>\uac00 \ub3d9\uc77c\ud569\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';break;case "START_LINK_NOT_FOUND":d='<span class="textColor">\ucd9c\ubc1c\uc9c0</span> \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';
break;case "END_LINK_NOT_FOUND":d='<span class="textColor">\ub3c4\ucc29\uc9c0</span> \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';break;case "VIA_LINK_NOT_FOUND":d='<span class="textColor">\uacbd\uc720\uc9c0</span> \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.'}b.routeType="car";b.noResult=true;b.searchInfo={mode:"car",searchMode:b.method,option:b.option};
b.noResultData={start:{name:b.origin.name,x:b.origin.coords.getX(),y:b.origin.coords.getY()},end:{name:b.dest.name,x:b.dest.coords.getX(),y:b.dest.coords.getY()}};b.waypoints=Application.flagSearchController.getWaypoints();jQuery(b.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});c.setTitle(d);c.setFiyData({type:"route",rawInfo:b});return c};Wa.createTransit=function(a,b){var c=new Wa(Wa.TRANSIT),d='\uae38\ucc3e\uae30<span class="textColor"> \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span>';
switch(a){case "EQUAL_POINTS":d='<span class="textColor">\ucd9c\ubc1c\uc9c0</span>\uc640 <span class="textColor">\ub3c4\ucc29\uc9c0</span>\uac00 \ub3d9\uc77c\ud569\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';break;case "STARTNODES_NULL":d='<span class="textColor">\ucd9c\ubc1c\uc9c0</span> \uc8fc\ubcc0 \uc774\uc6a9\uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';break;case "ENDNODES_NULL":d='<span class="textColor">\ub3c4\ucc29\uc9c0</span> \uc8fc\ubcc0 \uc774\uc6a9\uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';
break;case "NODES_NULL":d='<span class="textColor">\ucd9c\ubc1c\uc9c0</span> \uc8fc\ubcc0 \uc774\uc6a9\uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';break;case "TOO_NEAR_POINTS":d='\ud574\ub2f9 \uad6c\uac04\uc740<span class="textColor"> \ub3c4\ubcf4\ub97c \uc774\uc6a9</span>\ud558\ub294 \uac83\uc774 </br> \ub300\uc911\uad50\ud1b5\uc744 \uc774\uc6a9\ud558\ub294 \uac83 \ubcf4\ub2e4 \ube60\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.'}var e=
{routeType:"public",noResult:true};e.noResultData={start:{name:b[0].name,x:b[0].coords.getX(),y:b[0].coords.getY()},end:{name:b[b.length-1].name,x:b[b.length-1].coords.getX(),y:b[b.length-1].coords.getY()}};e.waypoints=b;jQuery(e.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});c.setTitle(d);c.setFiyData({type:"route",rawInfo:e});return c};Wa.createWalk=function(){var a=new Wa(Wa.WALK);a.setTitle('\uae38\ucc3e\uae30<span class="textColor"> \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span>');
return a};Wa.getNoWalkResultByType=function(a){var b='\uae38\ucc3e\uae30<span class="textColor"> \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span>';switch(a){case "SAME_POINT":b='<span class="textColor">\ucd9c\ubc1c\uc9c0</span>\uc640 <span class="textColor">\ub3c4\ucc29\uc9c0</span>\uac00 \ub3d9\uc77c\ud569\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.';break;case "START_LINK_NOT_FOUND":case "END_LINK_NOT_FOUND":case "ROUTE_RESULT_NOT_FOUND":b='\ub3c4\ubcf4\uae38\ucc3e\uae30\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uc9c0\uc5ed\uc785\ub2c8\ub2e4.<br/><a href="http://blog.daum.net/daummaps/495" target="_blank" class="textColor">\ub3c4\ubcf4 \uae38\ucc3e\uae30 \uc81c\uacf5\uc9c0\uc5ed \uc548\ub0b4</a>';
break;case "TOO_FAR_AWAY":b='\uc9c1\uc120\uac70\ub9ac\uac00 <span class="textColor">30km</span> \uc774\ub0b4\uc778 \uacbd\uc6b0\uc5d0 \ud55c\ud558\uc5ec<br/>\ub3c4\ubcf4\uae38\ucc3e\uae30 \uacb0\uacfc\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.'}return b};Sa.prototype.base_=0;Sa.prototype.pages_=1;Sa.prototype.updateRange_=function(){var a=this.base_,b=this.pages_;this.prev_.setVisible(a>1);this.next_.setVisible(a+5<b);[this.btn1_,this.btn2_,this.btn3_,this.btn4_,this.btn5_].forEach(function(c,d){c.setVisible(a+
d<b);var e=a+d+1;c.setText(e);e>99?c.addClass("WIDE"):c.removeClass("WIDE")})};Sa.prototype.updateButton_=function(a){[this.btn1_,this.btn2_,this.btn3_,this.btn4_,this.btn5_].forEach(function(b,c){var d=this.base_+c+1;if(a==d&&b.hasClass("WIDE"))b.addClass("WIDE-ACTIVE");else{b.removeClass("WIDE-ACTIVE");b.setActive(a==d)}},this)};Sa.prototype.update_=function(a){this.updateButton_(a);this.onPage.notify(a)};Sa.prototype.setTotal=function(a){if(a>1){this.panel_.show();this.pages_=Math.max(1,Math.ceil(a));
this.updateRange_()}else this.panel_.hide()};Sa.prototype.setPage=function(a){a=Math.max(1,Math.min(this.pages_,a));this.base_=((a-1)/5|0)*5;this.updateRange_();this.updateButton_(a)};Sa.prototype.showPrev5_=function(){this.base_=Math.max(0,this.base_-5);this.updateRange_();this.update_(this.base_+1)};Sa.prototype.showNext5_=function(){this.base_=Math.min(((this.pages_-1)/5|0)*5,this.base_+5);this.updateRange_();this.update_(this.base_+1)};Sa.prototype.showPage1_=function(){this.update_(this.base_+
1)};Sa.prototype.showPage2_=function(){this.update_(this.base_+2)};Sa.prototype.showPage3_=function(){this.update_(this.base_+3)};Sa.prototype.showPage4_=function(){this.update_(this.base_+4)};Sa.prototype.showPage5_=function(){this.update_(this.base_+5)};Ja.prototype.clickHandler_=function(a){var b="";if(this.placeModel)b=this.placeModel.name;b={name:b,confirmid:this.confirmId_,cpg:this.dssPlaceObj.cpg+","+this.index_,tab:this.dssPlaceObj.tab,in_map:this.dssPlaceObj.in_map,sorttype:this.dssPlaceObj.sorttype,
mkey:this.dssPlaceObj.mkey};b.analysis=this.dssPlaceObj.analysis;if(this.dssPlaceObj.srcid)b.srcid=this.dssPlaceObj.srcid;if(this.dssPlaceObj.cidx!=void 0)b.cidx=this.dssPlaceObj.cidx;a?t.logPathSearchOutWithArgs(a,b):t.logPathSearchOutWithArgs("_",b);this.click_()};Ja.prototype.sendDssLog=function(a){this.clickHandler_(a)};Ja.prototype.setConfirmId=function(a){this.confirmId_=a};Ja.prototype.setIndex=function(a){this.index_=a;this.seq_=String.fromCharCode(this.index_+96);this.markerIndex_.addClass("ico"+
a)};Ja.prototype.setRoadview=function(a){if(a){this.roadviewData_=a;this.roadview_.show()}else this.roadview_.hide()};Ja.prototype.setCategory=function(a){this.category_.setText(String.stripTags(a))};Ja.prototype.setPhone=function(a){if(a){this.phone_.show();this.phone_.setText(a)}else this.phone_.hide()};Ja.prototype.setAddress=function(a){this.address_.setText(a)};Ja.prototype.setSubAddress=function(a){if(!this.subAddress_){this.infoPanel_.addChild(new g("br"));this.infoPanel_.addChild(new g("span",
"subAddrIcon","\uc9c0\ubc88"));this.infoPanel_.addChild(this.subAddress_=new g("span","subAddress"))}this.subAddress_.setText(a)};Ja.prototype.clickRoadview_=function(){Application.roadviewController.show(this.roadviewData_);q.click("roadview","by_start_end");try{var a=this.placeModel.coords.getX().toFixed(0),b=this.placeModel.coords.getY().toFixed(0),c=Application.localInfoController.getHCodeForLog(),d="";if(this.placeModel)d=this.placeModel.name;t.logPathSearchOutWithArgs("_roadview",{name:d,confirmid:this.confirmId_,
cpg:this.dssPlaceObj.cpg+","+this.index_,tab:this.dssPlaceObj.tab,cidx:this.dssPlaceObj.cidx,in_map:this.dssPlaceObj.in_map,sorttype:this.dssPlaceObj.sorttype,mkey:this.dssPlaceObj.mkey,region:c,panoid:this.roadviewData_.panoId,wx:a,wy:b})}catch(e){console.log(e)}};Ja.prototype.panelEnter_=function(){this.panel_.addClass("PlaceFlagItem-HOVER");this.hover_=true;this.onOver.notify();this.active_||this.flagInfoLayer_.setVisible(true)};Ja.prototype.panelLeave_=function(){this.panel_.removeClass("PlaceFlagItem-HOVER");
this.hover_=false;this.onOut.notify();this.active_||this.flagInfoLayer_.setVisible(false)};Ja.prototype.setHover=function(a){a?this.panelEnter_():this.panelLeave_()};Ja.prototype.applyHightlight_=function(){this.panel_.setClass("PlaceFlagItem-ACTIVE",this.active_);this.flagInfoLayer_.setVisible(false);this.dupItems&&this.dupItems.forEach(function(a){a.setActive(false)},this)};Ja.prototype.setActive=function(a){this.active_=!!a;this.applyHightlight_()};Ja.prototype.setPointIcon=function(){};Ja.prototype.setDupData=
function(a){if(a){this.panel_.addClass("PlaceFlagItem-DUP");var b=G("DupListView");b.show();b.$("dup_cnt").text(a.length);b.$("dupToggle").click(function(){b.$("duplist").toggle();jQuery(this).toggleClass("on")});b.mouseenter(function(){this.flagInfoLayer_.setVisible(false)}.bind(this));b.mouseleave(function(){this.active_||this.flagInfoLayer_.setVisible(true)}.bind(this));activeDupItem=null;var c=b.$("duplist");c.mouseenter(this.panelLeave_.bind(this));c.mouseleave(this.panelEnter_.bind(this));this.dupItems=
a.map(function(a,c){var f=new Md(a,c%2==1);f.getPane().appendTo(b.$("duplist"));f.setFlagInfoLayer(this.flagType_);f.onClick.add(function(a){this.onDupDataClick.notify(a);this.setActiveDupItem(c)},this);return f},this);this.panel_.addChild(b)}};Ja.prototype.setActiveDupItem=function(a){this.dupItems[a].setActive(true)};Ja.prototype.setIntercity=function(a,b,c){if(a){this.intercity_.show();this.intercity_.onClick.add(function(){q.click("intercity","intercity_by_mapsearch");require("server")[a]({id:b,
name:c})})}};Ja.prototype.setDssPlaceObj=function(a){this.dssPlaceObj=a};"use strict";define("view/RelatedAddressView",["jquery"],function(a){function b(b,d){var e=G("AddressItemViewSubList",d);this.onItemClick=new m;this.onFolderClick=new m;this.wrapSubList=b.$("subList");this.parentId=d.id;if(d.subList.length==1)e.$("btnFolder").hide();else e.$("btnFolder").on("click",this.onFolderClick_.bind(this));var f=e.find(".subList .txt"),f=a.makeArray(f);this.openClass=f.length>10?"openedscroll":"opened";
f.forEach(function(b,c){a(b).on("click",this.onItemClick_.bind(this,d,c))},this);e.appendTo(this.wrapSubList.show())}b.prototype.onItemClick_=function(a,b){var e=a.subList[b];e.coords&&this.onItemClick.notify({address:a,index:b,coords:e.coords,model:e})};b.prototype.onFolderClick_=function(a){this.wrapSubList.scrollTop(0);this.wrapSubList.toggleClass(this.openClass);this.onFolderClick.notify({view:this,event:a})};return b});Yc.prototype.imageclick_=function(){};Yc.prototype.overRoadViewEmptyPanel=
function(){this.onEmpty.notify("emptypanelAccess")};Aa.prototype.cctv=!1;Aa.prototype.accident=!1;Aa.prototype.gas=!1;Aa.prototype.service=!1;Aa.prototype.traffic=!1;Aa.prototype.getCctv=function(){return this.cctv};Aa.prototype.getAccident=function(){return this.accident};Aa.prototype.getGas=function(){return this.gas};Aa.prototype.getService=function(){return this.service};Aa.prototype.getTraffic=function(){return this.traffic};Aa.prototype.setCctv=function(a){this.cctv=a;this.cctvBtn_.setClass("cctvon",
a);this.onChange.notify()};Aa.prototype.setAccident=function(a){this.accident=a;this.accidentBtn_.setClass("accidenton",a);this.onChange.notify()};Aa.prototype.setGas=function(a){this.gas=a;this.gasBtn_.setClass("gason",a);this.onChange.notify()};Aa.prototype.setService=function(a){this.service=a;this.serviceBtn_.setClass("serviceon",a);this.onChange.notify()};Aa.prototype.setTraffic=function(a){if(this.traffic!==a){this.traffic=a;this.trafficBtn_.setClass("trafficon",a);this.onChange.notify()}};
Aa.prototype.clickCctv_=function(a){a.stopPropagation();this.setCctv(!this.cctv);q.click("route","go_car_CCTV")};Aa.prototype.clickAccident_=function(a){a.stopPropagation();this.setAccident(!this.accident);q.click("route","go_car_accident")};Aa.prototype.clickGas_=function(a){a.stopPropagation();this.setGas(!this.gas);q.click("route","go_car_gas_station")};Aa.prototype.clickService_=function(a){a.stopPropagation();this.setService(!this.service);q.click("route","go_car_service_station")};Aa.prototype.clickTraffic_=
function(a){a.stopPropagation();this.setTraffic(!this.traffic);q.click("route","go_car_realtraffic")};Aa.prototype.accidentClickable=function(a){this.accidentBtn_.onClick.remove(this.clickAccident_,this);if(a){this.accidentBtn_.onClick.add(this.clickAccident_,this);this.accidentBtn_.addClass("clickable")}else this.accidentBtn_.removeClass("clickable")};Aa.prototype.gasClickable=function(a){this.gasBtn_.onClick.remove(this.clickGas_,this);if(a){this.gasBtn_.onClick.add(this.clickGas_,this);this.gasBtn_.addClass("clickable")}else this.gasBtn_.removeClass("clickable")};
Aa.prototype.cctvClickable=function(a){this.cctvBtn_.onClick.remove(this.clickCctv_,this);if(a){this.cctvBtn_.onClick.add(this.clickCctv_,this);this.cctvBtn_.addClass("clickable")}else this.cctvBtn_.removeClass("clickable")};Aa.prototype.serviceClickable=function(a){this.serviceBtn_.onClick.remove(this.clickService_,this);if(a){this.serviceBtn_.onClick.add(this.clickService_,this);this.serviceBtn_.addClass("clickable")}else this.serviceBtn_.removeClass("clickable")};Aa.prototype.trafficClickable=
function(a){this.trafficBtn_.onClick.remove(this.clickTraffic_,this);if(a){this.trafficBtn_.onClick.add(this.clickTraffic_,this);this.trafficBtn_.addClass("clickable")}else this.trafficBtn_.removeClass("clickable")};define("view/RoutePoiControlView",[],R(Aa));Ta.prototype.clear=function(){this.list_.empty();this.itemView_.length=0};Ta.prototype.addItem=function(a){a=a||new this.factory_(this.buttonFactory_);a.onAction.add(this.doItem_,this);(a.getPanel?a.getPanel():a.getPane()).appendTo(this.list_);
this.itemView_.push(a);return a};Ta.prototype.setCount=function(a,b){var c=this.itemView_.length;if(c){this.panel_.show();b>c?this.more_.show():this.more_.hide()}else this.panel_.hide()};Ta.prototype.clickMore_=function(){Application.roadviewController.close();this.onMore.notify({})};Ta.prototype.doItem_=function(a){a=this.itemView_.indexOf(a);console.assert(a>=0);this.onAction.notify(a)};Ta.prototype.setIndex=function(a){a=this.itemView_[a];this.setInActive();a&&a.setActive(true)};Ta.prototype.setInActive=
function(){this.itemView_.forEach(function(a){a.setActive(false)},this)};Ta.prototype.getItemViews=function(){return this.itemView_};Ta.prototype.setVisible=function(a,b){this.panel_.toggle(a);this.more_.toggle(b)};lc.prototype.setOptions=function(a){var b=this.panel_;b.removeAllChildren();this.optionsObject=a;this.options_=a.map(function(a,d){var e=new g("li");d==0&&e.addClass("first");b.addChild(e);var f=new g("a");f.addClass(a.value==this.option_?"ACTIVE":"INACTIVE");f.setText(a.name);e.addChild(f);
if(a.list){var h=new g("div");h.addClass("sortListBox");h.addChild(f);var j=new g("ul");a.list.forEach(function(a){var b=new g("li"),c=new g("a");c.setText(a.name);c.onClick.add(function(){this.setOption(a.value);this.onOption.notify()},this);b.addChild(c);j.addChild(b)},this);h.addChild(j);h.onEnter.add(function(){h.addClass("sortListBox-HOVER")});h.onLeave.add(function(){h.removeClass("sortListBox-HOVER")});e.addChild(h)}else f.onClick.add(function(){this.setOption(a.value);this.onOption.notify()},
this);return f},this)};lc.prototype.option_=0;lc.prototype.getOption=function(){return this.option_};lc.prototype.setOption=function(a){var b=false;this.option_=a;this.optionsObject.forEach(function(c,d){var e=this.options_[d];if(a==c.value){e.setActive(true);b=true}else if(c.list)if(c.list.some(function(b){if(a==b.value){e.setText(b.name+" "+c.name);return true}return false})){e.setActive(true);b=true}else{e.setText(c.name);e.setActive(false)}else e.setActive(false)},this);if(!b){this.options_[0].setActive(true);
this.option_=this.optionsObject[0].value}};Jc.prototype.clickCloser_=function(){this.onClose.notify()};Jc.prototype.clickSwitch_=function(){this.onSwitch.notify()};Jc.prototype.handleMapFrame=function(a){a=a.innerWidth==0&&a.innerHeight==0;if(a!=this.visible_){this.panel_.setVisible(a);this.visible_=a}};Od.prototype.setKeywords=function(a){if(a&&a[0]){var b=this.list_;b.removeAllChildren();a.map(this.buildButton_,this).forEach(function(a,d){d>0&&b.addText(", ");b.addChild(a)});this.panel_.show()}else this.panel_.hide()};
Od.prototype.buildButton_=function(a){var b=new g("a");b.setText(a);b.onClick.add(function(){this.onKeyword.notify(a)},this);return b};kc.prototype.showCandidate=function(a){this.panel_.show();g.$(this.id_+".text").setText(a);this.text_=a};kc.prototype.hide=function(){this.panel_.hide()};kc.prototype.clickCandidate_=function(){this.onClick.notify(this.text_)};define("view/StartEndPointItemView",[],function(){return function(a){var b=this.onClick=new m,c=this.onOut=new m,d=this.onRoadview=new m,e=
G("StartEndPointItemView",{actionName:a.action,name:a.name,roadview:a.roadview?true:false}),f=e.$("roadview");e.$("name");e.$("icon").addClass(a.type||a.seq);a.action&&e.addClass("StartEndPointItemView-"+a.action);e.click(function(){b.notify()});if(a.roadview){var g=new Ib(f);g.setThumnail(a.roadview.thumbnail);g.onClick.add(function(){d.notify(null)});g.onOver.add(function(){roadviewActive_=true});g.onLeave.add(function(){g!=null&&(g=null);roadviewActive_=false;c.notify()})}this.setItemActive=function(){};
this.getPane=function(){return e}}});zc.prototype.clickPrint_=function(){this.onClick.notify("print")};zc.prototype.clickFavorite_=function(){this.onClick.notify("favorite")};zc.prototype.clickshowMap_=function(){this.onClick.notify("showFiy")};define("view/SubwayRouteResultView",[],R(function(){function a(a){f.forEach(function(b,c){b.setActive(a==c);a!=c&&b.setDetail(false)});b.notify(a)}var b=this.onSelected=new m,c=jQuery("#info\\.subwayInfo"),d=c.find(".firstTrainInfo");d.find(".infoClose").on("click",
function(){d.hide()});var e=c.find(".list"),f=[];this.setData=function(c){f.length=0;e.children().remove();e.removeClass("nonTimeBase");if(c){c.firstTrain?d.show():d.hide();if(c&&c.routes&&c.routes.length){g.$("info.subwayInfo").show();c.params.routingType=="NonTimeBase"&&e.addClass("nonTimeBase");c.routes.forEach(function(b,c){var d=new we(b);d.onSelected.add(function(){a(c)});e.append(d.getPanel());f.push(d)});if(f.length>0){f[0].setActive(true);b.notify(0);f.length==1&&f[0].setDetail(true)}}}}}));
Zc.prototype.showStationInfo_=function(){require("server").subwayStationInfo(this.item.id)};Zc.prototype.getPanel=function(){return this.panel_};Zc.prototype.getName=function(){return this.name_};define("view/ThemeMapItemView",[],function(){return function(a,b){var c=this.onClick=new m,d=G("ThemeMapItemView"),e=d.$("img"),f=a.src,g="";a.cpName&&a.cpName!="DAUM"&&(g=g+("["+a.cpName+"] "));a.cpProgram&&(g=g+(a.cpProgram+" - "));var j=g=jQuery("<pre>").html(g+a.title).remove().text();if(f)e.attr("src",
f);else{d.$("imgWrap").hide();d.$("para").addClass("noImage")}d.$("name").text(j).attr("title",g);d.$("region").text(a.region);d.$("count").text(a.place_cnt);var e=d.$("urlShare"),l=a.themeId;e.on("click",function(){Application.mainMapController.tool.copyUrlWithData({thememap:true,thememapId:l});Application.mainMapController.tool.setShortUrl()});d.$("like").text(a.good_cnt);(l==106||l=="106")&&d.$("infowrap").addClass("hideLike");d.hover(function(){d.addClass("ThemeMapItem-ACTIVE")},function(){d.removeClass("ThemeMapItem-ACTIVE")});
d.on("click",function(a){jQuery(a.target).hasClass("urlBtn")||c.notify(l)});b.append(d);this.show=function(){d.show()};this.hide=function(){d.hide()}}});define("view/ThemeMapPlaceItemView",[],function(){return function(a,b,c){function d(a){a?k.addClass("ThemeMapPlaceItem-HOVER"):k.removeClass("ThemeMapPlaceItem-HOVER")}function e(a){a?k.addClass("ThemeMapPlaceItem-ACTIVE"):k.removeClass("ThemeMapPlaceItem-ACTIVE")}var f=this.onOver=new m,g=this.onOut=new m,j=this.onClick=new m,l=this.onVote=new m,
k=G("ThemeMapPlaceItemView"),n=k.$("icon");a>99?n.addClass("font3"):a>9?n.addClass("font2"):n.addClass("font1");n.text(a);var q=false,n=k.$("imgWrap"),o=k.$("image"),p=jQuery("<pre>").html(b.name).remove().text(),s="";if(b.photoUrl){n.show();o.attr("src",b.photoUrl);s=String.cut(p,11)}else{n.hide();k.$("para").addClass("noImage");q=true;s=String.cut(p,18)}k.$("name").text(s).attr("title",p);var t=k.$("why"),r=b.why;t.html(String.cut(r,q?42:25));t.on("mousemove",function(a){jQuery("#titleSystemTooltip").html(r).css({top:a.pageY+
22,left:a.pageX}).show()});t.on("mouseout",function(){jQuery("#titleSystemTooltip").hide()});k.$("region").text(b.region);k.$("tip").text(b.tip_cnt);var u=k.$("good");u.text(String.formatNumber(b.good_cnt));k.$("like").on("click",function(a){a.stopPropagation();a.preventDefault();l.notify(b.placeId)});k.hover(function(){d(true);f.notify()},function(){d(false);g.notify()});k.on("click",function(){e(true);j.notify(a)});c.append(k);this.setActive=e;this.setHover=d;this.scroll=function(){jQuery("#info\\.body").scrollTop(k.position().top-
1)};this.setVote=function(a){u.text(String.formatNumber(a))};this.setHideLike=function(){k.addClass("hideLike");t.html(String.cut(r,q?52:35))}}});"use strict";define("view/ThemeMapPlaceView","map/Map view/ThemeMapPlaceItemView model/ThemeMapPlaceItem log/Tiara map/MapTileManager manager/AoiManager map/MiniTooltipManager".split(" "),R(function(a,b,c,d,e,f,g){function j(){z.css("background","none");B.children().remove();G.clear();I.length=0;L.length=0;M.length=0;s.clear();C.text("0");if(J){var d={id:J};
if(J==107||J=="107")d.sort="RECENT";require("server").thememapInfo(d,function(d){var e=d.object("info");if(e){(e=e.text("banner_pc"))&&z.css("background",'url("'+e+'")');if(d=d.array("placelist")){var f=new daum.maps.CoordsBounds;C.text(d.length);d.forEach(function(a,d){var e=new c(a),j=new b(d+1,e,B);(J==106||J=="106")&&j.setHideLike();var m=new Ed(d+1,e.coords,J,1);if(e.linecourseYN==="Y"){e.id=e.placeId;s.enablePolylineEvent();s.registerSearchResult({model:e,index:d,marker:m});s.find(e.placeId);
s.callAfterLoad(function(){G.at(I.length-1-d).setPosition(I[d].getPosition())});s.setMapEvent()}j.onOver.add(function(){m.setHover(true);s.highlight(e.placeId)});j.onOut.add(function(){m.setHover(false);s.redrawLines()});m.onOver.add(function(){j.setHover(true);s.highlight(e.placeId);if(e.linecourseYN==="Y"){e.aoiCoords=s.getMarkerPosition(e.placeId)||e.coords;g.createAoi(e)}else J>=55&&J<=57?g.createTheme(e):g.createPlace(e);g.open()});m.onOut.add(function(){j.setHover(false);s.redrawLines();g.close()});
j.onClick.add(function(){Application&&Application.roadviewController&&Application.roadviewController.close();k(d)});j.onVote.add(function(a){e.placeId==a&&l(e.placeId,d)});m.onClick.add(function(){k(d);j.scroll()});I.push(m);L.push(e);M.push(j);f.extend(e.coords)});for(e=I.length-1;e>=0;e--)G.add(I[e]);if(d.length&&!N){Application&&Application.roadviewController&&Application.roadviewController.close();a.setBounds(f)}z.find("img").on("click",function(){Application.infoWindowManager.close();G.setMarkerActive(-1);
n();a.setBounds(f)});N=false;O&&L.forEach(function(a,b){if(O==a.placeId){k(b);M[b].scroll()}});O=null}}})}}function l(a,b){require("server").thememapPlaceVote({themeid:J,confirmid:a},function(a){if(a.text("result")=="success"){a=a.object("vote");M[b].setVote(a.number("good_cnt"))}else if(a.text("result")=="fail")(a=a.object("reason"))&&a.text("code")=="FAIL_DUPLICATE"&&alert("\uc774\ubbf8 \ucd94\ucc9c\ud558\uc168\uc2b5\ub2c8\ub2e4.")})}function k(b){var c=L[b],d=M[b],e=I.length-1-b;if(c){F!=c&&n();
G.setMarkerActive(e);d.setActive(true);F=c;H=d;ja.findPlace(c.placeId,function(d){var f=G.at(e);if(d){if(d.pointExtension)if(s.getAoi(d.id)){var g=s.getCoordsBounds(d.id);g&&a.setBounds(g);s.clickListItem(d.id);s.setMarker(d.id)}else s.callAfterLoad(function(){var e=s.getCoordsBounds(d.id);e&&a.setBounds(e);f.setPosition(I[b].getPosition());Application.infoWindowManager.createPlace(d,f,+c.tip_cnt?"thememap":"");s.clickListItem.bind(s,d.id);s.setMarker(d.id)});else{a.setLevel(3);a.setCenter(d.coords)}Application.infoWindowManager.createPlace(d,
f,+c.tip_cnt?"thememap":"")}})}}function n(){H&&H.setActive(false);F=H=null}function q(){x.hide();e.set("themespring",false);e.set("themefall",false);v=0;G.hide();L.length>0&&s.clear();Application.infoWindowManager.close();jQuery("#titleSystemTooltip").hide()}function o(a){R=a;a.forEach(function(a,b){var c=jQuery('<li class="recomTheme"><div class="imgWrap"><span class="imgStroke"></span><img src="http://t1.daumcdn.net/thumb/C75x75/?fname='+a.thumbnail+'" width="131" height="118"/></div><a href="#" class="recomTitle">'+
a.title+'</a><span class="recomCount">'+(a.region||"\uc804\uad6d")+" <strong>"+a.placeCount+"</strong>\uacf3</span></li>");Q.append(c);c.on("click",function(){if(a.id){q();w.notify(a.id)}});b||c.hide()})}function p(a){if(R){var b=0;R.forEach(function(c,d){c.id==a&&(b=d)});Q.find(".recomTheme").show();Q.find(".recomTheme:eq("+b+")").hide()}}var s=f.getController(f.KEY.SEARCH);s.onAoiMousedown.add(function(a){k(a.index)},s);var v=0,r=false;daum.maps.MapTypeId.THEMESPRING||daum.maps.Tileset.add("THEMESPRING",
new daum.maps.Tileset(256,256,function(a,b,c){return"http://static.ndm.daum.net/mapserver/ndm_season"+v+"/L"+c+"/"+b+"/"+a+".png"},[new daum.maps.TilesetCopyright('<span style="font-size: 11px;font-family: Dotum, sans-serif;letter-spacing: -1px;">\u24d2 \uae30\uc0c1\uccad<span>')],true));e.setId("themespring",daum.maps.MapTypeId.THEMESPRING);daum.maps.event.addListener(a,"zoom_changed",function(){if(v&&I.length)if(!r&&a.getLevel()>12){I.forEach(function(a){a.setClass("customsmall",true)});r=true}else if(r&&
a.getLevel()<13){I.forEach(function(a){a.setClass("customsmall",false)});r=false}});daum.maps.MapTypeId.THEMEFALL||daum.maps.Tileset.add("THEMEFALL",new daum.maps.Tileset(256,256,function(a,b,c){return"http://static.ndm.daum.net/mapserver/ndm_season/L"+c+"/"+b+"/"+a+".png?v=2015"},[new daum.maps.TilesetCopyright('<span style="font-size: 11px;font-family: Dotum, sans-serif;letter-spacing: -1px;">\u24d2 \uae30\uc0c1\uccad<span>')],true));e.setId("themefall",daum.maps.MapTypeId.THEMEFALL);var u=this.onThemeMore=
new m,w=this.onThemeClick=new m,x=jQuery("#info\\.thememap\\.placeview"),z=x.find(".title"),f=x.find(".share"),A=x.find(".title span");f.on("click",function(a){Application.mainMapController.tool.copyUrl(a);Application.mainMapController.tool.setShortUrl()});var B=jQuery("#info\\.thememap\\.place\\.list"),C=jQuery("#info\\.thememap\\.place\\.cnt");x.find(".themeMore").on("click",function(){u.notify()});var H=null,F=null,G=new ta(a),I=[],L=[],M=[],J="",N=false,O=null,Q=jQuery("#info\\.thememap\\.recommend\\.list"),
R=null;this.setThemeId=function(a){J=a;j();A.children().remove();J==106||J=="106"||A.append(jQuery('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fplace.map.daum.net%2Ftheme%2Fmain%3Fid%3D'+J+'&amp;height=23&amp;colorscheme=light&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;send=false"  scrolling="no" frameborder="0" style="border:none; overflow:hidden; width: 120px; height:20px;" allowTransparency="true"></iframe>'));p(J)};this.getThemeId=function(){return J};
this.show=function(){x.show();if(J=="55"||J=="56"||J=="57"){v&&e.set("themespring",false);switch(J){case "57":v=1;break;case "56":v=2;break;case "55":v=3}e.set("themespring",true)}else e.set("themefall",J=="21");G.show();s.show();if(x.is(":visible")){d.logOnly("fake/theme/thememap_placelist_"+J);t.log("thememap_placelist_"+J)}};this.hide=function(){q()};this.setNoJump=function(){N=true};this.setSelectedId=function(a){O=a};this.setThememapPlaces=function(a){o(a)}}));"use strict";define("view/ThemeMapView",
["map/Map","view/ThemeMapItemView","model/ThemeMapItem","log/Tiara"],R(function(a,b,c,d){function e(){s.length=0;v.length=0;n.children().remove();q.text("0");require("server").thememapList({sort:p,page:0},function(a){var d=a.array("themeList"),a=a.text("total_cnt");q.text(a);jQuery("#info\\.thememap\\.placetheme\\.cnt").text(a);d.forEach(function(a){var a=new c(a),d=new b(a,n);d.onClick.add(function(a){l.notify(a)});s.push(a);v.push(d);w.indexOf(a.themeId)>-1&&d.hide()})})}function f(a){w.length=
0;u=a;a.forEach(function(a,b){var c=jQuery('<li class="recomTheme"><div class="imgWrap"><span class="imgStroke"></span><img src="http://t1.daumcdn.net/thumb/C75x75/?fname='+a.thumbnail+'" width="131" height="118"/></div><a href="#" class="recomTitle">'+a.title+'</a><span class="recomCount">'+(a.region||"\uc804\uad6d")+" <strong>"+a.placeCount+"</strong>\uacf3</span></li>");r.append(c);c.on("click",function(){a.id&&l.notify(a.id)});b?w.push(a.id):c.hide()})}function g(a){if(u){var b=w.length=0;u.forEach(function(c,
d){c.id==a?b=d:w.push(c.id)});w.length==3&&(w=w.slice(1,3));r.find(".recomTheme").show();r.find(".recomTheme:eq("+b+")").hide()}}function j(){s.forEach(function(a,b){var c=v[b];w.indexOf(a.themeId)>-1?c.hide():c.show()});var a=0;r.find(".recomTheme").height(function(b,c){a=a<c?c:a});a>180?r.removeClass("short"):r.addClass("short")}var l=this.onThemeClick=new m,k=jQuery("#info\\.thememap\\.theme"),n=jQuery("#info\\.thememap\\.theme\\.list"),q=jQuery("#info\\.thememap\\.theme\\.cnt"),o=jQuery("#info\\.thememap\\.theme\\.sort"),
p="RECENT";o.find(".recent").on("click",function(){if(!jQuery(this).hasClass("ACTIVE")){o.find("a").removeClass("ACTIVE INACTIVE");jQuery(this).addClass("ACTIVE");p="RECENT";e()}});o.find(".rank").on("click",function(){if(!jQuery(this).hasClass("ACTIVE")){o.find("a").removeClass("ACTIVE INACTIVE");jQuery(this).addClass("ACTIVE");p="RANK";e()}});var s=[],v=[],r=jQuery("#info\\.thememap\\.theme\\.recommend"),u=[],w=[];this.update=function(){e()};this.setThemeId=function(a){g(a)};this.setThememapPlaces=
function(a){f(a)};this.show=function(){k.show();if(k.is(":visible")){d.logOnly("fake/theme/thememap_list");t.log("thememap_list")}j()};this.hide=function(){k.hide()}}));"use strict";yb.THEME_SUB={"\ub9db\uc9d1":[{name:"\uc804\uccb4",id:"c9"},{name:"\uac04\uc2dd",id:"c46"},{name:"\ubd84\uc2dd",id:"c296"},{name:"\ubd80\ud398",id:"c157"},{name:"\uc220\uc9d1",id:"c83"},{name:"\uc544\uc2dc\uc544\uc74c\uc2dd",id:"c18083"},{name:"\uc591\uc2dd",id:"c26"},{name:"\uc77c\uc2dd",id:"c84"},{name:"\uc911\uc2dd",
id:"c2810"},{name:"\ud328\uc2a4\ud2b8\ud478\ub4dc",id:"c41"},{name:"\ud328\ubc00\ub9ac\ub808\uc2a4\ud1a0\ub791",id:"c123"},{name:"\ud53c\uc790",id:"c60"},{name:"\uce58\ud0a8",id:"c158"},{name:"\ud55c\uc2dd",id:"c124"}],"\uc219\ubc15":[{name:"\uc804\uccb4",id:"c122"},{name:"\ud2b9\uae09\ud638\ud154",id:"c826"},{name:"\ub9ac\uc870\ud2b8",id:"c468"},{name:"\uc77c\ubc18\ud638\ud154",id:"c513"},{name:"\ubaa8\ud154",id:"c930"},{name:"\ud39c\uc158",id:"c1005"},{name:"\uac8c\uc2a4\ud2b8\ud558\uc6b0\uc2a4",
id:"c1006"},{name:"\ucea0\ud551\uc57c\uc601",id:"c664"},{name:"\uae30\ud0c0\uc219\ubc15",id:"accommodation_etc"}],"\uc740\ud589":[{name:"\uc804\uccb4",id:"theme_bankall"},{name:"ATM",id:"c17214"},{name:"BNK\ubd80\uc0b0\uc740\ud589",id:"c1741"},{name:"KB\uad6d\ubbfc\uc740\ud589",id:"c1402"},{name:"KDB\uc0b0\uc5c5\uc740\ud589",id:"c1746"},{name:"KEB\ud558\ub098\uc740\ud589",id:"c1618"},{name:"NH\ub18d\ud611\uc740\ud589",id:"c18034"},{name:"SC\uc740\ud589",id:"c1405"},{name:"\uacbd\ub0a8\uc740\ud589",
id:"c1403"},{name:"\uad11\uc8fc\uc740\ud589",id:"c1511"},{name:"\uae30\uc5c5\uc740\ud589",id:"c1404"},{name:"\ub18d\ud611",id:"c1516"},{name:"\ub300\uad6c\uc740\ud589",id:"c1616"},{name:"\uc0c8\ub9c8\uc744\uae08\uace0",id:"c1119"},{name:"\uc218\ud611",id:"c1103"},{name:"\uc218\ud611\uc740\ud589",id:"c18038"},{name:"\uc2e0\ud55c\uc740\ud589",id:"c1743"},{name:"\uc2e0\ud611",id:"c1414"},{name:"\uc6b0\ub9ac\uc740\ud589",id:"c1744"},{name:"\uc800\ucd95\uc740\ud589",id:"c1742"},{name:"\uc804\ubd81\uc740\ud589",
id:"c1617"},{name:"\uc81c\uc8fc\uc740\ud589",id:"c1745"},{name:"\ucd95\ud611",id:"c1415"},{name:"\ud55c\uad6d\uc528\ud2f0\uc740\ud589",id:"c1620"},{name:"\uae30\ud0c0\uc740\ud589",id:"theme_banketc"}],"\ubcd1\uc6d0\uc57d\uad6d":[{name:"\uc804\uccb4",id:"theme_hospitalall"},{name:"\uc57d\uad6d",id:"theme_pharmacy"},{name:"\ud55c\uc758\uc6d0",id:"c991"},{name:"\uc885\ud569\ubcd1\uc6d0",id:"theme_hospital"},{name:"\ubcf4\uac74\uc18c",id:"c1032"},{name:"\uc815\ud615\uc678\uacfc",id:"c1139"},{name:"\ud53c\ubd80\uacfc",
id:"c1140"},{name:"\uc548\uacfc",id:"c1228"},{name:"\uc774\ube44\uc778\ud6c4\uacfc",id:"c1229"},{name:"\uc0b0\ubd80\uc778\uacfc",id:"c1524"},{name:"\uc131\ud615\uc678\uacfc",id:"c1644"},{name:"\uc18c\uc544\uacfc",id:"c1645"},{name:"\uce58\uacfc",id:"c1646"},{name:"\ub0b4\uacfc",id:"c1312"},{name:"\uc678\uacfc",id:"c1313"},{name:"\ub3d9\ubb3c\ubcd1\uc6d0",id:"c776"},{name:"\uae30\ud0c0\ubcd1\uc6d0",id:"theme_hospitaletc"}],"\uc8fc\uc720\uc18c":[{name:"\uc804\uccb4\t",id:"c1013"},{name:"\uc8fc\uc720\uc18c \uc804\uccb4",
id:"c2529"},{name:"LPG \ucda9\uc804\uc18c \uc804\uccb4",id:"c2909"},{name:"EX oil\uc8fc\uc720\uc18c",id:"c22421"},{name:"GS\uce7c\ud14d\uc2a4\uc8fc\uc720\uc18c",id:"c1348"},{name:"NC\uc624\uc77c \uc8fc\uc720\uc18c",id:"c2913"},{name:"S-oil\uc8fc\uc720\uc18c",id:"c1350"},{name:"SK\uc8fc\uc720\uc18c",id:"c1349"},{name:"\ub18d\ud611\uc8fc\uc720\uc18c",id:"c2915"},{name:"\uc54c\ub730\uc8fc\uc720\uc18c",id:"c17262"},{name:"\uc624\uc77c\ubc45\ud06c\uc8fc\uc720\uc18c",id:"c1173"},{name:"E1 LPG\ucda9\uc804\uc18c",
id:"c2912"},{name:"GS\uce7c\ud14d\uc2a4 LPG\ucda9\uc804\uc18c",id:"c2930"},{name:"S-oil LPG\ucda9\uc804\uc18c",id:"c2928"},{name:"SK LPG\ucda9\uc804\uc18c",id:"c2910"},{name:"\uc624\uc77c\ubc45\ud06c LPG\ucda9\uc804\uc18c",id:"c2929"},{name:"\uc804\uae30\ucc28 \ucda9\uc804\uc18c",id:"c18428"}],"\ubb38\ud654\uc2dc\uc124":[{name:"\uc804\uccb4",id:"theme_culture"},{name:"\uc601\ud654\uad00",id:"c589"},{name:"\ubbf8\uc220\uad00",id:"c842"},{name:"\ubc15\ubb3c\uad00",id:"c312"},{name:"\uacf5\uc5f0\uc7a5",
id:"c195"}],"\ud14c\ub9c8":[{name:"TV\ubc29\uc601\ub9db\uc9d1",id:"theme_tvfood"},{name:"100\ub300 \ucea0\ud551\uc7a5",id:"campsite_100"},{name:"100\ub300 \uacc4\uace1",id:"valley_100"},{name:"100\ub300 \ud734\uc591\ub9bc",id:"forest_100"},{name:"100\ub300 \uc12c",id:"island_100"},{name:"100\ub300 \uba85\uc0b0",id:"mountain_100"},{name:"100\ub300 \ud574\uc218\uc695\uc7a5",id:"beach_100"},{name:"\uc5ec\uac1d\uc608\ub9e4\uac00\ub2a5\uc12c",id:"reserve_island"}]};yb.THEME_POIS=[{items:[{name:"\ubc84\uc2a4",
id:"busStop",type:"bus"},{name:"\uc9c0\ud558\ucca0",id:"theme_subway",type:"sub"},{name:"\ub9db\uc9d1",id:"",type:"food"},{name:"\uc219\ubc15",id:"",type:"hotel"},{name:"\uc740\ud589",id:"",type:"bank"}]},{items:[{name:"\ubbf8\uc6a9\uc2e4",id:"c1604",type:"hair"},{name:"\uc8fc\ucc28\uc7a5",id:"c573",type:"park"},{name:"\ub300\ud615\ub9c8\ud2b8",id:"theme_bigmart",type:"mart"},{name:"\ubcd1\uc6d0\uc57d\uad6d",id:"",type:"hospital"},{name:"\uc8fc\uc720\uc18c",id:"",type:"oil"}]},{items:[{name:"\uce74\ud398",
id:"c86",type:"cafe"},{name:"\ud3b8\uc758\uc810",id:"c604",type:"cvs"},{name:"\ubb38\ud654\uc2dc\uc124",id:"",type:"culture"},{name:"\uc2a4\ud1a0\uc5b4\ubdf0",id:"stheme_01",type:"storeview"},{name:"\ud14c\ub9c8",id:"",type:"theme"}]}];define("view/ThemePoiControlView",["view/RoutePoiControlView","view/ThemePoiSubListView","controller/RoadviewController","log/Tiara"],R(yb));"use strict";define("view/ThemePoiSubListView",[],R(function(){function a(a){var c=b.find(".subPoi");c.width(a);var a=parseInt(b.css("max-height"),
10),c=c.outerWidth(),d=c+15;b.height()<a?b.css({width:c,"overflow-y":"hidden"}):b.css({width:d,"overflow-y":"scroll"})}var b=jQuery("<ul>").addClass("ThemePoiSubListView"),c=this.onClick=new m,d=this.onClear=new m,e=null,f=null,g=true;this.setData=function(e){b.empty();b.css({width:"auto","overflow-y":"scroll"});j();f=e;var g=70;e.forEach(function(a,e){var f=jQuery("<li></li>").addClass("subPoi").text(a.name).appendTo(b);jQuery("<span>").addClass("check").appendTo(f);f.click(function(b){b.stopPropagation();
f.toggleClass("subPoi_active").hasClass("subPoi_active")?c.notify({id:a.id,index:e}):d.notify()});f.hover(function(){jQuery(this).addClass("subPoi_hover")},function(){jQuery(this).removeClass("subPoi_hover")});g<f.width()&&(g=f.width())});a(g)};this.setPosition=function(a){b.css({top:a.top,left:a.left+38})};this.setActive=function(a){b.scrollTop(0);f&&f.map(function(c,d){if(c.id==a){e=b.find(".subPoi:eq("+d+")").addClass("subPoi_active");e.position()&&b.scrollTop(e.position().top-30);return true}})};
var j=this.show=function(){b.show();g=true};this.hide=function(){b.scrollTop(0);b.hide();g=false};this.getVisible=function(){return g};this.getElement=function(){return b}}));Kc.prototype.clickFavorite_=function(){this.onClick.notify("favorite")};Kc.prototype.clickPrint_=function(){this.onClick.notify("print")};Kc.prototype.clickAlook_=function(){this.onClick.notify("alook");q.click("route","go_public_once_view")};lb.prototype.setItems=function(){this.pointItemViews_.length==0&&this.route_.points.forEach(function(a,
b){var c=null,c=this.createPointItem_(a,b);this.transitlist_.addChild(c.getPane());b==this.route_.points.length-2&&c.setLast();this.pointItemViews_.push(c)},this)};lb.prototype.detail_=!1;lb.prototype.setTransitWalkItemView=function(a,b){this.pointItemViews_[a].isGroupPoints()||this.pointItemViews_[a].setItem(b)};lb.prototype.setActiveItemView=function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=null,c=typeof a.index=="object"?this.pointItemViews_[a.index.index]:this.pointItemViews_[a.index];
c.setItemActive?c.setItemActive(b):c.setActive&&c.setActive(a,b)};lb.prototype.setHighlightItemView=function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=null,c=typeof a.index=="object"?this.pointItemViews_[a.index.index]:this.pointItemViews_[a.index];c instanceof ic?c.setHighlight(a.sub,b):c.setItemHighlight(b)};lb.prototype.setDeActiveViews=function(){this.pointItemViews_.forEach(function(a,b){var c=this.pointItemViews_[b];if(c instanceof ic){c.deactivateAll();c.setDetailActive(false)}else{c.setItemActive&&
c.setItemActive(false);c.deActiveDetailRoute&&c.deActiveDetailRoute()}},this)};lb.prototype.clickSelf_=function(a){this.hasClass("TransitRouteItem-DETAIL")?jQuery(a.target).hasClass("clickArea")&&this.setDetail(false):this.setDetail(true)};lb.prototype.clickDetail_=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();this.setDetail(!this.detail_);q.click("traffic","route_detail")}};lb.prototype.createPointItem_=function(a,b){var c=null;if(a.action==C.DEPARTURE||a.action==C.ARRIVAL){c=
new (require("view/StartEndPointItemView"))(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this)}else{c=new ye(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onOver.add(function(){this.onOver.notify({index:b,sub:null})},this);c.onOut.add(function(){this.onOut.notify({index:b,sub:null})},this);c.onChildPointClick.add(function(a){this.onChildPointClick.notify({index:b,childIdx:a})},this);c.onDetailBtnForLog.add(function(){this.onDetailBtnForLog.notify()},
this)}return c};lb.prototype.setDetail=function(a){this.detail_=!!a;this.setClass("TransitRouteItem-DETAIL",this.detail_);this.removeClass("TransitRouteItem-OVER");this.detail_&&this.onDetail.notify()};lb.prototype.setActive=function(a){a=g.prototype.setActive.call(this,a);this.getActive()||this.setDetail(false);return a};eb.prototype.setItems=function(){this.pointItemViews_.length==0&&this.route_.points.forEach(function(a,b){var c=null;if(a.walk&&a.type!=N.OTHER){c=new ic(a.walkGroup);c.onDetail.add(function(a){this.onWalkDetail.notify({index:b,
sub:null,isDetail:a})},this);c.onClick.add(function(a){this.onPointClick.notify({index:b,sub:a})},this);c.onRoadview.add(function(b){Application.roadviewController.show(b);q.click("route","go_public_roadview");var c=Application.transitRouteSearchController.panel_.dssObject_;c&&t.log("path_transit_click_roadview",c.q,{tab:c.tab,mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:b.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},this);
c.onMouseover.add(function(a){this.onOver.notify({index:b,sub:a})},this);c.onMouseout.add(function(a){this.onOut.notify({index:b,sub:a})},this)}else c=this.createPointItem_(a,b);this.transitlist_.addChild(c.getPane());b==this.route_.points.length-2&&c.setLast();this.pointItemViews_.push(c)},this)};eb.prototype.detail_=!1;eb.prototype.setTransitWalkItemView=function(a,b){this.pointItemViews_[a].isGroupPoints()||this.pointItemViews_[a].setItem(b)};eb.prototype.setActiveItemView=function(a,b){this.pointItemViews_.length==
0&&this.setItems();var c=this.pointItemViews_[a.index];c.setItemActive?c.setItemActive(b):c.setActive&&c.setActive(a,b)};eb.prototype.setHighlightItemView=function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=this.pointItemViews_[a.index];c instanceof ic?c.setHighlight(a.sub,b):c.setItemHighlight(b)};eb.prototype.setDeActiveViews=function(){this.pointItemViews_.forEach(function(a,b){var c=this.pointItemViews_[b];if(c instanceof ic){c.deactivateAll();c.setDetailActive(false)}else{c.setItemActive&&
c.setItemActive(false);c.deActiveDetailRoute&&c.deActiveDetailRoute()}},this)};eb.prototype.clickSelf_=function(a){this.hasClass("TransitRouteItem-DETAIL")?jQuery(a.target).hasClass("clickArea")&&this.setDetail(false):this.setDetail(true)};eb.prototype.clickDetail_=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();this.setDetail(!this.detail_);q.click("traffic","route_detail")}};eb.prototype.createPointItem_=function(a,b){var c=null;if(a.action==N.DEPARTURE||a.action==N.ARRIVAL){c=
new (require("view/StartEndPointItemView"))(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onRoadview.add(function(){var b=a.roadview;Application.roadviewController.show(b);q.click("route","go_public_roadview");var c=Application.transitRouteSearchController.panel_.dssObject_;c&&t.log("path_transit_click_roadview",c.q,{tab:c.tab,mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:b.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},
this)}else{c=new Pd(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onRoadview.add(function(){var b=a.roadview;Application.roadviewController.show(b);q.click("route","go_public_roadview");var c=Application.transitRouteSearchController.panel_.dssObject_;c&&t.log("path_transit_click_roadview",c.q,{tab:c.tab,mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:b.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},
this);c.onOver.add(function(){this.onOver.notify({index:b,sub:null})},this);c.onOut.add(function(){this.onOut.notify({index:b,sub:null})},this)}return c};eb.prototype.animationScroll=function(){var a=jQuery("#info\\.body").scrollTop(),b=a+(this.getPosition().y-98),a=Math.abs(b-a)*0.5;jQuery("#info\\.body").animate({scrollTop:b},a,function(){})};eb.prototype.setDetail=function(a){this.detail_=!!a;this.setClass("TransitRouteItem-DETAIL",this.detail_);this.removeClass("TransitRouteItem-OVER");this.detail_&&
this.onDetail.notify()};eb.prototype.setActive=function(a){a=g.prototype.setActive.call(this,a);this.getActive()||this.setDetail(false);return a};va.prototype.setData=function(a,b){this.removeAllChildren();this.getCounts_(a,b);this.setTransitCountView_();this.setTransitRouteItem_(a,b)};va.prototype.setItems=function(){this.views_.forEach(function(a){a.setItems()})};va.prototype.getCounts_=function(a,b){var c={subway:0,bus:0,busandsubway:0,total:0},d={interbus:0,train:0,airplane:0,ferry:0,recommend:0,
total:0};a.forEach(function(a){a.transType=="SUBWAY"?c.subway++:a.transType=="BUS"?c.bus++:c.busandsubway++;c.total++});b.forEach(function(a){var b=false;a.type.split(",").forEach(function(a){if(a=="EXPRESS_BUS"||a=="INTERCITY_BUS"){if(!b){d.interbus++;b=true}}else a=="TRAIN"?d.train++:a=="AIRPLANE"?d.airplane++:a=="FERRY"&&d.ferry++});a.recommend&&d.recommend++;d.total++});return this.counts_={inner:c,outer:d,innerArr:[c.bus,c.subway,c.busandsubway,c.total],outerArr:[d.interbus,d.train,d.airplane,
d.ferry,d.recommend,d.total]}};va.prototype.setTransitCountView_=function(){var a=this.counts_;this.removeClass("inoutroute");var b=[],b=[new g("li","list",["\uc2dc\ub0b4\uad50\ud1b5"]),new g("li","list",["\uc2dc\uc678\uad50\ud1b5"])];b[0].addClass("inboundtab");b[1].addClass("outboundtab");this.boundtablist_=new g("ul","boundtabs",[b[0],b[1]]);this.addChild(this.boundtablist_);var c=[],c=[new g("li","list",["\ubc84\uc2a4",new g("em","cnt",""+a.inner.bus)]),new g("li","list",["\uc9c0\ud558\ucca0",
new g("em","cnt",""+a.inner.subway)]),new g("li","list",["\ubc84\uc2a4+\uc9c0\ud558\ucca0",new g("em","cnt",""+a.inner.busandsubway)]),new g("li","list",["\uc804\uccb4",new g("em","cnt",""+a.inner.total)])];c[0].addClass("bustab");c[1].addClass("subwaytab");c[2].addClass("hybridtab");c[3].addClass("recommandtab");this.transitnumberlist_=new g("ul","transitnumberlist",[c[3],c[0],c[1],c[2]]);this.addChild(this.transitnumberlist_);var d=[],d=[new g("li","list",["\uace0\uc18d.\uc2dc\uc678",new g("em",
"cnt",""+a.outer.interbus)]),new g("li","list",["\uae30\ucc28",new g("em","cnt",""+a.outer.train)]),new g("li","list",["\ud56d\uacf5",new g("em","cnt",""+a.outer.airplane)]),new g("li","list",["\uc5ec\uac1d\uc120",new g("em","cnt",""+a.outer.ferry)]),new g("li","list",["\ucd94\ucc9c",new g("em","cnt",""+a.outer.recommend)])];d[0].addClass("interbustab");d[1].addClass("traintab");d[2].addClass("airplanetab");d[3].addClass("ferrytab");d[4].addClass("recommendtab");this.intertransitnumberlist_=new g("ul",
"intertransitnumberlist",[d[4],d[0],d[1],d[2],d[3]]);this.addChild(this.intertransitnumberlist_);var e=new fb;e.onChange.add(this.boundHandleMode_,this);b.forEach(function(a){e.add(a)});this.boundtabs_=e;var f=new fb;f.onChange.add(this.handleMode_,this);c.forEach(function(a){f.add(a)});this.tabs_=f;var h=new fb;h.onChange.add(this.interHandleMode_,this);d.forEach(function(a){h.add(a)});this.intertabs_=h;if(a.inner.total>0&&a.outer.total>0){this.addClass("inoutroute");this.boundtablist_.setClass("inbound",
this.currentBoundTab_==0);this.boundtablist_.setClass("outbound",this.currentBoundTab_==1);if(this.currentBoundTab_==0){this.transitnumberlist_.show();this.intertransitnumberlist_.hide()}else{this.transitnumberlist_.hide();this.intertransitnumberlist_.show()}c[this.currentTab_].setActive(true);d[this.currentInterTab_].setActive(true)}else if(a.inner.total>0){this.currentBoundTab_=0;this.boundtablist_.hide();this.intertransitnumberlist_.hide();c[this.currentTab_].setActive(true)}else if(a.outer.total>
0){this.currentBoundTab_=1;this.boundtablist_.hide();this.transitnumberlist_.hide();d[this.currentInterTab_].setActive(true)}a=new g("a","tranitViaInfoCloser");a.onClick.add(function(){this.transitViaInfo_.hide()},this);this.transitViaInfo_=new g("div","transitInfo",[new g("p"),a]);this.addChild(this.transitViaInfo_)};va.prototype.setViaInfoVisible=function(a){this.transitViaInfo_.setVisible(a)};va.prototype.setItemActive=function(a){this.routeItemListView_.forEach(function(a){a.setActive(false)});
if(this.currentBoundTab_==0){this.routeItemListView_[this.defaultTabIndex_[a]].setActive(true);this.counts_.innerArr[a]==1&&this.routeItemListView_[this.defaultTabIndex_[a]].setDetail(true)}else{this.routeItemListView_[this.defaultInterTabIndex_[a]].setActive(true);this.counts_.outerArr[a]==1&&this.routeItemListView_[this.defaultInterTabIndex_[a]].setDetail(true)}};va.prototype.boundHandleMode_=function(a,b){this.boundtablist_.setClass("inbound",a==0);this.boundtablist_.setClass("outbound",a==1);
this.currentBoundTab_=a;if(a==0){this.notitime.hide();this.transitnumberlist_.show();this.intertransitnumberlist_.hide();this.handleMode_(this.currentTab_,true);this.tabs_.setActive(this.currentTab_)}else{this.notitime.show();this.transitnumberlist_.hide();this.intertransitnumberlist_.show();this.interHandleMode_(this.currentInterTab_,true);this.intertabs_.setActive(this.currentInterTab_)}if(!b){var c="";switch(a){case 0:q.click("route","go_public_innercity");c="path_transit_tab_inlocal";this.dssObject_.tab=
this.dssObject_.innerTab;break;case 1:q.click("route","go_public_intercity");c="path_transit_tab_interlocal";this.dssObject_.tab=this.dssObject_.outerTab}t.log(c,this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}};va.prototype.handleMode_=function(a,b){Application.infoWindowManager.close();this.transitnumberlist_.setClass("recommand",a==3);this.transitnumberlist_.setClass("bus",a==0);this.transitnumberlist_.setClass("subway",a==1);this.transitnumberlist_.setClass("both",
a==2);this.transitTotalPanel_.setClass("recommand",a==3);this.transitTotalPanel_.setClass("bus",a==0);this.transitTotalPanel_.setClass("subway",a==1);this.transitTotalPanel_.setClass("both",a==2);this.transitTotalPanel_.setClass("interRecommend",false);this.transitTotalPanel_.setClass("interBus",false);this.transitTotalPanel_.setClass("interTrain",false);this.transitTotalPanel_.setClass("interAirplane",false);this.transitTotalPanel_.setClass("interFerry",false);this.noRoutePanel_.setClass("recommand",
a==3);this.noRoutePanel_.setClass("bus",a==0);this.noRoutePanel_.setClass("subway",a==1);this.noRoutePanel_.setClass("both",a==2);if(!b){switch(a){case 3:q.click("route","go_public_recommend");this.dssObject_.innerTab="all";break;case 0:q.click("route","go_public_bus");this.dssObject_.innerTab="bus";break;case 1:q.click("route","go_public_subway");this.dssObject_.innerTab="subway";break;case 2:q.click("route","go_public_bus_subway");this.dssObject_.innerTab="bs"}this.dssObject_.tab=this.dssObject_.innerTab;
t.log("path_transit_tab",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}this.currentTab_=a;var c=this.defaultTabIndex_[a];if(c>=0){this.setItemActive(a);this.activeRouteItemIndex_=c}this.setFirstVisible_();this.onItem.notify(c)};va.prototype.interHandleMode_=function(a,b){Application.infoWindowManager.close();this.intertransitnumberlist_.setClass("recommend",a==4);this.intertransitnumberlist_.setClass("interbus",a==0);this.intertransitnumberlist_.setClass("train",
a==1);this.intertransitnumberlist_.setClass("airplane",a==2);this.intertransitnumberlist_.setClass("ferry",a==3);this.transitTotalPanel_.setClass("recommand",false);this.transitTotalPanel_.setClass("bus",false);this.transitTotalPanel_.setClass("subway",false);this.transitTotalPanel_.setClass("both",false);this.transitTotalPanel_.setClass("interRecommend",a==4);this.transitTotalPanel_.setClass("interBus",a==0);this.transitTotalPanel_.setClass("interTrain",a==1);this.transitTotalPanel_.setClass("interAirplane",
a==2);this.transitTotalPanel_.setClass("interFerry",a==3);this.noRoutePanel_.setClass("recommand",false);this.noRoutePanel_.setClass("bus",false);this.noRoutePanel_.setClass("subway",false);this.noRoutePanel_.setClass("both",false);this.noRoutePanel_.setClass("recommend",a==4);this.noRoutePanel_.setClass("interBus",a==0);this.noRoutePanel_.setClass("interTrain",a==1);this.noRoutePanel_.setClass("interAirplane",a==2);this.noRoutePanel_.setClass("interFerry",a==3);if(!b){switch(a){case 0:q.click("route",
"go_public_expressbus");this.dssObject_.outerTab="express";break;case 1:q.click("route","go_public_train");this.dssObject_.outerTab="train";break;case 2:q.click("route","go_public_flight");this.dssObject_.outerTab="air";break;case 3:q.click("route","go_public_ship");this.dssObject_.outerTab="ship";break;case 4:this.dssObject_.outerTab="recomm"}this.dssObject_.tab=this.dssObject_.outerTab;t.log("path_transit_tab",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}this.currentInterTab_=
a;var c=this.defaultInterTabIndex_[a];if(c>=0){this.setItemActive(a);this.activeRouteItemIndex_=c}this.notitime&&(this.counts_.outerArr[a]==0?this.notitime.hide():this.notitime.show());this.setInterFirstVisible_();this.onItem.notify(c)};va.prototype.setFirstVisible_=function(){var a=["busOnly","subwayOnly","both","recommand"][this.currentTab_],b=this.transitTotalPanel_.toPane();b.find(".TransitRouteItem").removeClass("firstVisible");var c=null,c=this.currentTab_==3?b.find(".TransitRouteItem:eq(0)").addClass("firstVisible"):
b.find("."+a+":eq(0)").addClass("firstVisible");this.transitTotalPanel_.setClass("noRouteList",!c[0])};va.prototype.setInterFirstVisible_=function(){var a=["hasInterBus","hasTrain","hasAirplane","hasFerry","isRecommend"][this.currentInterTab_],b=this.transitTotalPanel_.toPane();b.find(".TransitRouteItem").removeClass("firstVisible");var c=null,c=b.find("."+a+":eq(0)").addClass("firstVisible");this.transitTotalPanel_.setClass("noRouteList",!c[0])};va.prototype.setTransitRouteItem_=function(a,b){var c=
this.transitTotalPanel_=new g("ul","TransitTotalPanel");this.defaultTabIndex_=[-1,-1,-1,0];this.defaultInterTabIndex_=[-1,-1,-1,-1,-1];var d=new fb,e=a.map(this.createItemView_,this),f=e.length;this.views_=e=e.concat(b.map(function(a,b){return this.createInterItemView_(a,b+f)},this));e.forEach(function(a){d.add(a);c.addChild(a)});this.routeItemListView_=e;var h=this.noRoutePanel_=new g("div","noTransitRoute"),e="all";if(this.counts_.inner.total>0&&!this.currentBoundTab_)this.handleMode_(this.currentTab_,
true);else if(this.counts_.outer.total>0&&this.currentBoundTab_){this.interHandleMode_(this.currentInterTab_,true);e="recomm"}this.addChild(c);this.addChild(h);this.noTransitRoute_(h,this.counts_);this.notitime=new g("div","notitime");this.addChild(this.notitime);this.currentBoundTab_!=1&&this.notitime.hide();h=new g("div","info_fixroute");this.addChild(h);var j=new g("a","ico_place link_fixroute");j.addText("\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0");h.addChild(j);j.onClick.add(function(){var a=this.routeItemListView_[this.activeRouteItemIndex_].route_.raw_.obj_;
a.routeType=this.currentBoundTab_==0?"public":"intercity";Application.fiyFrameController.open({type:"route",rawInfo:a});q.click("route","go_public_fiy")},this);h=this.counts_.inner.total+","+this.counts_.inner.bus+","+this.counts_.inner.subway+","+this.counts_.inner.busandsubway+","+this.counts_.outer.recommend+","+this.counts_.outer.interbus+","+this.counts_.outer.train+","+this.counts_.outer.airplane+","+this.counts_.outer.ferry;this.dssObject_={q:Application.flagSearchController.getWaypoints().map(function(a){return a.name+
"_"+Math.floor(a.coords.getX())+","+Math.floor(a.coords.getY())+"_"+(a.id&&a.id[0]=="P"?a.id.substring(1,8):"")}),cnt:h,innerTab:"all",outerTab:"recomm",mkey:this.mkey_,qidx:++this.dssQIndex_};this.dssObject_.tab=e;this.below_?t.log("search_path_transit",this.dssObject_.q,{cnt:this.dssObject_.cnt,tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx,btnid:this.below_}):t.log("search_path_transit",this.dssObject_.q,{cnt:this.dssObject_.cnt,tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,
qidx:this.dssObject_.qidx});this.below_=""};va.prototype.setWalkItem=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setTransitWalkItemView(a,b)};va.prototype.setActiveRouteItemView=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setActiveItemView(a,b)};va.prototype.setHighlightRouteItemView=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setHighlightItemView(a,b)};va.prototype.setRouteDeActive=function(){this.routeItemListView_[this.activeRouteItemIndex_].setDeActiveViews()};
va.prototype.noTransitRoute_=function(a,b){b.inner.subway==0&&a.addChild(new g("p","noSubway","\uc9c0\ud558\ucca0\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."));b.inner.bus==0&&a.addChild(new g("p","noBus","\ubc84\uc2a4\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."));b.inner.busandsubway==0&&a.addChild(new g("p","noHybrid","\ubc84\uc2a4 + \uc9c0\ud558\ucca0\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."));
b.outer.interbus==0&&a.addChild(new g("p","noInterbus","\uace0\uc18d.\uc2dc\uc678\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."));b.outer.train==0&&a.addChild(new g("p","noTrain","\uae30\ucc28\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."));b.outer.airplane==0&&a.addChild(new g("p","noAirplane","\ud56d\uacf5\uc73c\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."));b.outer.ferry==0&&a.addChild(new g("p","noFerry",
"\uc5ec\uac1d\uc120\uc73c\ub85c \uac00\ub294 \uacbd\ub85c\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."))};va.prototype.getModeIndex=function(){return this.currentTab_};va.prototype.getInterModeIndex=function(){return this.currentInterTab_};va.prototype.getBoundModeIndex=function(){return this.currentBoundTab_};va.prototype.setModeIndex=function(a){this.currentTab_=a==null?3:a};va.prototype.setInterModeIndex=function(a){this.currentInterTab_=a==null?4:a};va.prototype.setBoundModeIndex=function(a){this.currentBoundTab_=
a==null?0:a};va.prototype.setActiveRouteItem=function(){this.routeItemListView_[this.activeRouteItemIndex_].setDetail(true)};va.prototype.createItemView_=function(a,b){var c=new eb(a);c.onWrapOver.add(function(){this.onWrapOver.notify({index:b,type:"inner"})},this);c.onWrapOut.add(function(){this.onWrapOut.notify(b)},this);c.onOver.add(function(a){this.onOver.notify(a)},this);c.onOut.add(function(a){this.onOut.notify(a)},this);c.onDestination.add(function(a){this.onDestination.notify(a)},this);c.onClick.add(function(){if(this.activeRouteItemIndex_!=
b){this.onItem.notify(b);this.activeRouteItemIndex_=b}},this);c.onWalkDetail.add(function(a){this.onWalkDetail.notify(a)},this);c.onPointClick.add(function(a){this.onPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1);t.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetail.add(function(){this.onItemDetail.notify();
this.views_[b].setItems();if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1);t.log("path_transit_click",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);var d="both",e=2;if(a.transType=="SUBWAY"){d="subwayOnly";e=1}else if(a.transType=="BUS"){d="busOnly";e=0}c.addClass(d);this.defaultTabIndex_[e]<0&&(this.defaultTabIndex_[e]=
b);return c};va.prototype.createInterItemView_=function(a,b){var c=new lb(a);c.onWrapOver.add(function(){this.onWrapOver.notify({index:b,type:"outer"})},this);c.onWrapOut.add(function(){this.onWrapOut.notify(b)},this);c.onOver.add(function(a){this.onOver.notify(a)},this);c.onOut.add(function(a){this.onOut.notify(a)},this);c.onDestination.add(function(a){this.onDestination.notify(a)},this);c.onClick.add(function(){if(this.activeRouteItemIndex_!=b){this.onItem.notify(b);this.activeRouteItemIndex_=b}},
this);c.onWalkDetail.add(function(a){this.onWalkDetail.notify(a)},this);c.onPointClick.add(function(a){this.onPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);t.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetail.add(function(){this.onItemDetail.notify();
this.views_[b].setItems();if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);t.log("path_transit_click",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetailBtnForLog.add(function(){if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+
","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);t.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onChildPointClick.add(function(a){this.onChildPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);t.log("path_transit_click_node_node",this.dssObject_.q,
{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);a.type.split(",").forEach(function(a){var e="hasInterBus",f=0;if(a=="TRAIN"){e="hasTrain";f=1}else if(a=="AIRPLANE"){e="hasAirplane";f=2}else if(a=="FERRY"){e="hasFerry";f=3}c.addClass(e);this.defaultInterTabIndex_[f]<0&&(this.defaultInterTabIndex_[f]=b)},this);if(a.recommend){c.addClass("isRecommend");this.defaultInterTabIndex_[4]<0&&(this.defaultInterTabIndex_[4]=b)}return c};va.prototype.setMkey=
function(a){this.mkey_=a};define("view/TransitRouteResultView",[],R(va));Cb.prototype.getPanel=function(){console.assert(this.panel_.getElement);return this.panel_};define("view/WaypointBoxView",["view/WaypointInputView"],function(a){function b(b){Q(this,g,"div","WaypointBoxView");this.setValue=function(a){a&&this.removeValue_.removeClass("HIDDEN");this.valueBox_.setValue(a)};this.setSuggest=function(){this.inputView_&&this.inputView_.setSuggest()};this.idx_=b;this.onEnter.add(this.onEnter_,this);
this.onLeave.add(this.onLeave_,this);var d=new g("div","dragArea"),e=this.title_=new g("span","title");d.addChild(e);this.addChild(d);var d=this.waypointWindow_=new g("span","waypointWindow"),f=this.valueBox_=new g("input","valueBox");f.setReadonly(true);f.onClick.add(this.clickBox_,this);d.addChild(f);e=this.removeValue_=new g("a","removeValue");e.addClass("HIDDEN");e.onClick.add(function(){var a=f.getValue();this.valueBox_.setValue("");this.clickBox_();f.setValue(a)},this);d.addChild(e);this.inputView_=
a.create(b,d);this.addChild(d);b=this.removeBtn_=new g("span","remove","X");b.addClass("IR");this.addChild(b);b.onClick.add(function(){if(!Application.isLoadingViewShow){q.click("route","route_via_delete");this.onRemove.notify(this)}},this);this.onSearch=new m;this.onRemove=new m}b.prototype.onEnter_=function(){this.addClass("WaypointBoxView-ACTIVE")};b.prototype.onLeave_=function(){this.removeClass("WaypointBoxView-ACTIVE")};b.prototype.setHeading_=function(a){this.type_&&this.title_.removeClass(this.type_);
this.title_.addClass(a);this.type_=a};b.prototype.setStyle=function(a,b){a&&this.setHeading_(a);this.removeBtn_.setVisible(!!b)};b.prototype.setDisabled=function(a){a?this.valueBox_.getElement().disabled=false:this.valueBox_.getElement().disabled=true};b.prototype.setPlaceholderBox=function(a){this.valueBox_.setPlaceholder(a)};b.prototype.focusInput=function(){this.getVisible()&&this.clickBox_()};b.prototype.clickBox_=function(){this.inputView_.activate(this.idx_,this.valueBox_.getValue(),this.waypointWindow_,
function(a,b){if(a&&b=="submit"){this.onSearch.notify({view:this,keyword:a});this.valueBox_.setValue(a)}}.bind(this))};return b});define("view/WaypointInputView",["jquery","url","manager/MapSuggest","controller/HistoryController","controller/FavoriteController"],function(a,b,c,d,e){function f(f,g){function l(a){if(!t.is(a.target)&&!t.has(a.target).length){o.blur();t.hide().parent().css("position","static");s(o.val())}}function k(){focus();t.hide().parent().css("position","static");a("body").off("mousedown",
l)}function m(){k();s&&s(o.val(),"submit")}var t=a('<form class="WaypointInput HIDDEN"><input id="info.route.waypointSuggest.input'+f+'" class="input" type="text" autocomplete="off"/><input class="submit" type="submit" value=""><blockquote id="info.route.waypointSuggest.input'+f+'Suggest" class="inputSuggest"></blockquote></form>').appendTo(g),o=t.find("input.input"),p=null;t.submit(function(a){a.preventDefault();m()});var s=null;this.activate=function(b,c,d,e){waypointIdx=b;s=e;t.appendTo(d).show().parent().css("position",
"relative");o.val(c).focus().select();a("body").mousedown(l)};this.hide=function(){k()};this.setSuggest=function(){p=new c({id:"info.route.waypointSuggest.input"+f,url:b.ROUTE_SUGGEST,onSubmit:m,onSubmitHistory:function(a){a.trigger("click")},logCallback:function(a){var b=jQuery(".WaypointBoxView").length;(b=waypointIdx==0?"routesuggest_start":waypointIdx==b-1?"routesuggest_end":null)&&q.click("suggest",b,{param1:a.join("|")})}});var a=function(a){var b=jQuery(".WaypointBoxView").length-1,c=new daum.maps.Coords(a.x,
a.y),d;d=a.type=="busstop"?"B":a.type=="subwaystation"?"M":a.type=="address"?"A":"P";d=d+(a.itemid||a.key);waypointIdx==0?Application.flagSearchController.setOrigin(c,a.name,d):waypointIdx==b?Application.flagSearchController.setDestination(c,a.name,d):Application.flagSearchController.setVia(c,a.name,d)};(new Yb(d,d.POI_TYPE,p)).onItemClick.add(a);(new ve(e,p.getFavoriteTarget())).onItemClick.add(a)}}return{create:function(a,b){return new f(a,b)}}});return main}(this);